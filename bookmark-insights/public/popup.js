function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,c;function i(t,e){return t===e||(a||(a=document.createElement("a")),a.href=e,t===a.href)}function s(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.data!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}function v(t,e,n){t.classList.toggle(e,!!n)}function w(t){c=t}function k(){if(!c)throw new Error("Function called outside component initialization");return c}function $(t){k().$$.on_mount.push(t)}function E(){const t=k();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return o.slice().forEach(e=>{e.call(t,l)}),!l.defaultPrevented}return!0}}const _=[],C=[];let A=[];const T=[],B=Promise.resolve();let L=!1;function M(t){A.push(t)}const D=new Set;let F=0;function j(){if(0!==F)return;const t=c;do{try{for(;F<_.length;){const t=_[F];F++,w(t),P(t.$$)}}catch(t){throw _.length=0,F=0,t}for(w(null),_.length=0,F=0;C.length;)C.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];D.has(e)||(D.add(e),e())}A.length=0}while(_.length);for(;T.length;)T.pop()();L=!1,D.clear(),w(t)}function P(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const S=new Set;let z;function q(){z={r:0,c:[],p:z}}function N(){z.r||r(z.c),z=z.p}function O(t,e){t&&t.i&&(S.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(S.has(t))return;S.add(t),z.c.push(()=>{S.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Y(t){return void 0!==t?.length?t:Array.from(t)}function H(t,e){W(t,1,1,()=>{e.delete(t.key)})}function R(t){t&&t.c()}function U(t,n,l){const{fragment:a,after_update:c}=t.$$;a&&a.m(n,l),M(()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]}),c.forEach(M)}function I(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];A.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),A=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,e){-1===t.$$.dirty[0]&&(_.push(t),L||(L=!0,B.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,o,l,a,i,s,u=null,f=[-1]){const h=c;w(e);const m=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||h.$$.root};u&&u(m.root);let g=!1;if(m.ctx=l?l(e,o.props||{},(t,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),g&&V(e,t)),n}):[],m.update(),g=!0,r(m.before_update),m.fragment=!!a&&a(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();o.intro&&O(e.$$.fragment),U(e,o.target,o.anchor),j()}w(h)}class J{$$=void 0;$$set=void 0;$destroy(){I(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function K(t){let e,n,r,o,l=t[0].folderPath+"";return{c(){e=h("p"),n=m("üìÅ "),r=m(l),x(e,"class","text-xs text-gray-400 mt-1 truncate"),x(e,"title",o=t[0].folderPath)},m(t,o){u(t,e,o),s(e,n),s(e,r)},p(t,n){1&n&&l!==(l=t[0].folderPath+"")&&y(r,l),1&n&&o!==(o=t[0].folderPath)&&x(e,"title",o)},d(t){t&&d(e)}}}function Q(e){let n,o,l,a,c,f,b,v,w,k,$,E,_,C,A,T,B,L,M,D,F,j,P,S=e[0].title+"",z=e[0].url+"",q=et(e[0])+"",N=X(e[0].dateAdded)+"",O=e[0].folderPath&&K(e);return{c(){n=h("div"),o=h("div"),l=h("img"),c=g(),f=h("div"),b=h("h3"),v=m(S),k=g(),$=h("p"),E=m(z),C=g(),A=h("div"),T=h("span"),B=m(q),L=g(),M=h("span"),D=m(N),F=g(),O&&O.c(),i(l.src,a=tt(e[0]))||x(l,"src",a),x(l,"alt","Favicon"),x(l,"class","w-4 h-4 mt-1 flex-shrink-0"),x(b,"class","text-sm font-medium text-gray-900 truncate"),x(b,"title",w=e[0].title),x($,"class","text-xs text-gray-500 truncate mt-1"),x($,"title",_=e[0].url),x(T,"class","text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded"),x(M,"class","text-xs text-gray-400"),x(A,"class","flex items-center justify-between mt-2"),x(f,"class","flex-1 min-w-0"),x(o,"class","flex items-start space-x-3"),x(n,"class","bookmark-card bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer border border-gray-200 svelte-1oo2sed"),x(n,"role","button"),x(n,"tabindex","0")},m(t,r){u(t,n,r),s(n,o),s(o,l),s(o,c),s(o,f),s(f,b),s(b,v),s(f,k),s(f,$),s($,E),s(f,C),s(f,A),s(A,T),s(T,B),s(A,L),s(A,M),s(M,D),s(f,F),O&&O.m(f,null),j||(P=[p(n,"click",e[1]),p(n,"keydown",e[2])],j=!0)},p(t,[e]){1&e&&!i(l.src,a=tt(t[0]))&&x(l,"src",a),1&e&&S!==(S=t[0].title+"")&&y(v,S),1&e&&w!==(w=t[0].title)&&x(b,"title",w),1&e&&z!==(z=t[0].url+"")&&y(E,z),1&e&&_!==(_=t[0].url)&&x($,"title",_),1&e&&q!==(q=et(t[0])+"")&&y(B,q),1&e&&N!==(N=X(t[0].dateAdded)+"")&&y(D,N),t[0].folderPath?O?O.p(t,e):(O=K(t),O.c(),O.m(f,null)):O&&(O.d(1),O=null)},i:t,o:t,d(t){t&&d(n),O&&O.d(),j=!1,r(P)}}}function X(t){return new Date(t).toLocaleDateString()}function Z(t){chrome.tabs.create({url:t})}function tt(t){if(t.url.startsWith("http://")||t.url.startsWith("https://")){const e=t.domain.charAt(0).toUpperCase(),n=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899"];return`data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="${n[t.domain.length%n.length]}"/><text x="8" y="12" font-family="Arial" font-size="10" text-anchor="middle" fill="white" font-weight="bold">${e}</text></svg>`}switch(t.domain){case"chrome-internal":return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="%23EA4335"/><circle cx="8" cy="8" r="3" fill="white"/></svg>';case"local-file":return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="%23F59E0B"/><text x="8" y="12" font-family="Arial" font-size="10" text-anchor="middle" fill="white">üìÑ</text></svg>';case"other-protocol":return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="%236B7280"/><text x="8" y="12" font-family="Arial" font-size="10" text-anchor="middle" fill="white">‚ö°</text></svg>';default:return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="%23E5E7EB"/><text x="8" y="12" font-family="Arial" font-size="10" text-anchor="middle" fill="%236B7280">?</text></svg>'}}function et(t){switch(t.domain){case"chrome-internal":return"Chrome";case"local-file":return"Local File";case"other-protocol":return"Other";case"invalid-url":return"Invalid URL";default:return t.domain}}function nt(t,e,n){let{bookmark:r}=e;return t.$$set=t=>{"bookmark"in t&&n(0,r=t.bookmark)},[r,()=>Z(r.url),t=>"Enter"===t.key&&Z(r.url)]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class rt extends J{constructor(t){super(),G(this,t,nt,Q,l,{bookmark:0})}}function ot(e){let n,r,o;return{c(){n=h("button"),n.innerHTML='<svg class="h-5 w-5 text-gray-400 hover:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',x(n,"class","absolute inset-y-0 right-0 pr-3 flex items-center"),x(n,"type","button")},m(t,l){u(t,n,l),r||(o=p(n,"click",e[2]),r=!0)},p:t,d(t){t&&d(n),r=!1,o()}}}function lt(e){let n,o,l,a,c,i,f,m=e[0]&&ot(e);return{c(){n=h("div"),o=h("div"),o.innerHTML='<svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>',l=g(),a=h("input"),c=g(),m&&m.c(),x(o,"class","absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"),x(a,"type","text"),x(a,"placeholder","Search bookmarks by title or URL..."),x(a,"class","block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"),x(n,"class","relative mb-6")},m(t,r){u(t,n,r),s(n,o),s(n,l),s(n,a),b(a,e[0]),s(n,c),m&&m.m(n,null),i||(f=[p(a,"input",e[3]),p(a,"input",e[1])],i=!0)},p(t,[e]){1&e&&a.value!==t[0]&&b(a,t[0]),t[0]?m?m.p(t,e):(m=ot(t),m.c(),m.m(n,null)):m&&(m.d(1),m=null)},i:t,o:t,d(t){t&&d(n),m&&m.d(),i=!1,r(f)}}}function at(t,e,n){const r=E();let o,{value:l=""}=e;return t.$$set=t=>{"value"in t&&n(0,l=t.value)},[l,function(t){n(0,l=t.target.value),clearTimeout(o),o=setTimeout(()=>{r("search",{query:l})},300)},function(){n(0,l=""),r("search",{query:""})},function(){l=this.value,n(0,l)}]}class ct extends J{constructor(t){super(),G(this,t,at,lt,l,{value:0})}}async function it(){try{return(await chrome.storage.local.get(["bookmarks"])).bookmarks||[]}catch(t){return console.error("Error getting bookmarks:",t),[]}}function st(t,e,n){const r=t.slice();return r[12]=e[n],r}function ut(t,e,n){const r=t.slice();return r[15]=e[n],r}function dt(e){let n,r,o;return{c(){n=h("button"),n.textContent="Clear",x(n,"class","text-xs text-blue-600 hover:text-blue-800")},m(t,l){u(t,n,l),r||(o=p(n,"click",e[4]),r=!0)},p:t,d(t){t&&d(n),r=!1,o()}}}function ft(t){let e,n;function r(t,e){return"domain"===t[2].type?gt:"folder"===t[2].type?mt:"date"===t[2].type?ht:void 0}let o=r(t),l=o&&o(t);return{c(){e=h("div"),n=h("div"),l&&l.c(),x(n,"class","text-xs text-blue-800"),x(e,"class","mb-4 p-2 bg-blue-50 rounded-md")},m(t,r){u(t,e,r),s(e,n),l&&l.m(n,null)},p(t,e){o===(o=r(t))&&l?l.p(t,e):(l&&l.d(1),l=o&&o(t),l&&(l.c(),l.m(n,null)))},d(t){t&&d(e),l&&l.d()}}}function ht(t){let e,n="week"===t[2].value.period?"This Week":"month"===t[2].value.period?"This Month":"This Year";return{c(){e=m(n)},m(t,n){u(t,e,n)},p(t,r){4&r&&n!==(n="week"===t[2].value.period?"This Week":"month"===t[2].value.period?"This Month":"This Year")&&y(e,n)},d(t){t&&d(e)}}}function mt(t){let e,n,r=t[2].value+"";return{c(){e=m("Folder: "),n=m(r)},m(t,r){u(t,e,r),u(t,n,r)},p(t,e){4&e&&r!==(r=t[2].value+"")&&y(n,r)},d(t){t&&(d(e),d(n))}}}function gt(t){let e,n,r=t[2].value+"";return{c(){e=m("Domain: "),n=m(r)},m(t,r){u(t,e,r),u(t,n,r)},p(t,e){4&e&&r!==(r=t[2].value+"")&&y(n,r)},d(t){t&&(d(e),d(n))}}}function pt(t){let e,n,r,o,l,a=t[15]+"";function c(){return t[9](t[15])}return{c(){e=h("button"),n=m(a),x(e,"class","w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded truncate"),x(e,"title",r=t[15]),v(e,"bg-blue-50","domain"===t[2]?.type&&t[2].value===t[15]),v(e,"text-blue-700","domain"===t[2]?.type&&t[2].value===t[15])},m(t,r){u(t,e,r),s(e,n),o||(l=p(e,"click",c),o=!0)},p(o,l){t=o,1&l&&a!==(a=t[15]+"")&&y(n,a),1&l&&r!==(r=t[15])&&x(e,"title",r),5&l&&v(e,"bg-blue-50","domain"===t[2]?.type&&t[2].value===t[15]),5&l&&v(e,"text-blue-700","domain"===t[2]?.type&&t[2].value===t[15])},d(t){t&&d(e),o=!1,l()}}}function xt(t){let e,n,r,o,l=t[0].length-20+"";return{c(){e=h("div"),n=m("... and "),r=m(l),o=m(" more"),x(e,"class","text-xs text-gray-400 px-2 py-1")},m(t,l){u(t,e,l),s(e,n),s(e,r),s(e,o)},p(t,e){1&e&&l!==(l=t[0].length-20+"")&&y(r,l)},d(t){t&&d(e)}}}function yt(t){let e,n,r,o,l,a,c=t[12]+"";function i(){return t[10](t[12])}return{c(){e=h("button"),n=m("üìÅ "),r=m(c),x(e,"class","w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded truncate"),x(e,"title",o=t[12]),v(e,"bg-blue-50","folder"===t[2]?.type&&t[2].value===t[12]),v(e,"text-blue-700","folder"===t[2]?.type&&t[2].value===t[12])},m(t,o){u(t,e,o),s(e,n),s(e,r),l||(a=p(e,"click",i),l=!0)},p(n,l){t=n,2&l&&c!==(c=t[12]+"")&&y(r,c),2&l&&o!==(o=t[12])&&x(e,"title",o),6&l&&v(e,"bg-blue-50","folder"===t[2]?.type&&t[2].value===t[12]),6&l&&v(e,"text-blue-700","folder"===t[2]?.type&&t[2].value===t[12])},d(t){t&&d(e),l=!1,a()}}}function bt(t){let e,n,r,o,l=t[1].length-15+"";return{c(){e=h("div"),n=m("... and "),r=m(l),o=m(" more"),x(e,"class","text-xs text-gray-400 px-2 py-1")},m(t,l){u(t,e,l),s(e,n),s(e,r),s(e,o)},p(t,e){2&e&&l!==(l=t[1].length-15+"")&&y(r,l)},d(t){t&&d(e)}}}function vt(e){let n,o,l,a,c,i,b,w,k,$,E,_,C,A,T,B,L,M,D,F,j,P,S,z,q,N,O,W,H,R,U,I,V,G,J,K,Q=e[0].length+"",X=e[1].length+"",Z=e[2]&&dt(e),tt=e[2]&&ft(e),et=Y(e[0].slice(0,20)),nt=[];for(let t=0;t<et.length;t+=1)nt[t]=pt(ut(e,et,t));let rt=e[0].length>20&&xt(e),ot=Y(e[1].slice(0,15)),lt=[];for(let t=0;t<ot.length;t+=1)lt[t]=yt(st(e,ot,t));let at=e[1].length>15&&bt(e);return{c(){n=h("div"),o=h("div"),l=h("div"),a=h("h3"),a.textContent="Filters",c=g(),Z&&Z.c(),i=g(),tt&&tt.c(),b=g(),w=h("div"),k=h("h4"),k.textContent="Date Added",$=g(),E=h("div"),_=h("button"),_.textContent="This Week",C=g(),A=h("button"),A.textContent="This Month",T=g(),B=h("button"),B.textContent="This Year",L=g(),M=h("div"),D=h("h4"),F=m("Domains ("),j=m(Q),P=m(")"),S=g(),z=h("div");for(let t=0;t<nt.length;t+=1)nt[t].c();q=g(),rt&&rt.c(),N=g(),O=h("div"),W=h("h4"),H=m("Folders ("),R=m(X),U=m(")"),I=g(),V=h("div");for(let t=0;t<lt.length;t+=1)lt[t].c();G=g(),at&&at.c(),x(a,"class","text-sm font-medium text-gray-900"),x(l,"class","flex items-center justify-between mb-3"),x(o,"class","mb-6"),x(k,"class","text-xs font-medium text-gray-700 uppercase tracking-wide mb-2"),x(_,"class","w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded"),v(_,"bg-blue-50","date"===e[2]?.type&&"week"===e[2].value.period),v(_,"text-blue-700","date"===e[2]?.type&&"week"===e[2].value.period),x(A,"class","w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded"),v(A,"bg-blue-50","date"===e[2]?.type&&"month"===e[2].value.period),v(A,"text-blue-700","date"===e[2]?.type&&"month"===e[2].value.period),x(B,"class","w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded"),v(B,"bg-blue-50","date"===e[2]?.type&&"year"===e[2].value.period),v(B,"text-blue-700","date"===e[2]?.type&&"year"===e[2].value.period),x(E,"class","space-y-1"),x(w,"class","mb-6"),x(D,"class","text-xs font-medium text-gray-700 uppercase tracking-wide mb-2"),x(z,"class","space-y-1 max-h-48 overflow-y-auto"),x(M,"class","mb-6"),x(W,"class","text-xs font-medium text-gray-700 uppercase tracking-wide mb-2"),x(V,"class","space-y-1 max-h-48 overflow-y-auto"),x(O,"class","mb-6"),x(n,"class","w-64 bg-gray-50 border-r border-gray-200 p-4 overflow-y-auto")},m(t,r){u(t,n,r),s(n,o),s(o,l),s(l,a),s(l,c),Z&&Z.m(l,null),s(o,i),tt&&tt.m(o,null),s(n,b),s(n,w),s(w,k),s(w,$),s(w,E),s(E,_),s(E,C),s(E,A),s(E,T),s(E,B),s(n,L),s(n,M),s(M,D),s(D,F),s(D,j),s(D,P),s(M,S),s(M,z);for(let t=0;t<nt.length;t+=1)nt[t]&&nt[t].m(z,null);s(z,q),rt&&rt.m(z,null),s(n,N),s(n,O),s(O,W),s(W,H),s(W,R),s(W,U),s(O,I),s(O,V);for(let t=0;t<lt.length;t+=1)lt[t]&&lt[t].m(V,null);s(V,G),at&&at.m(V,null),J||(K=[p(_,"click",e[6]),p(A,"click",e[7]),p(B,"click",e[8])],J=!0)},p(t,[e]){if(t[2]?Z?Z.p(t,e):(Z=dt(t),Z.c(),Z.m(l,null)):Z&&(Z.d(1),Z=null),t[2]?tt?tt.p(t,e):(tt=ft(t),tt.c(),tt.m(o,null)):tt&&(tt.d(1),tt=null),4&e&&v(_,"bg-blue-50","date"===t[2]?.type&&"week"===t[2].value.period),4&e&&v(_,"text-blue-700","date"===t[2]?.type&&"week"===t[2].value.period),4&e&&v(A,"bg-blue-50","date"===t[2]?.type&&"month"===t[2].value.period),4&e&&v(A,"text-blue-700","date"===t[2]?.type&&"month"===t[2].value.period),4&e&&v(B,"bg-blue-50","date"===t[2]?.type&&"year"===t[2].value.period),4&e&&v(B,"text-blue-700","date"===t[2]?.type&&"year"===t[2].value.period),1&e&&Q!==(Q=t[0].length+"")&&y(j,Q),13&e){let n;for(et=Y(t[0].slice(0,20)),n=0;n<et.length;n+=1){const r=ut(t,et,n);nt[n]?nt[n].p(r,e):(nt[n]=pt(r),nt[n].c(),nt[n].m(z,q))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}if(t[0].length>20?rt?rt.p(t,e):(rt=xt(t),rt.c(),rt.m(z,null)):rt&&(rt.d(1),rt=null),2&e&&X!==(X=t[1].length+"")&&y(R,X),14&e){let n;for(ot=Y(t[1].slice(0,15)),n=0;n<ot.length;n+=1){const r=st(t,ot,n);lt[n]?lt[n].p(r,e):(lt[n]=yt(r),lt[n].c(),lt[n].m(V,G))}for(;n<lt.length;n+=1)lt[n].d(1);lt.length=ot.length}t[1].length>15?at?at.p(t,e):(at=bt(t),at.c(),at.m(V,null)):at&&(at.d(1),at=null)},i:t,o:t,d(t){t&&d(n),Z&&Z.d(),tt&&tt.d(),f(nt,t),rt&&rt.d(),f(lt,t),at&&at.d(),J=!1,r(K)}}}function wt(t,e,n){const r=E();let o=[],l=[],a=null;function c(t,e){n(2,a={type:t,value:e}),r("filter",{type:t,value:e})}function i(t){const e=new Date;let n;switch(t){case"week":n=new Date(e.getTime()-6048e5);break;case"month":n=new Date(e.getFullYear(),e.getMonth(),1);break;case"year":n=new Date(e.getFullYear(),0,1)}c("date",{startDate:n.getTime(),endDate:e.getTime(),period:t})}$(async()=>{try{n(0,o=await async function(){try{const t=await it();return[...new Set(t.map(t=>t.domain))].sort()}catch(t){return console.error("Error getting unique domains:",t),[]}}()),n(1,l=await async function(){try{const t=await it();return[...new Set(t.map(t=>t.folderPath).filter(t=>t))].sort()}catch(t){return console.error("Error getting unique folders:",t),[]}}())}catch(t){console.error("Error loading filters:",t)}});return[o,l,a,c,function(){n(2,a=null),r("filter",{type:"clear"})},i,()=>i("week"),()=>i("month"),()=>i("year"),t=>c("domain",t),t=>c("folder",t)]}class kt extends J{constructor(t){super(),G(this,t,wt,vt,l,{})}}function $t(t,e,n){const r=t.slice();return r[9]=e[n],r}function Et(e){let n,r;return n=new kt({}),n.$on("filter",e[7]),{c(){R(n.$$.fragment)},m(t,e){U(n,t,e),r=!0},p:t,i(t){r||(O(n.$$.fragment,t),r=!0)},o(t){W(n.$$.fragment,t),r=!1},d(t){I(n,t)}}}function _t(t){let e,n,o=[],l=new Map,a=Y(t[0]);const c=t=>t[9].id;for(let e=0;e<a.length;e+=1){let n=$t(t,a,e),r=c(n);l.set(r,o[e]=Bt(r,n))}return{c(){e=h("div");for(let t=0;t<o.length;t+=1)o[t].c();x(e,"class","space-y-3")},m(t,r){u(t,e,r);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);n=!0},p(t,n){1&n&&(a=Y(t[0]),q(),o=function(t,e,n,o,l,a,c,i,s,u,d,f){let h=t.length,m=a.length,g=h;const p={};for(;g--;)p[t[g].key]=g;const x=[],y=new Map,b=new Map,v=[];for(g=m;g--;){const t=f(l,a,g),r=n(t);let i=c.get(r);i?o&&v.push(()=>i.p(t,e)):(i=u(r,t),i.c()),y.set(r,x[g]=i),r in p&&b.set(r,Math.abs(g-p[r]))}const w=new Set,k=new Set;function $(t){O(t,1),t.m(i,d),c.set(t.key,t),d=t.first,m--}for(;h&&m;){const e=x[m-1],n=t[h-1],r=e.key,o=n.key;e===n?(d=e.first,h--,m--):y.has(o)?!c.has(r)||w.has(r)?$(e):k.has(o)?h--:b.get(r)>b.get(o)?(k.add(r),$(e)):(w.add(o),h--):(s(n,c),h--)}for(;h--;){const e=t[h];y.has(e.key)||s(e,c)}for(;m;)$(x[m-1]);return r(v),x}(o,n,c,1,t,a,l,e,H,Bt,null,$t),N())},i(t){if(!n){for(let t=0;t<a.length;t+=1)O(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)W(o[t]);n=!1},d(t){t&&d(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Ct(e){let n;function r(t,e){return t[3]?Mt:Lt}let o=r(e),l=o(e);return{c(){n=h("div"),l.c(),x(n,"class","text-center text-gray-500 p-4")},m(t,e){u(t,n,e),l.m(n,null)},p(t,e){o===(o=r(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&d(n),l.d()}}}function At(e){let n,r,o,l,a,c,i,f;return{c(){n=h("div"),r=h("p"),o=m("Error: "),l=m(e[2]),a=g(),c=h("button"),c.textContent="Retry",x(c,"class","mt-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700"),x(n,"class","text-center text-red-600 p-4")},m(t,d){u(t,n,d),s(n,r),s(r,o),s(r,l),s(n,a),s(n,c),i||(f=p(c,"click",e[5]),i=!0)},p(t,e){4&e&&y(l,t[2])},i:t,o:t,d(t){t&&d(n),i=!1,f()}}}function Tt(e){let n;return{c(){n=h("div"),n.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>',x(n,"class","flex items-center justify-center h-32")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}function Bt(t,e){let n,r,o;return r=new rt({props:{bookmark:e[9]}}),{key:t,first:null,c(){n=m(""),R(r.$$.fragment),this.first=n},m(t,e){u(t,n,e),U(r,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.bookmark=e[9]),r.$set(o)},i(t){o||(O(r.$$.fragment,t),o=!0)},o(t){W(r.$$.fragment,t),o=!1},d(t){t&&d(n),I(r,t)}}}function Lt(e){let n;return{c(){n=h("p"),n.textContent="No bookmarks found"},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function Mt(t){let e,n,r,o;return{c(){e=h("p"),n=m('No bookmarks found for "'),r=m(t[3]),o=m('"')},m(t,l){u(t,e,l),s(e,n),s(e,r),s(e,o)},p(t,e){8&e&&y(r,t[3])},d(t){t&&d(e)}}}function Dt(t){let e,n,o,l,a,c,i,f,b,v,w,k,$,E,_,C,A,T,B,L,M,D,F,j,P,S=t[0].length+"",z=1!==t[0].length?"s":"";w=new ct({}),w.$on("search",t[6]);let Y=t[4]&&Et(t);const H=[Tt,At,Ct,_t],V=[];function G(t,e){return t[1]?0:t[2]?1:0===t[0].length?2:3}return M=G(t),D=V[M]=H[M](t),{c(){e=h("div"),n=h("div"),o=h("div"),l=h("h1"),l.textContent="Bookmark Insight",a=g(),c=h("div"),i=h("button"),i.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"></path></svg>',f=g(),b=h("button"),b.textContent="Dashboard",v=g(),R(w.$$.fragment),k=g(),$=h("div"),E=m(S),_=m(" bookmark"),C=m(z),A=g(),T=h("div"),Y&&Y.c(),B=g(),L=h("div"),D.c(),x(l,"class","text-lg font-semibold text-gray-900"),x(i,"class","p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100"),x(i,"title","Toggle Filters"),x(b,"class","px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700"),x(c,"class","flex space-x-2"),x(o,"class","flex items-center justify-between mb-3"),x($,"class","text-xs text-gray-500"),x(n,"class","p-4 border-b border-gray-200 bg-gray-50"),x(L,"class","flex-1 overflow-y-auto p-4"),x(T,"class","flex flex-1 overflow-hidden"),x(e,"class","w-96 h-96 bg-white flex flex-col")},m(r,d){u(r,e,d),s(e,n),s(n,o),s(o,l),s(o,a),s(o,c),s(c,i),s(c,f),s(c,b),s(n,v),U(w,n,null),s(n,k),s(n,$),s($,E),s($,_),s($,C),s(e,A),s(e,T),Y&&Y.m(T,null),s(T,B),s(T,L),V[M].m(L,null),F=!0,j||(P=[p(i,"click",t[8]),p(b,"click",Ft)],j=!0)},p(t,[e]){(!F||1&e)&&S!==(S=t[0].length+"")&&y(E,S),(!F||1&e)&&z!==(z=1!==t[0].length?"s":"")&&y(C,z),t[4]?Y?(Y.p(t,e),16&e&&O(Y,1)):(Y=Et(t),Y.c(),O(Y,1),Y.m(T,B)):Y&&(q(),W(Y,1,1,()=>{Y=null}),N());let n=M;M=G(t),M===n?V[M].p(t,e):(q(),W(V[n],1,1,()=>{V[n]=null}),N(),D=V[M],D?D.p(t,e):(D=V[M]=H[M](t),D.c()),O(D,1),D.m(L,null))},i(t){F||(O(w.$$.fragment,t),O(Y),O(D),F=!0)},o(t){W(w.$$.fragment,t),W(Y),W(D),F=!1},d(t){t&&d(e),I(w),Y&&Y.d(),V[M].d(),j=!1,r(P)}}}function Ft(){chrome.tabs.create({url:chrome.runtime.getURL("dashboard.html")}),window.close()}function jt(t,e,n){let r=[],o=!0,l=null,a="",c=!1;async function i(){n(0,r=await it())}return $(async()=>{try{await i()}catch(t){n(2,l=t.message)}finally{n(1,o=!1)}}),[r,o,l,a,c,i,async function(t){const e=t.detail.query;n(3,a=e);try{n(1,o=!0),n(0,r=await async function(t){try{const e=await it();if(!t.trim())return e.sort((t,e)=>e.dateAdded-t.dateAdded);const n=t.toLowerCase();return e.filter(t=>t.title.toLowerCase().includes(n)||t.url.toLowerCase().includes(n)||t.domain.toLowerCase().includes(n)).sort((t,e)=>e.dateAdded-t.dateAdded)}catch(t){return console.error("Search error:",t),[]}}(e))}catch(t){n(2,l=t.message)}finally{n(1,o=!1)}},async function(t){const{type:e,value:a}=t.detail;try{switch(n(1,o=!0),e){case"clear":n(0,r=await it());break;case"domain":n(0,r=await async function(t){try{return(await it()).filter(e=>e.domain===t)}catch(t){return console.error("Error getting bookmarks by domain:",t),[]}}(a));break;case"folder":n(0,r=await async function(t){try{return(await it()).filter(e=>e.folderPath===t)}catch(t){return console.error("Error getting bookmarks by folder:",t),[]}}(a));break;case"date":n(0,r=await async function(t,e){try{return(await it()).filter(n=>n.dateAdded>=t&&n.dateAdded<=e)}catch(t){return console.error("Error getting bookmarks by date range:",t),[]}}(a.startDate,a.endDate))}}catch(t){n(2,l=t.message)}finally{n(1,o=!1)}},function(){n(4,c=!c)}]}const Pt=new class extends J{constructor(t){super(),G(this,t,jt,Dt,l,{})}}({target:document.body});export{Pt as default};
//# sourceMappingURL=popup.js.map

function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,c;function s(t,e){return t===e||(a||(a=document.createElement("a")),a.href=e,t===a.href)}function i(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}function w(t,e,n){t.classList.toggle(e,!!n)}function v(t){c=t}function k(){if(!c)throw new Error("Function called outside component initialization");return c}function $(t){k().$$.on_mount.push(t)}function E(){const t=k();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return o.slice().forEach(e=>{e.call(t,l)}),!l.defaultPrevented}return!0}}const A=[],C=[];let R=[];const _=[],M=Promise.resolve();let T=!1;function B(t){R.push(t)}const D=new Set;let L=0;function j(){if(0!==L)return;const t=c;do{try{for(;L<A.length;){const t=A[L];L++,v(t),F(t.$$)}}catch(t){throw A.length=0,L=0,t}for(v(null),A.length=0,L=0;C.length;)C.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];D.has(e)||(D.add(e),e())}R.length=0}while(A.length);for(;_.length;)_.pop()();T=!1,D.clear(),v(t)}function F(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const S=new Set;let P;function z(){P={r:0,c:[],p:P}}function O(){P.r||r(P.c),P=P.p}function N(t,e){t&&t.i&&(S.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(S.has(t))return;S.add(t),P.c.push(()=>{S.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function W(t){return void 0!==t?.length?t:Array.from(t)}function Y(t,e){q(t,1,1,()=>{e.delete(t.key)})}function H(t){t&&t.c()}function U(t,n,l){const{fragment:a,after_update:c}=t.$$;a&&a.m(n,l),B(()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]}),c.forEach(B)}function I(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];R.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),R=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,e){-1===t.$$.dirty[0]&&(A.push(t),T||(T=!0,M.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,o,l,a,s,i,d=null,f=[-1]){const g=c;v(e);const m=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(g?g.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||g.$$.root};d&&d(m.root);let h=!1;if(m.ctx=l?l(e,o.props||{},(t,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&s(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),h&&V(e,t)),n}):[],m.update(),h=!0,r(m.before_update),m.fragment=!!a&&a(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();o.intro&&N(e.$$.fragment),U(e,o.target,o.anchor),j()}v(g)}class J{$$=void 0;$$set=void 0;$destroy(){I(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function K(t){let e,n,r,o,l=t[0].folderPath+"";return{c(){e=g("p"),n=m("üìÅ "),r=m(l),x(e,"class","text-xs text-gray-400 mt-1 truncate"),x(e,"title",o=t[0].folderPath)},m(t,o){d(t,e,o),i(e,n),i(e,r)},p(t,n){1&n&&l!==(l=t[0].folderPath+"")&&b(r,l),1&n&&o!==(o=t[0].folderPath)&&x(e,"title",o)},d(t){t&&u(e)}}}function Q(e){let n,o,l,a,c,f,y,w,v,k,$,E,A,C,R,_,M,T,B,D,L,j,F,S=e[0].title+"",P=e[0].url+"",z=et(e[0])+"",O=X(e[0].dateAdded)+"",N=e[0].folderPath&&K(e);return{c(){n=g("div"),o=g("div"),l=g("img"),c=h(),f=g("div"),y=g("h3"),w=m(S),k=h(),$=g("p"),E=m(P),C=h(),R=g("div"),_=g("span"),M=m(z),T=h(),B=g("span"),D=m(O),L=h(),N&&N.c(),s(l.src,a=tt(e[0]))||x(l,"src",a),x(l,"alt","Favicon"),x(l,"class","w-4 h-4 mt-1 flex-shrink-0"),x(y,"class","text-sm font-medium text-gray-900 truncate"),x(y,"title",v=e[0].title),x($,"class","text-xs text-gray-500 truncate mt-1"),x($,"title",A=e[0].url),x(_,"class","text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded"),x(B,"class","text-xs text-gray-400"),x(R,"class","flex items-center justify-between mt-2"),x(f,"class","flex-1 min-w-0"),x(o,"class","flex items-start space-x-3"),x(n,"class","bookmark-card bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer border border-gray-200 svelte-1oo2sed"),x(n,"role","button"),x(n,"tabindex","0")},m(t,r){d(t,n,r),i(n,o),i(o,l),i(o,c),i(o,f),i(f,y),i(y,w),i(f,k),i(f,$),i($,E),i(f,C),i(f,R),i(R,_),i(_,M),i(R,T),i(R,B),i(B,D),i(f,L),N&&N.m(f,null),j||(F=[p(n,"click",e[1]),p(n,"keydown",e[2])],j=!0)},p(t,[e]){1&e&&!s(l.src,a=tt(t[0]))&&x(l,"src",a),1&e&&S!==(S=t[0].title+"")&&b(w,S),1&e&&v!==(v=t[0].title)&&x(y,"title",v),1&e&&P!==(P=t[0].url+"")&&b(E,P),1&e&&A!==(A=t[0].url)&&x($,"title",A),1&e&&z!==(z=et(t[0])+"")&&b(M,z),1&e&&O!==(O=X(t[0].dateAdded)+"")&&b(D,O),t[0].folderPath?N?N.p(t,e):(N=K(t),N.c(),N.m(f,null)):N&&(N.d(1),N=null)},i:t,o:t,d(t){t&&u(n),N&&N.d(),j=!1,r(F)}}}function X(t){return new Date(t).toLocaleDateString()}function Z(t){chrome.tabs.create({url:t})}function tt(t){if(t.url.startsWith("http://")||t.url.startsWith("https://")){const e=t.domain.charAt(0).toUpperCase(),n=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899"];return`data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="${n[t.domain.length%n.length]}"/><text x="8" y="12" font-family="Arial" font-size="10" text-anchor="middle" fill="white" font-weight="bold">${e}</text></svg>`}switch(t.domain){case"chrome-internal":return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="%23EA4335"/><circle cx="8" cy="8" r="3" fill="white"/></svg>';case"local-file":return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="%23F59E0B"/><text x="8" y="12" font-family="Arial" font-size="10" text-anchor="middle" fill="white">üìÑ</text></svg>';case"other-protocol":return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="%236B7280"/><text x="8" y="12" font-family="Arial" font-size="10" text-anchor="middle" fill="white">‚ö°</text></svg>';default:return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><rect width="16" height="16" fill="%23E5E7EB"/><text x="8" y="12" font-family="Arial" font-size="10" text-anchor="middle" fill="%236B7280">?</text></svg>'}}function et(t){switch(t.domain){case"chrome-internal":return"Chrome";case"local-file":return"Local File";case"other-protocol":return"Other";case"invalid-url":return"Invalid URL";default:return t.domain}}function nt(t,e,n){let{bookmark:r}=e;return t.$$set=t=>{"bookmark"in t&&n(0,r=t.bookmark)},[r,()=>Z(r.url),t=>"Enter"===t.key&&Z(r.url)]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class rt extends J{constructor(t){super(),G(this,t,nt,Q,l,{bookmark:0})}}function ot(e){let n,r,o;return{c(){n=g("button"),n.innerHTML='<svg class="h-5 w-5 text-gray-400 hover:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',x(n,"class","absolute inset-y-0 right-0 pr-3 flex items-center"),x(n,"type","button")},m(t,l){d(t,n,l),r||(o=p(n,"click",e[2]),r=!0)},p:t,d(t){t&&u(n),r=!1,o()}}}function lt(e){let n,o,l,a,c,s,f,m=e[0]&&ot(e);return{c(){n=g("div"),o=g("div"),o.innerHTML='<svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>',l=h(),a=g("input"),c=h(),m&&m.c(),x(o,"class","absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"),x(a,"type","text"),x(a,"placeholder","Search bookmarks by title or URL..."),x(a,"class","block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"),x(n,"class","relative mb-6")},m(t,r){d(t,n,r),i(n,o),i(n,l),i(n,a),y(a,e[0]),i(n,c),m&&m.m(n,null),s||(f=[p(a,"input",e[3]),p(a,"input",e[1])],s=!0)},p(t,[e]){1&e&&a.value!==t[0]&&y(a,t[0]),t[0]?m?m.p(t,e):(m=ot(t),m.c(),m.m(n,null)):m&&(m.d(1),m=null)},i:t,o:t,d(t){t&&u(n),m&&m.d(),s=!1,r(f)}}}function at(t,e,n){const r=E();let o,{value:l=""}=e;return t.$$set=t=>{"value"in t&&n(0,l=t.value)},[l,function(t){n(0,l=t.target.value),clearTimeout(o),o=setTimeout(()=>{r("search",{query:l})},300)},function(){n(0,l=""),r("search",{query:""})},function(){l=this.value,n(0,l)}]}class ct extends J{constructor(t){super(),G(this,t,at,lt,l,{value:0})}}async function st(){try{return(await chrome.storage.local.get(["bookmarks"])).bookmarks||[]}catch(t){return console.error("Error getting bookmarks:",t),[]}}function it(t,e,n){const r=t.slice();return r[25]=e[n],r}function dt(t,e,n){const r=t.slice();return r[28]=e[n],r}function ut(t,e,n){const r=t.slice();return r[25]=e[n],r}function ft(t,e,n){const r=t.slice();return r[33]=e[n],r}function gt(t){let e,n,r,o,l,a,c,s,f=t[33]+"";function y(){return t[12](t[33])}return{c(){e=g("div"),n=g("div"),r=m("Domain: "),o=m(f),l=h(),a=g("button"),a.textContent="√ó",x(n,"class","text-xs text-blue-800"),x(a,"class","text-blue-600 hover:text-blue-800"),x(e,"class","flex items-center justify-between p-2 bg-blue-50 rounded-md")},m(t,u){d(t,e,u),i(e,n),i(n,r),i(n,o),i(e,l),i(e,a),c||(s=p(a,"click",y),c=!0)},p(e,n){t=e,4&n[0]&&f!==(f=t[33]+"")&&b(o,f)},d(t){t&&u(e),c=!1,s()}}}function mt(t){let e,n,r,o,l,a,c,s,f=t[25]+"";function y(){return t[13](t[25])}return{c(){e=g("div"),n=g("div"),r=m("Folder: "),o=m(f),l=h(),a=g("button"),a.textContent="√ó",x(n,"class","text-xs text-green-800"),x(a,"class","text-green-600 hover:text-green-800"),x(e,"class","flex items-center justify-between p-2 bg-green-50 rounded-md")},m(t,u){d(t,e,u),i(e,n),i(n,r),i(n,o),i(e,l),i(e,a),c||(s=p(a,"click",y),c=!0)},p(e,n){t=e,4&n[0]&&f!==(f=t[25]+"")&&b(o,f)},d(t){t&&u(e),c=!1,s()}}}function ht(t){let e,n,r,o,l,a,c,s="week"===t[2].dateRange.period?"This Week":"month"===t[2].dateRange.period?"This Month":"This Year";return{c(){e=g("div"),n=g("div"),r=m(s),o=h(),l=g("button"),l.textContent="√ó",x(n,"class","text-xs text-purple-800"),x(l,"class","text-purple-600 hover:text-purple-800"),x(e,"class","flex items-center justify-between p-2 bg-purple-50 rounded-md")},m(s,u){d(s,e,u),i(e,n),i(n,r),i(e,o),i(e,l),a||(c=p(l,"click",t[14]),a=!0)},p(t,e){4&e[0]&&s!==(s="week"===t[2].dateRange.period?"This Week":"month"===t[2].dateRange.period?"This Month":"This Year")&&b(r,s)},d(t){t&&u(e),a=!1,c()}}}function pt(t){let e,n,r=kt(t[28].dateAdded||t[28].latestDate)+"";return{c(){e=g("span"),n=m(r)},m(t,r){d(t,e,r),i(e,n)},p(t,e){8&e[0]&&r!==(r=kt(t[28].dateAdded||t[28].latestDate)+"")&&b(n,r)},d(t){t&&u(e)}}}function xt(t){let e,n,r,o,l,a,c,s,f,y,v,k,$,E=t[28].domain+"",A=t[28].count+"",C=1!==t[28].count?"s":"",R="recency"===t[0]&&pt(t);function _(){return t[20](t[28])}return{c(){e=g("button"),n=g("div"),r=m(E),o=h(),l=g("div"),a=g("span"),c=m(A),s=m(" bookmark"),f=m(C),y=h(),R&&R.c(),x(n,"class","truncate font-medium"),x(l,"class","flex justify-between items-center text-xs text-gray-500 mt-1"),x(e,"class","w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded border"),x(e,"title",v=t[28].domain),w(e,"bg-blue-50",t[2].domains.includes(t[28].domain)),w(e,"text-blue-700",t[2].domains.includes(t[28].domain)),w(e,"border-blue-200",t[2].domains.includes(t[28].domain)),w(e,"text-gray-600",!t[2].domains.includes(t[28].domain)),w(e,"border-transparent",!t[2].domains.includes(t[28].domain))},m(t,u){d(t,e,u),i(e,n),i(n,r),i(e,o),i(e,l),i(l,a),i(a,c),i(a,s),i(a,f),i(l,y),R&&R.m(l,null),k||($=p(e,"click",_),k=!0)},p(n,o){t=n,8&o[0]&&E!==(E=t[28].domain+"")&&b(r,E),8&o[0]&&A!==(A=t[28].count+"")&&b(c,A),8&o[0]&&C!==(C=1!==t[28].count?"s":"")&&b(f,C),"recency"===t[0]?R?R.p(t,o):(R=pt(t),R.c(),R.m(l,null)):R&&(R.d(1),R=null),8&o[0]&&v!==(v=t[28].domain)&&x(e,"title",v),12&o[0]&&w(e,"bg-blue-50",t[2].domains.includes(t[28].domain)),12&o[0]&&w(e,"text-blue-700",t[2].domains.includes(t[28].domain)),12&o[0]&&w(e,"border-blue-200",t[2].domains.includes(t[28].domain)),12&o[0]&&w(e,"text-gray-600",!t[2].domains.includes(t[28].domain)),12&o[0]&&w(e,"border-transparent",!t[2].domains.includes(t[28].domain))},d(t){t&&u(e),R&&R.d(),k=!1,$()}}}function bt(t){let e,n,r,o,l=t[3].length-30+"";return{c(){e=g("div"),n=m("... and "),r=m(l),o=m(" more"),x(e,"class","text-xs text-gray-400 px-2 py-1")},m(t,l){d(t,e,l),i(e,n),i(e,r),i(e,o)},p(t,e){8&e[0]&&l!==(l=t[3].length-30+"")&&b(r,l)},d(t){t&&u(e)}}}function yt(t){let e,n,r,o,l,a,c,s=t[25]+"";function f(){return t[21](t[25])}return{c(){e=g("button"),n=g("span"),r=m("üìÅ "),o=m(s),x(n,"class","truncate"),x(e,"class","w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded border"),x(e,"title",l=t[25]),w(e,"bg-green-50",t[2].folders.includes(t[25])),w(e,"text-green-700",t[2].folders.includes(t[25])),w(e,"border-green-200",t[2].folders.includes(t[25])),w(e,"text-gray-600",!t[2].folders.includes(t[25])),w(e,"border-transparent",!t[2].folders.includes(t[25]))},m(t,l){d(t,e,l),i(e,n),i(n,r),i(n,o),a||(c=p(e,"click",f),a=!0)},p(n,r){t=n,2&r[0]&&s!==(s=t[25]+"")&&b(o,s),2&r[0]&&l!==(l=t[25])&&x(e,"title",l),6&r[0]&&w(e,"bg-green-50",t[2].folders.includes(t[25])),6&r[0]&&w(e,"text-green-700",t[2].folders.includes(t[25])),6&r[0]&&w(e,"border-green-200",t[2].folders.includes(t[25])),6&r[0]&&w(e,"text-gray-600",!t[2].folders.includes(t[25])),6&r[0]&&w(e,"border-transparent",!t[2].folders.includes(t[25]))},d(t){t&&u(e),a=!1,c()}}}function wt(t){let e,n,r,o,l=t[1].length-15+"";return{c(){e=g("div"),n=m("... and "),r=m(l),o=m(" more"),x(e,"class","text-xs text-gray-400 px-2 py-1")},m(t,l){d(t,e,l),i(e,n),i(e,r),i(e,o)},p(t,e){2&e[0]&&l!==(l=t[1].length-15+"")&&b(r,l)},d(t){t&&u(e)}}}function vt(e){let n,o,l,a,c,s,y,v,k,$,E,A,C,R,_,M,T,B,D,L,j,F,S,P,z,O,N,q,Y,H,U,I,V,G,J,K,Q,X,Z,tt,et,nt,rt=e[8](),ot=e[8](),lt=e[3].length+"",at=e[1].length+"",ct=rt&&function(e){let n,r,o;return{c(){n=g("button"),n.textContent="Clear All",x(n,"class","text-xs text-blue-600 hover:text-blue-800")},m(t,l){d(t,n,l),r||(o=p(n,"click",e[6]),r=!0)},p:t,d(t){t&&u(n),r=!1,o()}}}(e),st=ot&&function(t){let e,n,r,o=W(t[2].domains),l=[];for(let e=0;e<o.length;e+=1)l[e]=gt(ft(t,o,e));let a=W(t[2].folders),c=[];for(let e=0;e<a.length;e+=1)c[e]=mt(ut(t,a,e));let s=t[2].dateRange&&ht(t);return{c(){e=g("div");for(let t=0;t<l.length;t+=1)l[t].c();n=h();for(let t=0;t<c.length;t+=1)c[t].c();r=h(),s&&s.c(),x(e,"class","mb-4 space-y-2")},m(t,o){d(t,e,o);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null);i(e,n);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);i(e,r),s&&s.m(e,null)},p(t,i){if(20&i[0]){let r;for(o=W(t[2].domains),r=0;r<o.length;r+=1){const a=ft(t,o,r);l[r]?l[r].p(a,i):(l[r]=gt(a),l[r].c(),l[r].m(e,n))}for(;r<l.length;r+=1)l[r].d(1);l.length=o.length}if(36&i[0]){let n;for(a=W(t[2].folders),n=0;n<a.length;n+=1){const o=ut(t,a,n);c[n]?c[n].p(o,i):(c[n]=mt(o),c[n].c(),c[n].m(e,r))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}t[2].dateRange?s?s.p(t,i):(s=ht(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&u(e),f(l,t),f(c,t),s&&s.d()}}}(e),pt=W(e[3].slice(0,30)),vt=[];for(let t=0;t<pt.length;t+=1)vt[t]=xt(dt(e,pt,t));let kt=e[3].length>30&&bt(e),$t=W(e[1].slice(0,15)),Et=[];for(let t=0;t<$t.length;t+=1)Et[t]=yt(it(e,$t,t));let At=e[1].length>15&&wt(e);return{c(){n=g("div"),o=g("div"),l=g("div"),a=g("h3"),a.textContent="Filters",c=h(),ct&&ct.c(),s=h(),st&&st.c(),y=h(),v=g("div"),k=g("h4"),k.textContent="Date Added",$=h(),E=g("div"),A=g("button"),A.textContent="This Week",C=h(),R=g("button"),R.textContent="This Month",_=h(),M=g("button"),M.textContent="This Year",T=h(),B=g("div"),D=g("div"),L=g("h4"),j=m("Domains ("),F=m(lt),S=m(")"),P=h(),z=g("div"),O=g("button"),O.textContent="Recent",N=h(),q=g("button"),q.textContent="Count",Y=h(),H=g("div");for(let t=0;t<vt.length;t+=1)vt[t].c();U=h(),kt&&kt.c(),I=h(),V=g("div"),G=g("h4"),J=m("Folders ("),K=m(at),Q=m(")"),X=h(),Z=g("div");for(let t=0;t<Et.length;t+=1)Et[t].c();tt=h(),At&&At.c(),x(a,"class","text-sm font-medium text-gray-900"),x(l,"class","flex items-center justify-between mb-3"),x(o,"class","mb-6"),x(k,"class","text-xs font-medium text-gray-700 uppercase tracking-wide mb-2"),x(A,"class","w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded"),w(A,"bg-blue-50","week"===e[2].dateRange?.period),w(A,"text-blue-700","week"===e[2].dateRange?.period),x(R,"class","w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded"),w(R,"bg-blue-50","month"===e[2].dateRange?.period),w(R,"text-blue-700","month"===e[2].dateRange?.period),x(M,"class","w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded"),w(M,"bg-blue-50","year"===e[2].dateRange?.period),w(M,"text-blue-700","year"===e[2].dateRange?.period),x(E,"class","space-y-1"),x(v,"class","mb-6"),x(L,"class","text-xs font-medium text-gray-700 uppercase tracking-wide"),x(O,"class","text-xs px-2 py-1 rounded"),x(O,"title","Sort by most recent bookmark"),w(O,"bg-blue-100","recency"===e[0]),w(O,"text-blue-700","recency"===e[0]),w(O,"text-gray-500","recency"!==e[0]),x(q,"class","text-xs px-2 py-1 rounded"),x(q,"title","Sort by bookmark count"),w(q,"bg-blue-100","count"===e[0]),w(q,"text-blue-700","count"===e[0]),w(q,"text-gray-500","count"!==e[0]),x(z,"class","flex space-x-1"),x(D,"class","flex items-center justify-between mb-2"),x(H,"class","space-y-1 max-h-64 overflow-y-auto"),x(B,"class","mb-6"),x(G,"class","text-xs font-medium text-gray-700 uppercase tracking-wide mb-2"),x(Z,"class","space-y-1 max-h-48 overflow-y-auto"),x(V,"class","mb-6"),x(n,"class","w-64 bg-gray-50 border-r border-gray-200 p-4 overflow-y-auto")},m(t,r){d(t,n,r),i(n,o),i(o,l),i(l,a),i(l,c),ct&&ct.m(l,null),i(o,s),st&&st.m(o,null),i(n,y),i(n,v),i(v,k),i(v,$),i(v,E),i(E,A),i(E,C),i(E,R),i(E,_),i(E,M),i(n,T),i(n,B),i(B,D),i(D,L),i(L,j),i(L,F),i(L,S),i(D,P),i(D,z),i(z,O),i(z,N),i(z,q),i(B,Y),i(B,H);for(let t=0;t<vt.length;t+=1)vt[t]&&vt[t].m(H,null);i(H,U),kt&&kt.m(H,null),i(n,I),i(n,V),i(V,G),i(G,J),i(G,K),i(G,Q),i(V,X),i(V,Z);for(let t=0;t<Et.length;t+=1)Et[t]&&Et[t].m(Z,null);i(Z,tt),At&&At.m(Z,null),et||(nt=[p(A,"click",e[15]),p(R,"click",e[16]),p(M,"click",e[17]),p(O,"click",e[18]),p(q,"click",e[19])],et=!0)},p(t,e){if(rt&&ct.p(t,e),ot&&st.p(t,e),4&e[0]&&w(A,"bg-blue-50","week"===t[2].dateRange?.period),4&e[0]&&w(A,"text-blue-700","week"===t[2].dateRange?.period),4&e[0]&&w(R,"bg-blue-50","month"===t[2].dateRange?.period),4&e[0]&&w(R,"text-blue-700","month"===t[2].dateRange?.period),4&e[0]&&w(M,"bg-blue-50","year"===t[2].dateRange?.period),4&e[0]&&w(M,"text-blue-700","year"===t[2].dateRange?.period),8&e[0]&&lt!==(lt=t[3].length+"")&&b(F,lt),1&e[0]&&w(O,"bg-blue-100","recency"===t[0]),1&e[0]&&w(O,"text-blue-700","recency"===t[0]),1&e[0]&&w(O,"text-gray-500","recency"!==t[0]),1&e[0]&&w(q,"bg-blue-100","count"===t[0]),1&e[0]&&w(q,"text-blue-700","count"===t[0]),1&e[0]&&w(q,"text-gray-500","count"!==t[0]),29&e[0]){let n;for(pt=W(t[3].slice(0,30)),n=0;n<pt.length;n+=1){const r=dt(t,pt,n);vt[n]?vt[n].p(r,e):(vt[n]=xt(r),vt[n].c(),vt[n].m(H,U))}for(;n<vt.length;n+=1)vt[n].d(1);vt.length=pt.length}if(t[3].length>30?kt?kt.p(t,e):(kt=bt(t),kt.c(),kt.m(H,null)):kt&&(kt.d(1),kt=null),2&e[0]&&at!==(at=t[1].length+"")&&b(K,at),38&e[0]){let n;for($t=W(t[1].slice(0,15)),n=0;n<$t.length;n+=1){const r=it(t,$t,n);Et[n]?Et[n].p(r,e):(Et[n]=yt(r),Et[n].c(),Et[n].m(Z,tt))}for(;n<Et.length;n+=1)Et[n].d(1);Et.length=$t.length}t[1].length>15?At?At.p(t,e):(At=wt(t),At.c(),At.m(Z,null)):At&&(At.d(1),At=null)},i:t,o:t,d(t){t&&u(n),ct&&ct.d(),st&&st.d(),f(vt,t),kt&&kt.d(),f(Et,t),At&&At.d(),et=!1,r(nt)}}}function kt(t){const e=Date.now()-t,n=Math.floor(e/864e5);return 0===n?"Today":1===n?"1 day ago":n<7?`${n} days ago`:n<30?`${Math.floor(n/7)} weeks ago`:n<365?`${Math.floor(n/30)} months ago`:`${Math.floor(n/365)} years ago`}function $t(t,e,n){let r;const o=E();let l=[],a=[],c=[],s={domains:[],folders:[],dateRange:null},i="recency";function d(t){s.domains.includes(t)?n(2,s.domains=s.domains.filter(e=>e!==t),s):n(2,s.domains=[...s.domains,t],s),f()}function u(t){s.folders.includes(t)?n(2,s.folders=s.folders.filter(e=>e!==t),s):n(2,s.folders=[...s.folders,t],s),f()}function f(){o("filter",s)}function g(t){const e=new Date;let r;switch(t){case"week":r=new Date(e.getTime()-6048e5);break;case"month":r=new Date(e.getFullYear(),e.getMonth(),1);break;case"year":r=new Date(e.getFullYear(),0,1)}!function(t,e,r){n(2,s.dateRange={startDate:t,endDate:e,period:r},s),f()}(r.getTime(),e.getTime(),t)}$(async()=>{try{await async function(){n(10,l=await async function(){try{const t=await st(),e={};return t.forEach(t=>{(!e[t.domain]||t.dateAdded>e[t.domain].dateAdded)&&(e[t.domain]={domain:t.domain,dateAdded:t.dateAdded,count:0})}),t.forEach(t=>{e[t.domain].count++}),Object.values(e).sort((t,e)=>e.dateAdded-t.dateAdded)}catch(t){return console.error("Error getting domains by recency:",t),[]}}()),n(11,a=await async function(){try{const t=await st(),e={},n={};return t.forEach(t=>{e[t.domain]=(e[t.domain]||0)+1,(!n[t.domain]||t.dateAdded>n[t.domain])&&(n[t.domain]=t.dateAdded)}),Object.entries(e).map(([t,e])=>({domain:t,count:e,latestDate:n[t]})).sort((t,e)=>e.count-t.count)}catch(t){return console.error("Error getting domains by count:",t),[]}}())}(),n(1,c=await async function(){try{const t=await st();return[...new Set(t.map(t=>t.folderPath).filter(t=>t))].sort()}catch(t){return console.error("Error getting unique folders:",t),[]}}())}catch(t){console.error("Error loading filters:",t)}});return t.$$.update=()=>{3073&t.$$.dirty[0]&&n(3,r="recency"===i?l:a)},[i,c,s,r,d,u,function(){n(2,s={domains:[],folders:[],dateRange:null}),f()},f,function(){return s.domains.length>0||s.folders.length>0||null!==s.dateRange},g,l,a,t=>d(t),t=>u(t),()=>{n(2,s.dateRange=null,s),f()},()=>g("week"),()=>g("month"),()=>g("year"),()=>n(0,i="recency"),()=>n(0,i="count"),t=>d(t.domain),t=>u(t)]}class Et extends J{constructor(t){super(),G(this,t,$t,vt,l,{},null,[-1,-1])}}function At(t,e,n){const r=t.slice();return r[9]=e[n],r}function Ct(e){let n,r;return n=new Et({}),n.$on("filter",e[7]),{c(){H(n.$$.fragment)},m(t,e){U(n,t,e),r=!0},p:t,i(t){r||(N(n.$$.fragment,t),r=!0)},o(t){q(n.$$.fragment,t),r=!1},d(t){I(n,t)}}}function Rt(t){let e,n,o=[],l=new Map,a=W(t[0]);const c=t=>t[9].id;for(let e=0;e<a.length;e+=1){let n=At(t,a,e),r=c(n);l.set(r,o[e]=Bt(r,n))}return{c(){e=g("div");for(let t=0;t<o.length;t+=1)o[t].c();x(e,"class","space-y-3")},m(t,r){d(t,e,r);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);n=!0},p(t,n){1&n&&(a=W(t[0]),z(),o=function(t,e,n,o,l,a,c,s,i,d,u,f){let g=t.length,m=a.length,h=g;const p={};for(;h--;)p[t[h].key]=h;const x=[],b=new Map,y=new Map,w=[];for(h=m;h--;){const t=f(l,a,h),r=n(t);let s=c.get(r);s?o&&w.push(()=>s.p(t,e)):(s=d(r,t),s.c()),b.set(r,x[h]=s),r in p&&y.set(r,Math.abs(h-p[r]))}const v=new Set,k=new Set;function $(t){N(t,1),t.m(s,u),c.set(t.key,t),u=t.first,m--}for(;g&&m;){const e=x[m-1],n=t[g-1],r=e.key,o=n.key;e===n?(u=e.first,g--,m--):b.has(o)?!c.has(r)||v.has(r)?$(e):k.has(o)?g--:y.get(r)>y.get(o)?(k.add(r),$(e)):(v.add(o),g--):(i(n,c),g--)}for(;g--;){const e=t[g];b.has(e.key)||i(e,c)}for(;m;)$(x[m-1]);return r(w),x}(o,n,c,1,t,a,l,e,Y,Bt,null,At),O())},i(t){if(!n){for(let t=0;t<a.length;t+=1)N(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)q(o[t]);n=!1},d(t){t&&u(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function _t(e){let n;function r(t,e){return t[3]?Lt:Dt}let o=r(e),l=o(e);return{c(){n=g("div"),l.c(),x(n,"class","text-center text-gray-500 p-4")},m(t,e){d(t,n,e),l.m(n,null)},p(t,e){o===(o=r(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&u(n),l.d()}}}function Mt(e){let n,r,o,l,a,c,s,f;return{c(){n=g("div"),r=g("p"),o=m("Error: "),l=m(e[2]),a=h(),c=g("button"),c.textContent="Retry",x(c,"class","mt-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700"),x(n,"class","text-center text-red-600 p-4")},m(t,u){d(t,n,u),i(n,r),i(r,o),i(r,l),i(n,a),i(n,c),s||(f=p(c,"click",e[5]),s=!0)},p(t,e){4&e&&b(l,t[2])},i:t,o:t,d(t){t&&u(n),s=!1,f()}}}function Tt(e){let n;return{c(){n=g("div"),n.innerHTML='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>',x(n,"class","flex items-center justify-center h-32")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Bt(t,e){let n,r,o;return r=new rt({props:{bookmark:e[9]}}),{key:t,first:null,c(){n=m(""),H(r.$$.fragment),this.first=n},m(t,e){d(t,n,e),U(r,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.bookmark=e[9]),r.$set(o)},i(t){o||(N(r.$$.fragment,t),o=!0)},o(t){q(r.$$.fragment,t),o=!1},d(t){t&&u(n),I(r,t)}}}function Dt(e){let n;return{c(){n=g("p"),n.textContent="No bookmarks found"},m(t,e){d(t,n,e)},p:t,d(t){t&&u(n)}}}function Lt(t){let e,n,r,o;return{c(){e=g("p"),n=m('No bookmarks found for "'),r=m(t[3]),o=m('"')},m(t,l){d(t,e,l),i(e,n),i(e,r),i(e,o)},p(t,e){8&e&&b(r,t[3])},d(t){t&&u(e)}}}function jt(t){let e,n,o,l,a,c,s,f,y,w,v,k,$,E,A,C,R,_,M,T,B,D,L,j,F,S=t[0].length+"",P=1!==t[0].length?"s":"";v=new ct({}),v.$on("search",t[6]);let W=t[4]&&Ct(t);const Y=[Tt,Mt,_t,Rt],V=[];function G(t,e){return t[1]?0:t[2]?1:0===t[0].length?2:3}return B=G(t),D=V[B]=Y[B](t),{c(){e=g("div"),n=g("div"),o=g("div"),l=g("h1"),l.textContent="Bookmark Insight",a=h(),c=g("div"),s=g("button"),s.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"></path></svg>',f=h(),y=g("button"),y.textContent="Dashboard",w=h(),H(v.$$.fragment),k=h(),$=g("div"),E=m(S),A=m(" bookmark"),C=m(P),R=h(),_=g("div"),W&&W.c(),M=h(),T=g("div"),D.c(),x(l,"class","text-lg font-semibold text-gray-900"),x(s,"class","p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100"),x(s,"title","Toggle Filters"),x(y,"class","px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700"),x(c,"class","flex space-x-2"),x(o,"class","flex items-center justify-between mb-3"),x($,"class","text-xs text-gray-500"),x(n,"class","p-4 border-b border-gray-200 bg-gray-50"),x(T,"class","flex-1 overflow-y-auto p-4"),x(_,"class","flex flex-1 overflow-hidden"),x(e,"class","w-96 h-96 bg-white flex flex-col")},m(r,u){d(r,e,u),i(e,n),i(n,o),i(o,l),i(o,a),i(o,c),i(c,s),i(c,f),i(c,y),i(n,w),U(v,n,null),i(n,k),i(n,$),i($,E),i($,A),i($,C),i(e,R),i(e,_),W&&W.m(_,null),i(_,M),i(_,T),V[B].m(T,null),L=!0,j||(F=[p(s,"click",t[8]),p(y,"click",Ft)],j=!0)},p(t,[e]){(!L||1&e)&&S!==(S=t[0].length+"")&&b(E,S),(!L||1&e)&&P!==(P=1!==t[0].length?"s":"")&&b(C,P),t[4]?W?(W.p(t,e),16&e&&N(W,1)):(W=Ct(t),W.c(),N(W,1),W.m(_,M)):W&&(z(),q(W,1,1,()=>{W=null}),O());let n=B;B=G(t),B===n?V[B].p(t,e):(z(),q(V[n],1,1,()=>{V[n]=null}),O(),D=V[B],D?D.p(t,e):(D=V[B]=Y[B](t),D.c()),N(D,1),D.m(T,null))},i(t){L||(N(v.$$.fragment,t),N(W),N(D),L=!0)},o(t){q(v.$$.fragment,t),q(W),q(D),L=!1},d(t){t&&u(e),I(v),W&&W.d(),V[B].d(),j=!1,r(F)}}}function Ft(){chrome.tabs.create({url:chrome.runtime.getURL("dashboard.html")}),window.close()}function St(t,e,n){let r=[],o=!0,l=null,a="",c=!1;async function s(){n(0,r=await st())}return $(async()=>{try{await s()}catch(t){n(2,l=t.message)}finally{n(1,o=!1)}}),[r,o,l,a,c,s,async function(t){const e=t.detail.query;n(3,a=e);try{n(1,o=!0),n(0,r=await async function(t){try{const e=await st();if(!t.trim())return e.sort((t,e)=>e.dateAdded-t.dateAdded);const n=t.toLowerCase();return e.filter(t=>t.title.toLowerCase().includes(n)||t.url.toLowerCase().includes(n)||t.domain.toLowerCase().includes(n)).sort((t,e)=>e.dateAdded-t.dateAdded)}catch(t){return console.error("Search error:",t),[]}}(e))}catch(t){n(2,l=t.message)}finally{n(1,o=!1)}},async function(t){const{type:e,value:a}=t.detail;try{switch(n(1,o=!0),e){case"clear":n(0,r=await st());break;case"domain":n(0,r=await async function(t){try{return(await st()).filter(e=>e.domain===t)}catch(t){return console.error("Error getting bookmarks by domain:",t),[]}}(a));break;case"folder":n(0,r=await async function(t){try{return(await st()).filter(e=>e.folderPath===t)}catch(t){return console.error("Error getting bookmarks by folder:",t),[]}}(a));break;case"date":n(0,r=await async function(t,e){try{return(await st()).filter(n=>n.dateAdded>=t&&n.dateAdded<=e)}catch(t){return console.error("Error getting bookmarks by date range:",t),[]}}(a.startDate,a.endDate))}}catch(t){n(2,l=t.message)}finally{n(1,o=!1)}},function(){n(4,c=!c)}]}const Pt=new class extends J{constructor(t){super(),G(this,t,St,jt,l,{})}}({target:document.body});export{Pt as default};
//# sourceMappingURL=popup.js.map

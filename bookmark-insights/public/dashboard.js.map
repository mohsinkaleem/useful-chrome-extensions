{"version":3,"file":"dashboard.js","sources":["../node_modules/svelte/src/runtime/internal/utils.js","../node_modules/svelte/src/runtime/internal/globals.js","../node_modules/svelte/src/runtime/internal/dom.js","../node_modules/svelte/src/runtime/internal/lifecycle.js","../node_modules/svelte/src/runtime/internal/scheduler.js","../node_modules/svelte/src/runtime/internal/transitions.js","../node_modules/svelte/src/runtime/internal/each.js","../node_modules/svelte/src/runtime/internal/Component.js","../node_modules/@kurkle/color/dist/color.esm.js","../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../node_modules/svelte/src/shared/version.js","../node_modules/chart.js/dist/chunks/helpers.dataset.js","../node_modules/chart.js/dist/chart.js","../src/utils.js","../src/BookmarkCard.svelte","../src/BookmarkListItem.svelte","../node_modules/flexsearch/dist/flexsearch.bundle.module.min.mjs","../node_modules/dexie/dist/dexie.js","../node_modules/dexie/import-wrapper.mjs","../src/db.js","../src/search.js","../src/SearchBar.svelte","../src/Sidebar.svelte","../src/insights.js","../src/Dashboard.svelte","../src/dashboard.js"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro  restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro  we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro  needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.$$l[type]) {\n\t\t\t\tconst idx = this.$$l[type].indexOf(listener);\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tthis.$$l[type].splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","/*!\n * @kurkle/color v0.3.4\n * https://github.com/kurkle/color#readme\n * (c) 2024 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names$1 = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.20';\nexport const PUBLIC_VERSION = '4';\n","/*!\n * Chart.js v4.5.0\n * https://www.chartjs.org\n * (c) 2025 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || value === undefined;\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\n/**\n * Verifies that attempting to coerce n to string or number won't throw a TypeError.\n */ function isNonPrimitive(n) {\n    return typeof n === 'symbol' || typeof n === 'object' && n !== null && !(Symbol.toPrimitive in n || 'toString' in n || 'valueOf' in n);\n}\nfunction isNumber(n) {\n    return !isNonPrimitive(n) && !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , vScale , _parsed  } = meta;\n        const spanGaps = meta.dataset ? meta.dataset.options ? meta.dataset.options.spanGaps : null : null;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo);\n            if (spanGaps) {\n                const distanceToDefinedLo = _parsed.slice(0, start + 1).reverse().findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                start -= Math.max(0, distanceToDefinedLo);\n            }\n            start = _limitValue(start, 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            let end = Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1);\n            if (spanGaps) {\n                const distanceToDefinedHi = _parsed.slice(end - 1).findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                end += Math.max(0, distanceToDefinedHi);\n            }\n            count = _limitValue(end, start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    if (!ctx && !canvas) {\n        return;\n    }\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bzier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = canvas && _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        if (_isDomSupported()) {\n            window.addEventListener('test', null, options);\n            window.removeEventListener('test', null, options);\n        }\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n    return scale.options.clip ? scale[field] : chartArea[field];\n}\nfunction getDatasetArea(meta, chartArea) {\n    const { xScale , yScale  } = meta;\n    if (xScale && yScale) {\n        return {\n            left: getSizeForArea(xScale, chartArea, 'left'),\n            right: getSizeForArea(xScale, chartArea, 'right'),\n            top: getSizeForArea(yScale, chartArea, 'top'),\n            bottom: getSizeForArea(yScale, chartArea, 'bottom')\n        };\n    }\n    return chartArea;\n}\nfunction getDatasetClipArea(chart, meta) {\n    const clip = meta._clip;\n    if (clip.disabled) {\n        return false;\n    }\n    const area = getDatasetArea(meta, chart.chartArea);\n    return {\n        left: clip.left === false ? 0 : area.left - (clip.left === true ? 0 : clip.left),\n        right: clip.right === false ? chart.width : area.right + (clip.right === true ? 0 : clip.right),\n        top: clip.top === false ? 0 : area.top - (clip.top === true ? 0 : clip.top),\n        bottom: clip.bottom === false ? chart.height : area.bottom + (clip.bottom === true ? 0 : clip.bottom)\n    };\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, getStyle as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, getRtlAdapter as aA, overrideTextDirection as aB, _textX as aC, restoreTextDirection as aD, drawPointLegend as aE, distanceBetweenPoints as aF, noop as aG, _setMinAndMaxByKey as aH, niceNum as aI, almostWhole as aJ, almostEquals as aK, _decimalPlaces as aL, Ticks as aM, log10 as aN, _longestText as aO, _filterBetween as aP, _lookup as aQ, isPatternOrGradient as aR, getHoverColor as aS, clone as aT, _merger as aU, _mergerIf as aV, _deprecated as aW, _splitKey as aX, toFontString as aY, splineCurve as aZ, splineCurveMonotone as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, getDatasetClipArea as ah, _elementsEqual as ai, _isClickEvent as aj, _isBetween as ak, _normalizeAngle as al, _readValueToProps as am, _updateBezierControlPoints as an, _computeSegments as ao, _boundSegments as ap, _steppedInterpolation as aq, _bezierInterpolation as ar, _pointInLine as as, _steppedLineTo as at, _bezierCurveTo as au, drawPoint as av, addRoundedRectPath as aw, toTRBL as ax, toTRBLCorners as ay, _boundSegment as az, isArray as b, fontString as b0, toLineHeight as b1, PITAU as b2, INFINITY as b3, RAD_PER_DEG as b4, QUARTER_PI as b5, TWO_THIRDS_PI as b6, _angleDiff as b7, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.dataset.js.map\n","/*!\n * Chart.js v4.5.0\n * https://www.chartjs.org\n * (c) 2025 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, d as defaults, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as createContext, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _lookupByKey, C as _isPointInArea, D as getAngleFromPoint, E as toPadding, F as each, G as getMaximumSize, I as _getParentNode, J as readUsedSize, K as supportsEventListenerOptions, L as throttled, M as _isDomSupported, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as _limitValue, U as toDegrees, V as _measureText, W as _int16Range, X as _alignPixel, Y as clipArea, Z as renderText, $ as unclipArea, a0 as toFont, a1 as _toLeftRightCenter, a2 as _alignStartEnd, a3 as overrides, a4 as merge, a5 as _capitalize, a6 as descriptors, a7 as isFunction, a8 as _attachContext, a9 as _createResolver, aa as _descriptors, ab as mergeIf, ac as uid, ad as debounce, ae as retinaScale, af as clearCanvas, ag as setsEqual, ah as getDatasetClipArea, ai as _elementsEqual, aj as _isClickEvent, ak as _isBetween, al as _normalizeAngle, am as _readValueToProps, an as _updateBezierControlPoints, ao as _computeSegments, ap as _boundSegments, aq as _steppedInterpolation, ar as _bezierInterpolation, as as _pointInLine, at as _steppedLineTo, au as _bezierCurveTo, av as drawPoint, aw as addRoundedRectPath, ax as toTRBL, ay as toTRBLCorners, az as _boundSegment, aA as getRtlAdapter, aB as overrideTextDirection, aC as _textX, aD as restoreTextDirection, aE as drawPointLegend, aF as distanceBetweenPoints, aG as noop, aH as _setMinAndMaxByKey, aI as niceNum, aJ as almostWhole, aK as almostEquals, aL as _decimalPlaces, aM as Ticks, aN as log10, aO as _longestText, aP as _filterBetween, aQ as _lookup } from './chunks/helpers.dataset.js';\nimport '@kurkle/color';\n\nclass Animator {\n    constructor(){\n        this._request = null;\n        this._charts = new Map();\n        this._running = false;\n        this._lastDate = undefined;\n    }\n _notify(chart, anims, date, type) {\n        const callbacks = anims.listeners[type];\n        const numSteps = anims.duration;\n        callbacks.forEach((fn)=>fn({\n                chart,\n                initial: anims.initial,\n                numSteps,\n                currentStep: Math.min(date - anims.start, numSteps)\n            }));\n    }\n _refresh() {\n        if (this._request) {\n            return;\n        }\n        this._running = true;\n        this._request = requestAnimFrame.call(window, ()=>{\n            this._update();\n            this._request = null;\n            if (this._running) {\n                this._refresh();\n            }\n        });\n    }\n _update(date = Date.now()) {\n        let remaining = 0;\n        this._charts.forEach((anims, chart)=>{\n            if (!anims.running || !anims.items.length) {\n                return;\n            }\n            const items = anims.items;\n            let i = items.length - 1;\n            let draw = false;\n            let item;\n            for(; i >= 0; --i){\n                item = items[i];\n                if (item._active) {\n                    if (item._total > anims.duration) {\n                        anims.duration = item._total;\n                    }\n                    item.tick(date);\n                    draw = true;\n                } else {\n                    items[i] = items[items.length - 1];\n                    items.pop();\n                }\n            }\n            if (draw) {\n                chart.draw();\n                this._notify(chart, anims, date, 'progress');\n            }\n            if (!items.length) {\n                anims.running = false;\n                this._notify(chart, anims, date, 'complete');\n                anims.initial = false;\n            }\n            remaining += items.length;\n        });\n        this._lastDate = date;\n        if (remaining === 0) {\n            this._running = false;\n        }\n    }\n _getAnims(chart) {\n        const charts = this._charts;\n        let anims = charts.get(chart);\n        if (!anims) {\n            anims = {\n                running: false,\n                initial: true,\n                items: [],\n                listeners: {\n                    complete: [],\n                    progress: []\n                }\n            };\n            charts.set(chart, anims);\n        }\n        return anims;\n    }\n listen(chart, event, cb) {\n        this._getAnims(chart).listeners[event].push(cb);\n    }\n add(chart, items) {\n        if (!items || !items.length) {\n            return;\n        }\n        this._getAnims(chart).items.push(...items);\n    }\n has(chart) {\n        return this._getAnims(chart).items.length > 0;\n    }\n start(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims) {\n            return;\n        }\n        anims.running = true;\n        anims.start = Date.now();\n        anims.duration = anims.items.reduce((acc, cur)=>Math.max(acc, cur._duration), 0);\n        this._refresh();\n    }\n    running(chart) {\n        if (!this._running) {\n            return false;\n        }\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.running || !anims.items.length) {\n            return false;\n        }\n        return true;\n    }\n stop(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.items.length) {\n            return;\n        }\n        const items = anims.items;\n        let i = items.length - 1;\n        for(; i >= 0; --i){\n            items[i].cancel();\n        }\n        anims.items = [];\n        this._notify(chart, anims, Date.now(), 'complete');\n    }\n remove(chart) {\n        return this._charts.delete(chart);\n    }\n}\nvar animator = /* #__PURE__ */ new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n    boolean (from, to, factor) {\n        return factor > 0.5 ? to : from;\n    },\n color (from, to, factor) {\n        const c0 = color(from || transparent);\n        const c1 = c0.valid && color(to || transparent);\n        return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n    },\n    number (from, to, factor) {\n        return from + (to - from) * factor;\n    }\n};\nclass Animation {\n    constructor(cfg, target, prop, to){\n        const currentValue = target[prop];\n        to = resolve([\n            cfg.to,\n            to,\n            currentValue,\n            cfg.from\n        ]);\n        const from = resolve([\n            cfg.from,\n            currentValue,\n            to\n        ]);\n        this._active = true;\n        this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n        this._easing = effects[cfg.easing] || effects.linear;\n        this._start = Math.floor(Date.now() + (cfg.delay || 0));\n        this._duration = this._total = Math.floor(cfg.duration);\n        this._loop = !!cfg.loop;\n        this._target = target;\n        this._prop = prop;\n        this._from = from;\n        this._to = to;\n        this._promises = undefined;\n    }\n    active() {\n        return this._active;\n    }\n    update(cfg, to, date) {\n        if (this._active) {\n            this._notify(false);\n            const currentValue = this._target[this._prop];\n            const elapsed = date - this._start;\n            const remain = this._duration - elapsed;\n            this._start = date;\n            this._duration = Math.floor(Math.max(remain, cfg.duration));\n            this._total += elapsed;\n            this._loop = !!cfg.loop;\n            this._to = resolve([\n                cfg.to,\n                to,\n                currentValue,\n                cfg.from\n            ]);\n            this._from = resolve([\n                cfg.from,\n                currentValue,\n                to\n            ]);\n        }\n    }\n    cancel() {\n        if (this._active) {\n            this.tick(Date.now());\n            this._active = false;\n            this._notify(false);\n        }\n    }\n    tick(date) {\n        const elapsed = date - this._start;\n        const duration = this._duration;\n        const prop = this._prop;\n        const from = this._from;\n        const loop = this._loop;\n        const to = this._to;\n        let factor;\n        this._active = from !== to && (loop || elapsed < duration);\n        if (!this._active) {\n            this._target[prop] = to;\n            this._notify(true);\n            return;\n        }\n        if (elapsed < 0) {\n            this._target[prop] = from;\n            return;\n        }\n        factor = elapsed / duration % 2;\n        factor = loop && factor > 1 ? 2 - factor : factor;\n        factor = this._easing(Math.min(1, Math.max(0, factor)));\n        this._target[prop] = this._fn(from, to, factor);\n    }\n    wait() {\n        const promises = this._promises || (this._promises = []);\n        return new Promise((res, rej)=>{\n            promises.push({\n                res,\n                rej\n            });\n        });\n    }\n    _notify(resolved) {\n        const method = resolved ? 'res' : 'rej';\n        const promises = this._promises || [];\n        for(let i = 0; i < promises.length; i++){\n            promises[i][method]();\n        }\n    }\n}\n\nclass Animations {\n    constructor(chart, config){\n        this._chart = chart;\n        this._properties = new Map();\n        this.configure(config);\n    }\n    configure(config) {\n        if (!isObject(config)) {\n            return;\n        }\n        const animationOptions = Object.keys(defaults.animation);\n        const animatedProps = this._properties;\n        Object.getOwnPropertyNames(config).forEach((key)=>{\n            const cfg = config[key];\n            if (!isObject(cfg)) {\n                return;\n            }\n            const resolved = {};\n            for (const option of animationOptions){\n                resolved[option] = cfg[option];\n            }\n            (isArray(cfg.properties) && cfg.properties || [\n                key\n            ]).forEach((prop)=>{\n                if (prop === key || !animatedProps.has(prop)) {\n                    animatedProps.set(prop, resolved);\n                }\n            });\n        });\n    }\n _animateOptions(target, values) {\n        const newOptions = values.options;\n        const options = resolveTargetOptions(target, newOptions);\n        if (!options) {\n            return [];\n        }\n        const animations = this._createAnimations(options, newOptions);\n        if (newOptions.$shared) {\n            awaitAll(target.options.$animations, newOptions).then(()=>{\n                target.options = newOptions;\n            }, ()=>{\n            });\n        }\n        return animations;\n    }\n _createAnimations(target, values) {\n        const animatedProps = this._properties;\n        const animations = [];\n        const running = target.$animations || (target.$animations = {});\n        const props = Object.keys(values);\n        const date = Date.now();\n        let i;\n        for(i = props.length - 1; i >= 0; --i){\n            const prop = props[i];\n            if (prop.charAt(0) === '$') {\n                continue;\n            }\n            if (prop === 'options') {\n                animations.push(...this._animateOptions(target, values));\n                continue;\n            }\n            const value = values[prop];\n            let animation = running[prop];\n            const cfg = animatedProps.get(prop);\n            if (animation) {\n                if (cfg && animation.active()) {\n                    animation.update(cfg, value, date);\n                    continue;\n                } else {\n                    animation.cancel();\n                }\n            }\n            if (!cfg || !cfg.duration) {\n                target[prop] = value;\n                continue;\n            }\n            running[prop] = animation = new Animation(cfg, target, prop, value);\n            animations.push(animation);\n        }\n        return animations;\n    }\n update(target, values) {\n        if (this._properties.size === 0) {\n            Object.assign(target, values);\n            return;\n        }\n        const animations = this._createAnimations(target, values);\n        if (animations.length) {\n            animator.add(this._chart, animations);\n            return true;\n        }\n    }\n}\nfunction awaitAll(animations, properties) {\n    const running = [];\n    const keys = Object.keys(properties);\n    for(let i = 0; i < keys.length; i++){\n        const anim = animations[keys[i]];\n        if (anim && anim.active()) {\n            running.push(anim.wait());\n        }\n    }\n    return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n    if (!newOptions) {\n        return;\n    }\n    let options = target.options;\n    if (!options) {\n        target.options = newOptions;\n        return;\n    }\n    if (options.$shared) {\n        target.options = options = Object.assign({}, options, {\n            $shared: false,\n            $animations: {}\n        });\n    }\n    return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n    const opts = scale && scale.options || {};\n    const reverse = opts.reverse;\n    const min = opts.min === undefined ? allowedOverflow : 0;\n    const max = opts.max === undefined ? allowedOverflow : 0;\n    return {\n        start: reverse ? max : min,\n        end: reverse ? min : max\n    };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n    if (allowedOverflow === false) {\n        return false;\n    }\n    const x = scaleClip(xScale, allowedOverflow);\n    const y = scaleClip(yScale, allowedOverflow);\n    return {\n        top: y.end,\n        right: x.end,\n        bottom: y.start,\n        left: x.start\n    };\n}\nfunction toClip(value) {\n    let t, r, b, l;\n    if (isObject(value)) {\n        t = value.top;\n        r = value.right;\n        b = value.bottom;\n        l = value.left;\n    } else {\n        t = r = b = l = value;\n    }\n    return {\n        top: t,\n        right: r,\n        bottom: b,\n        left: l,\n        disabled: value === false\n    };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n    const keys = [];\n    const metasets = chart._getSortedDatasetMetas(filterVisible);\n    let i, ilen;\n    for(i = 0, ilen = metasets.length; i < ilen; ++i){\n        keys.push(metasets[i].index);\n    }\n    return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n    const keys = stack.keys;\n    const singleMode = options.mode === 'single';\n    let i, ilen, datasetIndex, otherValue;\n    if (value === null) {\n        return;\n    }\n    let found = false;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        datasetIndex = +keys[i];\n        if (datasetIndex === dsIndex) {\n            found = true;\n            if (options.all) {\n                continue;\n            }\n            break;\n        }\n        otherValue = stack.values[datasetIndex];\n        if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n            value += otherValue;\n        }\n    }\n    if (!found && !options.all) {\n        return 0;\n    }\n    return value;\n}\nfunction convertObjectDataToArray(data, meta) {\n    const { iScale , vScale  } = meta;\n    const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n    const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n    const keys = Object.keys(data);\n    const adata = new Array(keys.length);\n    let i, ilen, key;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        key = keys[i];\n        adata[i] = {\n            [iAxisKey]: key,\n            [vAxisKey]: data[key]\n        };\n    }\n    return adata;\n}\nfunction isStacked(scale, meta) {\n    const stacked = scale && scale.options.stacked;\n    return stacked || stacked === undefined && meta.stack !== undefined;\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n    return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n    const { min , max , minDefined , maxDefined  } = scale.getUserBounds();\n    return {\n        min: minDefined ? min : Number.NEGATIVE_INFINITY,\n        max: maxDefined ? max : Number.POSITIVE_INFINITY\n    };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n    const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n    return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n    for (const meta of vScale.getMatchingVisibleMetas(type).reverse()){\n        const value = stack[meta.index];\n        if (positive && value > 0 || !positive && value < 0) {\n            return meta.index;\n        }\n    }\n    return null;\n}\nfunction updateStacks(controller, parsed) {\n    const { chart , _cachedMeta: meta  } = controller;\n    const stacks = chart._stacks || (chart._stacks = {});\n    const { iScale , vScale , index: datasetIndex  } = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const key = getStackKey(iScale, vScale, meta);\n    const ilen = parsed.length;\n    let stack;\n    for(let i = 0; i < ilen; ++i){\n        const item = parsed[i];\n        const { [iAxis]: index , [vAxis]: value  } = item;\n        const itemStacks = item._stacks || (item._stacks = {});\n        stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n        stack[datasetIndex] = value;\n        stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n        stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n        const visualValues = stack._visualValues || (stack._visualValues = {});\n        visualValues[datasetIndex] = value;\n    }\n}\nfunction getFirstScaleId(chart, axis) {\n    const scales = chart.scales;\n    return Object.keys(scales).filter((key)=>scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n    return createContext(parent, {\n        active: false,\n        dataset: undefined,\n        datasetIndex: index,\n        index,\n        mode: 'default',\n        type: 'dataset'\n    });\n}\nfunction createDataContext(parent, index, element) {\n    return createContext(parent, {\n        active: false,\n        dataIndex: index,\n        parsed: undefined,\n        raw: undefined,\n        element,\n        index,\n        mode: 'default',\n        type: 'data'\n    });\n}\nfunction clearStacks(meta, items) {\n    const datasetIndex = meta.controller.index;\n    const axis = meta.vScale && meta.vScale.axis;\n    if (!axis) {\n        return;\n    }\n    items = items || meta._parsed;\n    for (const parsed of items){\n        const stacks = parsed._stacks;\n        if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n            return;\n        }\n        delete stacks[axis][datasetIndex];\n        if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n            delete stacks[axis]._visualValues[datasetIndex];\n        }\n    }\n}\nconst isDirectUpdateMode = (mode)=>mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared)=>shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart)=>canStack && !meta.hidden && meta._stacked && {\n        keys: getSortedDatasetIndices(chart, true),\n        values: null\n    };\nclass DatasetController {\n static defaults = {};\n static datasetElementType = null;\n static dataElementType = null;\n constructor(chart, datasetIndex){\n        this.chart = chart;\n        this._ctx = chart.ctx;\n        this.index = datasetIndex;\n        this._cachedDataOpts = {};\n        this._cachedMeta = this.getMeta();\n        this._type = this._cachedMeta.type;\n        this.options = undefined;\n         this._parsing = false;\n        this._data = undefined;\n        this._objectData = undefined;\n        this._sharedOptions = undefined;\n        this._drawStart = undefined;\n        this._drawCount = undefined;\n        this.enableOptionSharing = false;\n        this.supportsDecimation = false;\n        this.$context = undefined;\n        this._syncList = [];\n        this.datasetElementType = new.target.datasetElementType;\n        this.dataElementType = new.target.dataElementType;\n        this.initialize();\n    }\n    initialize() {\n        const meta = this._cachedMeta;\n        this.configure();\n        this.linkScales();\n        meta._stacked = isStacked(meta.vScale, meta);\n        this.addElements();\n        if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n            console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n        }\n    }\n    updateIndex(datasetIndex) {\n        if (this.index !== datasetIndex) {\n            clearStacks(this._cachedMeta);\n        }\n        this.index = datasetIndex;\n    }\n    linkScales() {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        const chooseId = (axis, x, y, r)=>axis === 'x' ? x : axis === 'r' ? r : y;\n        const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n        const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n        const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n        const indexAxis = meta.indexAxis;\n        const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n        const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n        meta.xScale = this.getScaleForId(xid);\n        meta.yScale = this.getScaleForId(yid);\n        meta.rScale = this.getScaleForId(rid);\n        meta.iScale = this.getScaleForId(iid);\n        meta.vScale = this.getScaleForId(vid);\n    }\n    getDataset() {\n        return this.chart.data.datasets[this.index];\n    }\n    getMeta() {\n        return this.chart.getDatasetMeta(this.index);\n    }\n getScaleForId(scaleID) {\n        return this.chart.scales[scaleID];\n    }\n _getOtherScale(scale) {\n        const meta = this._cachedMeta;\n        return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n    reset() {\n        this._update('reset');\n    }\n _destroy() {\n        const meta = this._cachedMeta;\n        if (this._data) {\n            unlistenArrayEvents(this._data, this);\n        }\n        if (meta._stacked) {\n            clearStacks(meta);\n        }\n    }\n _dataCheck() {\n        const dataset = this.getDataset();\n        const data = dataset.data || (dataset.data = []);\n        const _data = this._data;\n        if (isObject(data)) {\n            const meta = this._cachedMeta;\n            this._data = convertObjectDataToArray(data, meta);\n        } else if (_data !== data) {\n            if (_data) {\n                unlistenArrayEvents(_data, this);\n                const meta = this._cachedMeta;\n                clearStacks(meta);\n                meta._parsed = [];\n            }\n            if (data && Object.isExtensible(data)) {\n                listenArrayEvents(data, this);\n            }\n            this._syncList = [];\n            this._data = data;\n        }\n    }\n    addElements() {\n        const meta = this._cachedMeta;\n        this._dataCheck();\n        if (this.datasetElementType) {\n            meta.dataset = new this.datasetElementType();\n        }\n    }\n    buildOrUpdateElements(resetNewElements) {\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        let stackChanged = false;\n        this._dataCheck();\n        const oldStacked = meta._stacked;\n        meta._stacked = isStacked(meta.vScale, meta);\n        if (meta.stack !== dataset.stack) {\n            stackChanged = true;\n            clearStacks(meta);\n            meta.stack = dataset.stack;\n        }\n        this._resyncElements(resetNewElements);\n        if (stackChanged || oldStacked !== meta._stacked) {\n            updateStacks(this, meta._parsed);\n            meta._stacked = isStacked(meta.vScale, meta);\n        }\n    }\n configure() {\n        const config = this.chart.config;\n        const scopeKeys = config.datasetScopeKeys(this._type);\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n        this.options = config.createResolver(scopes, this.getContext());\n        this._parsing = this.options.parsing;\n        this._cachedDataOpts = {};\n    }\n parse(start, count) {\n        const { _cachedMeta: meta , _data: data  } = this;\n        const { iScale , _stacked  } = meta;\n        const iAxis = iScale.axis;\n        let sorted = start === 0 && count === data.length ? true : meta._sorted;\n        let prev = start > 0 && meta._parsed[start - 1];\n        let i, cur, parsed;\n        if (this._parsing === false) {\n            meta._parsed = data;\n            meta._sorted = true;\n            parsed = data;\n        } else {\n            if (isArray(data[start])) {\n                parsed = this.parseArrayData(meta, data, start, count);\n            } else if (isObject(data[start])) {\n                parsed = this.parseObjectData(meta, data, start, count);\n            } else {\n                parsed = this.parsePrimitiveData(meta, data, start, count);\n            }\n            const isNotInOrderComparedToPrev = ()=>cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n            for(i = 0; i < count; ++i){\n                meta._parsed[i + start] = cur = parsed[i];\n                if (sorted) {\n                    if (isNotInOrderComparedToPrev()) {\n                        sorted = false;\n                    }\n                    prev = cur;\n                }\n            }\n            meta._sorted = sorted;\n        }\n        if (_stacked) {\n            updateStacks(this, parsed);\n        }\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const labels = iScale.getLabels();\n        const singleScale = iScale === vScale;\n        const parsed = new Array(count);\n        let i, ilen, index;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            parsed[i] = {\n                [iAxis]: singleScale || iScale.parse(labels[index], index),\n                [vAxis]: vScale.parse(data[index], index)\n            };\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(item[0], index),\n                y: yScale.parse(item[1], index)\n            };\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n                y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n            };\n        }\n        return parsed;\n    }\n getParsed(index) {\n        return this._cachedMeta._parsed[index];\n    }\n getDataElement(index) {\n        return this._cachedMeta.data[index];\n    }\n applyStack(scale, parsed, mode) {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const value = parsed[scale.axis];\n        const stack = {\n            keys: getSortedDatasetIndices(chart, true),\n            values: parsed._stacks[scale.axis]._visualValues\n        };\n        return applyStack(stack, value, meta.index, {\n            mode\n        });\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        const parsedValue = parsed[scale.axis];\n        let value = parsedValue === null ? NaN : parsedValue;\n        const values = stack && parsed._stacks[scale.axis];\n        if (stack && values) {\n            stack.values = values;\n            value = applyStack(stack, parsedValue, this._cachedMeta.index);\n        }\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n    }\n getMinMax(scale, canStack) {\n        const meta = this._cachedMeta;\n        const _parsed = meta._parsed;\n        const sorted = meta._sorted && scale === meta.iScale;\n        const ilen = _parsed.length;\n        const otherScale = this._getOtherScale(scale);\n        const stack = createStack(canStack, meta, this.chart);\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        const { min: otherMin , max: otherMax  } = getUserBounds(otherScale);\n        let i, parsed;\n        function _skip() {\n            parsed = _parsed[i];\n            const otherValue = parsed[otherScale.axis];\n            return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n        }\n        for(i = 0; i < ilen; ++i){\n            if (_skip()) {\n                continue;\n            }\n            this.updateRangeFromParsed(range, scale, parsed, stack);\n            if (sorted) {\n                break;\n            }\n        }\n        if (sorted) {\n            for(i = ilen - 1; i >= 0; --i){\n                if (_skip()) {\n                    continue;\n                }\n                this.updateRangeFromParsed(range, scale, parsed, stack);\n                break;\n            }\n        }\n        return range;\n    }\n    getAllParsedValues(scale) {\n        const parsed = this._cachedMeta._parsed;\n        const values = [];\n        let i, ilen, value;\n        for(i = 0, ilen = parsed.length; i < ilen; ++i){\n            value = parsed[i][scale.axis];\n            if (isNumberFinite(value)) {\n                values.push(value);\n            }\n        }\n        return values;\n    }\n getMaxOverflow() {\n        return false;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const vScale = meta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n            value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n        };\n    }\n _update(mode) {\n        const meta = this._cachedMeta;\n        this.update(mode || 'default');\n        meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n update(mode) {}\n    draw() {\n        const ctx = this._ctx;\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const elements = meta.data || [];\n        const area = chart.chartArea;\n        const active = [];\n        const start = this._drawStart || 0;\n        const count = this._drawCount || elements.length - start;\n        const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n        let i;\n        if (meta.dataset) {\n            meta.dataset.draw(ctx, area, start, count);\n        }\n        for(i = start; i < start + count; ++i){\n            const element = elements[i];\n            if (element.hidden) {\n                continue;\n            }\n            if (element.active && drawActiveElementsOnTop) {\n                active.push(element);\n            } else {\n                element.draw(ctx, area);\n            }\n        }\n        for(i = 0; i < active.length; ++i){\n            active[i].draw(ctx, area);\n        }\n    }\n getStyle(index, active) {\n        const mode = active ? 'active' : 'default';\n        return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n getContext(index, active, mode) {\n        const dataset = this.getDataset();\n        let context;\n        if (index >= 0 && index < this._cachedMeta.data.length) {\n            const element = this._cachedMeta.data[index];\n            context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n            context.parsed = this.getParsed(index);\n            context.raw = dataset.data[index];\n            context.index = context.dataIndex = index;\n        } else {\n            context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n            context.dataset = dataset;\n            context.index = context.datasetIndex = this.index;\n        }\n        context.active = !!active;\n        context.mode = mode;\n        return context;\n    }\n resolveDatasetElementOptions(mode) {\n        return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n resolveDataElementOptions(index, mode) {\n        return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n _resolveElementOptions(elementType, mode = 'default', index) {\n        const active = mode === 'active';\n        const cache = this._cachedDataOpts;\n        const cacheKey = elementType + '-' + mode;\n        const cached = cache[cacheKey];\n        const sharing = this.enableOptionSharing && defined(index);\n        if (cached) {\n            return cloneIfNotShared(cached, sharing);\n        }\n        const config = this.chart.config;\n        const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n        const prefixes = active ? [\n            `${elementType}Hover`,\n            'hover',\n            elementType,\n            ''\n        ] : [\n            elementType,\n            ''\n        ];\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        const names = Object.keys(defaults.elements[elementType]);\n        const context = ()=>this.getContext(index, active, mode);\n        const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n        if (values.$shared) {\n            values.$shared = sharing;\n            cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n        }\n        return values;\n    }\n _resolveAnimations(index, transition, active) {\n        const chart = this.chart;\n        const cache = this._cachedDataOpts;\n        const cacheKey = `animation-${transition}`;\n        const cached = cache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        let options;\n        if (chart.options.animation !== false) {\n            const config = this.chart.config;\n            const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n            const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n            options = config.createResolver(scopes, this.getContext(index, active, transition));\n        }\n        const animations = new Animations(chart, options && options.animations);\n        if (options && options._cacheable) {\n            cache[cacheKey] = Object.freeze(animations);\n        }\n        return animations;\n    }\n getSharedOptions(options) {\n        if (!options.$shared) {\n            return;\n        }\n        return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n includeOptions(mode, sharedOptions) {\n        return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n _getSharedOptions(start, mode) {\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const previouslySharedOptions = this._sharedOptions;\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n        return {\n            sharedOptions,\n            includeOptions\n        };\n    }\n updateElement(element, index, properties, mode) {\n        if (isDirectUpdateMode(mode)) {\n            Object.assign(element, properties);\n        } else {\n            this._resolveAnimations(index, mode).update(element, properties);\n        }\n    }\n updateSharedOptions(sharedOptions, mode, newOptions) {\n        if (sharedOptions && !isDirectUpdateMode(mode)) {\n            this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n        }\n    }\n _setStyle(element, index, mode, active) {\n        element.active = active;\n        const options = this.getStyle(index, active);\n        this._resolveAnimations(index, mode, active).update(element, {\n            options: !active && this.getSharedOptions(options) || options\n        });\n    }\n    removeHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', false);\n    }\n    setHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', true);\n    }\n _removeDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', false);\n        }\n    }\n _setDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', true);\n        }\n    }\n _resyncElements(resetNewElements) {\n        const data = this._data;\n        const elements = this._cachedMeta.data;\n        for (const [method, arg1, arg2] of this._syncList){\n            this[method](arg1, arg2);\n        }\n        this._syncList = [];\n        const numMeta = elements.length;\n        const numData = data.length;\n        const count = Math.min(numData, numMeta);\n        if (count) {\n            this.parse(0, count);\n        }\n        if (numData > numMeta) {\n            this._insertElements(numMeta, numData - numMeta, resetNewElements);\n        } else if (numData < numMeta) {\n            this._removeElements(numData, numMeta - numData);\n        }\n    }\n _insertElements(start, count, resetNewElements = true) {\n        const meta = this._cachedMeta;\n        const data = meta.data;\n        const end = start + count;\n        let i;\n        const move = (arr)=>{\n            arr.length += count;\n            for(i = arr.length - 1; i >= end; i--){\n                arr[i] = arr[i - count];\n            }\n        };\n        move(data);\n        for(i = start; i < end; ++i){\n            data[i] = new this.dataElementType();\n        }\n        if (this._parsing) {\n            move(meta._parsed);\n        }\n        this.parse(start, count);\n        if (resetNewElements) {\n            this.updateElements(data, start, count, 'reset');\n        }\n    }\n    updateElements(element, start, count, mode) {}\n _removeElements(start, count) {\n        const meta = this._cachedMeta;\n        if (this._parsing) {\n            const removed = meta._parsed.splice(start, count);\n            if (meta._stacked) {\n                clearStacks(meta, removed);\n            }\n        }\n        meta.data.splice(start, count);\n    }\n _sync(args) {\n        if (this._parsing) {\n            this._syncList.push(args);\n        } else {\n            const [method, arg1, arg2] = args;\n            this[method](arg1, arg2);\n        }\n        this.chart._dataChanges.push([\n            this.index,\n            ...args\n        ]);\n    }\n    _onDataPush() {\n        const count = arguments.length;\n        this._sync([\n            '_insertElements',\n            this.getDataset().data.length - count,\n            count\n        ]);\n    }\n    _onDataPop() {\n        this._sync([\n            '_removeElements',\n            this._cachedMeta.data.length - 1,\n            1\n        ]);\n    }\n    _onDataShift() {\n        this._sync([\n            '_removeElements',\n            0,\n            1\n        ]);\n    }\n    _onDataSplice(start, count) {\n        if (count) {\n            this._sync([\n                '_removeElements',\n                start,\n                count\n            ]);\n        }\n        const newCount = arguments.length - 2;\n        if (newCount) {\n            this._sync([\n                '_insertElements',\n                start,\n                newCount\n            ]);\n        }\n    }\n    _onDataUnshift() {\n        this._sync([\n            '_insertElements',\n            0,\n            arguments.length\n        ]);\n    }\n}\n\nfunction getAllScaleValues(scale, type) {\n    if (!scale._cache.$bar) {\n        const visibleMetas = scale.getMatchingVisibleMetas(type);\n        let values = [];\n        for(let i = 0, ilen = visibleMetas.length; i < ilen; i++){\n            values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n        }\n        scale._cache.$bar = _arrayUnique(values.sort((a, b)=>a - b));\n    }\n    return scale._cache.$bar;\n}\n function computeMinSampleSize(meta) {\n    const scale = meta.iScale;\n    const values = getAllScaleValues(scale, meta.type);\n    let min = scale._length;\n    let i, ilen, curr, prev;\n    const updateMinAndPrev = ()=>{\n        if (curr === 32767 || curr === -32768) {\n            return;\n        }\n        if (defined(prev)) {\n            min = Math.min(min, Math.abs(curr - prev) || min);\n        }\n        prev = curr;\n    };\n    for(i = 0, ilen = values.length; i < ilen; ++i){\n        curr = scale.getPixelForValue(values[i]);\n        updateMinAndPrev();\n    }\n    prev = undefined;\n    for(i = 0, ilen = scale.ticks.length; i < ilen; ++i){\n        curr = scale.getPixelForTick(i);\n        updateMinAndPrev();\n    }\n    return min;\n}\n function computeFitCategoryTraits(index, ruler, options, stackCount) {\n    const thickness = options.barThickness;\n    let size, ratio;\n    if (isNullOrUndef(thickness)) {\n        size = ruler.min * options.categoryPercentage;\n        ratio = options.barPercentage;\n    } else {\n        size = thickness * stackCount;\n        ratio = 1;\n    }\n    return {\n        chunk: size / stackCount,\n        ratio,\n        start: ruler.pixels[index] - size / 2\n    };\n}\n function computeFlexCategoryTraits(index, ruler, options, stackCount) {\n    const pixels = ruler.pixels;\n    const curr = pixels[index];\n    let prev = index > 0 ? pixels[index - 1] : null;\n    let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n    const percent = options.categoryPercentage;\n    if (prev === null) {\n        prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n    }\n    if (next === null) {\n        next = curr + curr - prev;\n    }\n    const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n    const size = Math.abs(next - prev) / 2 * percent;\n    return {\n        chunk: size / stackCount,\n        ratio: options.barPercentage,\n        start\n    };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n    const startValue = vScale.parse(entry[0], i);\n    const endValue = vScale.parse(entry[1], i);\n    const min = Math.min(startValue, endValue);\n    const max = Math.max(startValue, endValue);\n    let barStart = min;\n    let barEnd = max;\n    if (Math.abs(min) > Math.abs(max)) {\n        barStart = max;\n        barEnd = min;\n    }\n    item[vScale.axis] = barEnd;\n    item._custom = {\n        barStart,\n        barEnd,\n        start: startValue,\n        end: endValue,\n        min,\n        max\n    };\n}\nfunction parseValue(entry, item, vScale, i) {\n    if (isArray(entry)) {\n        parseFloatBar(entry, item, vScale, i);\n    } else {\n        item[vScale.axis] = vScale.parse(entry, i);\n    }\n    return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = [];\n    let i, ilen, item, entry;\n    for(i = start, ilen = start + count; i < ilen; ++i){\n        entry = data[i];\n        item = {};\n        item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n        parsed.push(parseValue(entry, item, vScale, i));\n    }\n    return parsed;\n}\nfunction isFloatBar(custom) {\n    return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n    if (size !== 0) {\n        return sign(size);\n    }\n    return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n    let reverse, start, end, top, bottom;\n    if (properties.horizontal) {\n        reverse = properties.base > properties.x;\n        start = 'left';\n        end = 'right';\n    } else {\n        reverse = properties.base < properties.y;\n        start = 'bottom';\n        end = 'top';\n    }\n    if (reverse) {\n        top = 'end';\n        bottom = 'start';\n    } else {\n        top = 'start';\n        bottom = 'end';\n    }\n    return {\n        start,\n        end,\n        reverse,\n        top,\n        bottom\n    };\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n    let edge = options.borderSkipped;\n    const res = {};\n    if (!edge) {\n        properties.borderSkipped = res;\n        return;\n    }\n    if (edge === true) {\n        properties.borderSkipped = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true\n        };\n        return;\n    }\n    const { start , end , reverse , top , bottom  } = borderProps(properties);\n    if (edge === 'middle' && stack) {\n        properties.enableBorderRadius = true;\n        if ((stack._top || 0) === index) {\n            edge = top;\n        } else if ((stack._bottom || 0) === index) {\n            edge = bottom;\n        } else {\n            res[parseEdge(bottom, start, end, reverse)] = true;\n            edge = top;\n        }\n    }\n    res[parseEdge(edge, start, end, reverse)] = true;\n    properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n    if (reverse) {\n        edge = swap(edge, a, b);\n        edge = startEnd(edge, b, a);\n    } else {\n        edge = startEnd(edge, a, b);\n    }\n    return edge;\n}\nfunction swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n    return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, { inflateAmount  }, ratio) {\n    properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\nclass BarController extends DatasetController {\n    static id = 'bar';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'bar',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        grouped: true,\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'base',\n                    'width',\n                    'height'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category',\n                offset: true,\n                grid: {\n                    offset: true\n                }\n            },\n            _value_: {\n                type: 'linear',\n                beginAtZero: true\n            }\n        }\n    };\n parsePrimitiveData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseArrayData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseObjectData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const parsed = [];\n        let i, ilen, item, obj;\n        for(i = start, ilen = start + count; i < ilen; ++i){\n            obj = data[i];\n            item = {};\n            item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n            parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n        }\n        return parsed;\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        super.updateRangeFromParsed(range, scale, parsed, stack);\n        const custom = parsed._custom;\n        if (custom && scale === this._cachedMeta.vScale) {\n            range.min = Math.min(range.min, custom.min);\n            range.max = Math.max(range.max, custom.max);\n        }\n    }\n getMaxOverflow() {\n        return 0;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const { iScale , vScale  } = meta;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n        return {\n            label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n            value\n        };\n    }\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n        const meta = this._cachedMeta;\n        meta.stack = this.getDataset().stack;\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n    updateElements(bars, start, count, mode) {\n        const reset = mode === 'reset';\n        const { index , _cachedMeta: { vScale  }  } = this;\n        const base = vScale.getBasePixel();\n        const horizontal = vScale.isHorizontal();\n        const ruler = this._getRuler();\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        for(let i = start; i < start + count; i++){\n            const parsed = this.getParsed(i);\n            const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n                base,\n                head: base\n            } : this._calculateBarValuePixels(i);\n            const ipixels = this._calculateBarIndexPixels(i, ruler);\n            const stack = (parsed._stacks || {})[vScale.axis];\n            const properties = {\n                horizontal,\n                base: vpixels.base,\n                enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n                x: horizontal ? vpixels.head : ipixels.center,\n                y: horizontal ? ipixels.center : vpixels.head,\n                height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n                width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n            }\n            const options = properties.options || bars[i].options;\n            setBorderSkipped(properties, options, stack, index);\n            setInflateAmount(properties, options, ruler.ratio);\n            this.updateElement(bars[i], i, properties, mode);\n        }\n    }\n _getStacks(last, dataIndex) {\n        const { iScale  } = this._cachedMeta;\n        const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta)=>meta.controller.options.grouped);\n        const stacked = iScale.options.stacked;\n        const stacks = [];\n        const currentParsed = this._cachedMeta.controller.getParsed(dataIndex);\n        const iScaleValue = currentParsed && currentParsed[iScale.axis];\n        const skipNull = (meta)=>{\n            const parsed = meta._parsed.find((item)=>item[iScale.axis] === iScaleValue);\n            const val = parsed && parsed[meta.vScale.axis];\n            if (isNullOrUndef(val) || isNaN(val)) {\n                return true;\n            }\n        };\n        for (const meta of metasets){\n            if (dataIndex !== undefined && skipNull(meta)) {\n                continue;\n            }\n            if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === undefined && meta.stack === undefined) {\n                stacks.push(meta.stack);\n            }\n            if (meta.index === last) {\n                break;\n            }\n        }\n        if (!stacks.length) {\n            stacks.push(undefined);\n        }\n        return stacks;\n    }\n _getStackCount(index) {\n        return this._getStacks(undefined, index).length;\n    }\n    _getAxisCount() {\n        return this._getAxis().length;\n    }\n    getFirstScaleIdForIndexAxis() {\n        const scales = this.chart.scales;\n        const indexScaleId = this.chart.options.indexAxis;\n        return Object.keys(scales).filter((key)=>scales[key].axis === indexScaleId).shift();\n    }\n    _getAxis() {\n        const axis = {};\n        const firstScaleAxisId = this.getFirstScaleIdForIndexAxis();\n        for (const dataset of this.chart.data.datasets){\n            axis[valueOrDefault(this.chart.options.indexAxis === 'x' ? dataset.xAxisID : dataset.yAxisID, firstScaleAxisId)] = true;\n        }\n        return Object.keys(axis);\n    }\n _getStackIndex(datasetIndex, name, dataIndex) {\n        const stacks = this._getStacks(datasetIndex, dataIndex);\n        const index = name !== undefined ? stacks.indexOf(name) : -1;\n        return index === -1 ? stacks.length - 1 : index;\n    }\n _getRuler() {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const pixels = [];\n        let i, ilen;\n        for(i = 0, ilen = meta.data.length; i < ilen; ++i){\n            pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n        }\n        const barThickness = opts.barThickness;\n        const min = barThickness || computeMinSampleSize(meta);\n        return {\n            min,\n            pixels,\n            start: iScale._startPixel,\n            end: iScale._endPixel,\n            stackCount: this._getStackCount(),\n            scale: iScale,\n            grouped: opts.grouped,\n            ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n        };\n    }\n _calculateBarValuePixels(index) {\n        const { _cachedMeta: { vScale , _stacked , index: datasetIndex  } , options: { base: baseValue , minBarLength  }  } = this;\n        const actualBase = baseValue || 0;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const floating = isFloatBar(custom);\n        let value = parsed[vScale.axis];\n        let start = 0;\n        let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n        let head, size;\n        if (length !== value) {\n            start = length - value;\n            length = value;\n        }\n        if (floating) {\n            value = custom.barStart;\n            length = custom.barEnd - custom.barStart;\n            if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n                start = 0;\n            }\n            start += value;\n        }\n        const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n        let base = vScale.getPixelForValue(startValue);\n        if (this.chart.getDataVisibility(index)) {\n            head = vScale.getPixelForValue(start + length);\n        } else {\n            head = base;\n        }\n        size = head - base;\n        if (Math.abs(size) < minBarLength) {\n            size = barSign(size, vScale, actualBase) * minBarLength;\n            if (value === actualBase) {\n                base -= size / 2;\n            }\n            const startPixel = vScale.getPixelForDecimal(0);\n            const endPixel = vScale.getPixelForDecimal(1);\n            const min = Math.min(startPixel, endPixel);\n            const max = Math.max(startPixel, endPixel);\n            base = Math.max(Math.min(base, max), min);\n            head = base + size;\n            if (_stacked && !floating) {\n                parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n            }\n        }\n        if (base === vScale.getPixelForValue(actualBase)) {\n            const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n            base += halfGrid;\n            size -= halfGrid;\n        }\n        return {\n            size,\n            base,\n            head,\n            center: head + size / 2\n        };\n    }\n _calculateBarIndexPixels(index, ruler) {\n        const scale = ruler.scale;\n        const options = this.options;\n        const skipNull = options.skipNull;\n        const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n        let center, size;\n        const axisCount = this._getAxisCount();\n        if (ruler.grouped) {\n            const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n            const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount * axisCount) : computeFitCategoryTraits(index, ruler, options, stackCount * axisCount);\n            const axisID = this.chart.options.indexAxis === 'x' ? this.getDataset().xAxisID : this.getDataset().yAxisID;\n            const axisNumber = this._getAxis().indexOf(valueOrDefault(axisID, this.getFirstScaleIdForIndexAxis()));\n            const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined) + axisNumber;\n            center = range.start + range.chunk * stackIndex + range.chunk / 2;\n            size = Math.min(maxBarThickness, range.chunk * range.ratio);\n        } else {\n            center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n            size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n        }\n        return {\n            base: center - size / 2,\n            head: center + size / 2,\n            center,\n            size\n        };\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        const vScale = meta.vScale;\n        const rects = meta.data;\n        const ilen = rects.length;\n        let i = 0;\n        for(; i < ilen; ++i){\n            if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n                rects[i].draw(this._ctx);\n            }\n        }\n    }\n}\n\nclass BubbleController extends DatasetController {\n    static id = 'bubble';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'borderWidth',\n                    'radius'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const parsed = super.parsePrimitiveData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const parsed = super.parseArrayData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const parsed = super.parseObjectData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n getMaxOverflow() {\n        const data = this._cachedMeta.data;\n        let max = 0;\n        for(let i = data.length - 1; i >= 0; --i){\n            max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n        }\n        return max > 0 && max;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        const r = parsed._custom;\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n        };\n    }\n    update(mode) {\n        const points = this._cachedMeta.data;\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const parsed = !reset && this.getParsed(i);\n            const properties = {};\n            const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n            const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel);\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n                if (reset) {\n                    properties.options.radius = 0;\n                }\n            }\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n resolveDataElementOptions(index, mode) {\n        const parsed = this.getParsed(index);\n        let values = super.resolveDataElementOptions(index, mode);\n        if (values.$shared) {\n            values = Object.assign({}, values, {\n                $shared: false\n            });\n        }\n        const radius = values.radius;\n        if (mode !== 'active') {\n            values.radius = 0;\n        }\n        values.radius += valueOrDefault(parsed && parsed._custom, radius);\n        return values;\n    }\n}\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n    let ratioX = 1;\n    let ratioY = 1;\n    let offsetX = 0;\n    let offsetY = 0;\n    if (circumference < TAU) {\n        const startAngle = rotation;\n        const endAngle = startAngle + circumference;\n        const startX = Math.cos(startAngle);\n        const startY = Math.sin(startAngle);\n        const endX = Math.cos(endAngle);\n        const endY = Math.sin(endAngle);\n        const calcMax = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n        const calcMin = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n        const maxX = calcMax(0, startX, endX);\n        const maxY = calcMax(HALF_PI, startY, endY);\n        const minX = calcMin(PI, startX, endX);\n        const minY = calcMin(PI + HALF_PI, startY, endY);\n        ratioX = (maxX - minX) / 2;\n        ratioY = (maxY - minY) / 2;\n        offsetX = -(maxX + minX) / 2;\n        offsetY = -(maxY + minY) / 2;\n    }\n    return {\n        ratioX,\n        ratioY,\n        offsetX,\n        offsetY\n    };\n}\nclass DoughnutController extends DatasetController {\n    static id = 'doughnut';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: false\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'circumference',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius',\n                    'startAngle',\n                    'x',\n                    'y',\n                    'offset',\n                    'borderWidth',\n                    'spacing'\n                ]\n            }\n        },\n        cutout: '50%',\n        rotation: 0,\n        circumference: 360,\n        radius: '100%',\n        spacing: 0,\n        indexAxis: 'r'\n    };\n    static descriptors = {\n        _scriptable: (name)=>name !== 'spacing',\n        _indexable: (name)=>name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash')\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.enableOptionSharing = true;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.offsetX = undefined;\n        this.offsetY = undefined;\n    }\n    linkScales() {}\n parse(start, count) {\n        const data = this.getDataset().data;\n        const meta = this._cachedMeta;\n        if (this._parsing === false) {\n            meta._parsed = data;\n        } else {\n            let getter = (i)=>+data[i];\n            if (isObject(data[start])) {\n                const { key ='value'  } = this._parsing;\n                getter = (i)=>+resolveObjectKey(data[i], key);\n            }\n            let i, ilen;\n            for(i = start, ilen = start + count; i < ilen; ++i){\n                meta._parsed[i] = getter(i);\n            }\n        }\n    }\n _getRotation() {\n        return toRadians(this.options.rotation - 90);\n    }\n _getCircumference() {\n        return toRadians(this.options.circumference);\n    }\n _getRotationExtents() {\n        let min = TAU;\n        let max = -TAU;\n        for(let i = 0; i < this.chart.data.datasets.length; ++i){\n            if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n                const controller = this.chart.getDatasetMeta(i).controller;\n                const rotation = controller._getRotation();\n                const circumference = controller._getCircumference();\n                min = Math.min(min, rotation);\n                max = Math.max(max, rotation + circumference);\n            }\n        }\n        return {\n            rotation: min,\n            circumference: max - min\n        };\n    }\n update(mode) {\n        const chart = this.chart;\n        const { chartArea  } = chart;\n        const meta = this._cachedMeta;\n        const arcs = meta.data;\n        const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n        const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n        const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n        const chartWeight = this._getRingWeight(this.index);\n        const { circumference , rotation  } = this._getRotationExtents();\n        const { ratioX , ratioY , offsetX , offsetY  } = getRatioAndOffset(rotation, circumference, cutout);\n        const maxWidth = (chartArea.width - spacing) / ratioX;\n        const maxHeight = (chartArea.height - spacing) / ratioY;\n        const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n        const outerRadius = toDimension(this.options.radius, maxRadius);\n        const innerRadius = Math.max(outerRadius * cutout, 0);\n        const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n        this.offsetX = offsetX * outerRadius;\n        this.offsetY = offsetY * outerRadius;\n        meta.total = this.calculateTotal();\n        this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n        this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n _circumference(i, reset) {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const circumference = this._getCircumference();\n        if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n            return 0;\n        }\n        return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const centerX = (chartArea.left + chartArea.right) / 2;\n        const centerY = (chartArea.top + chartArea.bottom) / 2;\n        const animateScale = reset && animationOpts.animateScale;\n        const innerRadius = animateScale ? 0 : this.innerRadius;\n        const outerRadius = animateScale ? 0 : this.outerRadius;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        let startAngle = this._getRotation();\n        let i;\n        for(i = 0; i < start; ++i){\n            startAngle += this._circumference(i, reset);\n        }\n        for(i = start; i < start + count; ++i){\n            const circumference = this._circumference(i, reset);\n            const arc = arcs[i];\n            const properties = {\n                x: centerX + this.offsetX,\n                y: centerY + this.offsetY,\n                startAngle,\n                endAngle: startAngle + circumference,\n                circumference,\n                outerRadius,\n                innerRadius\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n            }\n            startAngle += circumference;\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    calculateTotal() {\n        const meta = this._cachedMeta;\n        const metaData = meta.data;\n        let total = 0;\n        let i;\n        for(i = 0; i < metaData.length; i++){\n            const value = meta._parsed[i];\n            if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n                total += Math.abs(value);\n            }\n        }\n        return total;\n    }\n    calculateCircumference(value) {\n        const total = this._cachedMeta.total;\n        if (total > 0 && !isNaN(value)) {\n            return TAU * (Math.abs(value) / total);\n        }\n        return 0;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index], chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    getMaxBorderWidth(arcs) {\n        let max = 0;\n        const chart = this.chart;\n        let i, ilen, meta, controller, options;\n        if (!arcs) {\n            for(i = 0, ilen = chart.data.datasets.length; i < ilen; ++i){\n                if (chart.isDatasetVisible(i)) {\n                    meta = chart.getDatasetMeta(i);\n                    arcs = meta.data;\n                    controller = meta.controller;\n                    break;\n                }\n            }\n        }\n        if (!arcs) {\n            return 0;\n        }\n        for(i = 0, ilen = arcs.length; i < ilen; ++i){\n            options = controller.resolveDataElementOptions(i);\n            if (options.borderAlign !== 'inner') {\n                max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n            }\n        }\n        return max;\n    }\n    getMaxOffset(arcs) {\n        let max = 0;\n        for(let i = 0, ilen = arcs.length; i < ilen; ++i){\n            const options = this.resolveDataElementOptions(i);\n            max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n        }\n        return max;\n    }\n _getRingWeightOffset(datasetIndex) {\n        let ringWeightOffset = 0;\n        for(let i = 0; i < datasetIndex; ++i){\n            if (this.chart.isDatasetVisible(i)) {\n                ringWeightOffset += this._getRingWeight(i);\n            }\n        }\n        return ringWeightOffset;\n    }\n _getRingWeight(datasetIndex) {\n        return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n _getVisibleDatasetWeightTotal() {\n        return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n}\n\nclass LineController extends DatasetController {\n    static id = 'line';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        showLine: true,\n        spanGaps: false\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category'\n            },\n            _value_: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        this.supportsDecimation = true;\n        super.initialize();\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { dataset: line , data: points = [] , _dataset  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        line._chart = this.chart;\n        line._datasetIndex = this.index;\n        line._decimated = !!_dataset._decimated;\n        line.points = points;\n        const options = this.resolveDatasetElementOptions(mode);\n        if (!this.options.showLine) {\n            options.borderWidth = 0;\n        }\n        options.segment = this.options.segment;\n        this.updateElement(line, undefined, {\n            animated: !animationsDisabled,\n            options\n        }, mode);\n        this.updateElements(points, start, count, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        const end = start + count;\n        const pointsCount = points.length;\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = 0; i < pointsCount; ++i){\n            const point = points[i];\n            const properties = directUpdate ? point : {};\n            if (i < start || i >= end) {\n                properties.skip = true;\n                continue;\n            }\n            const parsed = this.getParsed(i);\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        const data = meta.data || [];\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n        super.draw();\n    }\n}\n\nclass PolarAreaController extends DatasetController {\n    static id = 'polarArea';\n static defaults = {\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: true\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'startAngle',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius'\n                ]\n            }\n        },\n        indexAxis: 'r',\n        startAngle: 0\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        },\n        scales: {\n            r: {\n                type: 'radialLinear',\n                angleLines: {\n                    display: false\n                },\n                beginAtZero: true,\n                grid: {\n                    circular: true\n                },\n                pointLabels: {\n                    display: false\n                },\n                startAngle: 0\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const arcs = this._cachedMeta.data;\n        this._updateRadius();\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n getMinMax() {\n        const meta = this._cachedMeta;\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        meta.data.forEach((element, index)=>{\n            const parsed = this.getParsed(index).r;\n            if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n                if (parsed < range.min) {\n                    range.min = parsed;\n                }\n                if (parsed > range.max) {\n                    range.max = parsed;\n                }\n            }\n        });\n        return range;\n    }\n _updateRadius() {\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n        const outerRadius = Math.max(minSize / 2, 0);\n        const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n        const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n        this.outerRadius = outerRadius - radiusLength * this.index;\n        this.innerRadius = this.outerRadius - radiusLength;\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const scale = this._cachedMeta.rScale;\n        const centerX = scale.xCenter;\n        const centerY = scale.yCenter;\n        const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n        let angle = datasetStartAngle;\n        let i;\n        const defaultAngle = 360 / this.countVisibleElements();\n        for(i = 0; i < start; ++i){\n            angle += this._computeAngle(i, mode, defaultAngle);\n        }\n        for(i = start; i < start + count; i++){\n            const arc = arcs[i];\n            let startAngle = angle;\n            let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n            let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n            angle = endAngle;\n            if (reset) {\n                if (animationOpts.animateScale) {\n                    outerRadius = 0;\n                }\n                if (animationOpts.animateRotate) {\n                    startAngle = endAngle = datasetStartAngle;\n                }\n            }\n            const properties = {\n                x: centerX,\n                y: centerY,\n                innerRadius: 0,\n                outerRadius,\n                startAngle,\n                endAngle,\n                options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n            };\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    countVisibleElements() {\n        const meta = this._cachedMeta;\n        let count = 0;\n        meta.data.forEach((element, index)=>{\n            if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n                count++;\n            }\n        });\n        return count;\n    }\n _computeAngle(index, mode, defaultAngle) {\n        return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n}\n\nclass PieController extends DoughnutController {\n    static id = 'pie';\n static defaults = {\n        cutout: 0,\n        rotation: 0,\n        circumference: 360,\n        radius: '100%'\n    };\n}\n\nclass RadarController extends DatasetController {\n    static id = 'radar';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        indexAxis: 'r',\n        showLine: true,\n        elements: {\n            line: {\n                fill: 'start'\n            }\n        }\n    };\n static overrides = {\n        aspectRatio: 1,\n        scales: {\n            r: {\n                type: 'radialLinear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const vScale = this._cachedMeta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: vScale.getLabels()[index],\n            value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const line = meta.dataset;\n        const points = meta.data || [];\n        const labels = meta.iScale.getLabels();\n        line.points = points;\n        if (mode !== 'resize') {\n            const options = this.resolveDatasetElementOptions(mode);\n            if (!this.options.showLine) {\n                options.borderWidth = 0;\n            }\n            const properties = {\n                _loop: true,\n                _fullLoop: labels.length === points.length,\n                options\n            };\n            this.updateElement(line, undefined, properties, mode);\n        }\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const scale = this._cachedMeta.rScale;\n        const reset = mode === 'reset';\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n            const x = reset ? scale.xCenter : pointPosition.x;\n            const y = reset ? scale.yCenter : pointPosition.y;\n            const properties = {\n                x,\n                y,\n                angle: pointPosition.angle,\n                skip: isNaN(x) || isNaN(y),\n                options\n            };\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n}\n\nclass ScatterController extends DatasetController {\n    static id = 'scatter';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        showLine: false,\n        fill: false\n    };\n static overrides = {\n        interaction: {\n            mode: 'point'\n        },\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + ')'\n        };\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { data: points = []  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        if (this.options.showLine) {\n            if (!this.datasetElementType) {\n                this.addElements();\n            }\n            const { dataset: line , _dataset  } = meta;\n            line._chart = this.chart;\n            line._datasetIndex = this.index;\n            line._decimated = !!_dataset._decimated;\n            line.points = points;\n            const options = this.resolveDatasetElementOptions(mode);\n            options.segment = this.options.segment;\n            this.updateElement(line, undefined, {\n                animated: !animationsDisabled,\n                options\n            }, mode);\n        } else if (this.datasetElementType) {\n            delete meta.dataset;\n            this.datasetElementType = false;\n        }\n        this.updateElements(points, start, count, mode);\n    }\n    addElements() {\n        const { showLine  } = this.options;\n        if (!this.datasetElementType && showLine) {\n            this.datasetElementType = this.chart.registry.getElement('line');\n        }\n        super.addElements();\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = start; i < start + count; ++i){\n            const point = points[i];\n            const parsed = this.getParsed(i);\n            const properties = directUpdate ? point : {};\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const data = meta.data || [];\n        if (!this.options.showLine) {\n            let max = 0;\n            for(let i = data.length - 1; i >= 0; --i){\n                max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n            }\n            return max > 0 && max;\n        }\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n}\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPieController: PieController,\nPolarAreaController: PolarAreaController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\n/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */ function abstract() {\n    throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */ class DateAdapterBase {\n    /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */ static override(members) {\n        Object.assign(DateAdapterBase.prototype, members);\n    }\n    options;\n    constructor(options){\n        this.options = options || {};\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    init() {}\n    formats() {\n        return abstract();\n    }\n    parse() {\n        return abstract();\n    }\n    format() {\n        return abstract();\n    }\n    add() {\n        return abstract();\n    }\n    diff() {\n        return abstract();\n    }\n    startOf() {\n        return abstract();\n    }\n    endOf() {\n        return abstract();\n    }\n}\nvar adapters = {\n    _date: DateAdapterBase\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n    const { controller , data , _sorted  } = metaset;\n    const iScale = controller._cachedMeta.iScale;\n    const spanGaps = metaset.dataset ? metaset.dataset.options ? metaset.dataset.options.spanGaps : null : null;\n    if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n        const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n        if (!intersect) {\n            const result = lookupMethod(data, axis, value);\n            if (spanGaps) {\n                const { vScale  } = controller._cachedMeta;\n                const { _parsed  } = metaset;\n                const distanceToDefinedLo = _parsed.slice(0, result.lo + 1).reverse().findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                result.lo -= Math.max(0, distanceToDefinedLo);\n                const distanceToDefinedHi = _parsed.slice(result.hi).findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                result.hi += Math.max(0, distanceToDefinedHi);\n            }\n            return result;\n        } else if (controller._sharedOptions) {\n            const el = data[0];\n            const range = typeof el.getRange === 'function' && el.getRange(axis);\n            if (range) {\n                const start = lookupMethod(data, axis, value - range);\n                const end = lookupMethod(data, axis, value + range);\n                return {\n                    lo: start.lo,\n                    hi: end.hi\n                };\n            }\n        }\n    }\n    return {\n        lo: 0,\n        hi: data.length - 1\n    };\n}\n function evaluateInteractionItems(chart, axis, position, handler, intersect) {\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const value = position[axis];\n    for(let i = 0, ilen = metasets.length; i < ilen; ++i){\n        const { index , data  } = metasets[i];\n        const { lo , hi  } = binarySearch(metasets[i], axis, value, intersect);\n        for(let j = lo; j <= hi; ++j){\n            const element = data[j];\n            if (!element.skip) {\n                handler(element, index, j);\n            }\n        }\n    }\n}\n function getDistanceMetricForAxis(axis) {\n    const useX = axis.indexOf('x') !== -1;\n    const useY = axis.indexOf('y') !== -1;\n    return function(pt1, pt2) {\n        const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n        const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n        return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n    };\n}\n function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n    const items = [];\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return items;\n    }\n    const evaluationFunc = function(element, datasetIndex, index) {\n        if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n            return;\n        }\n        if (element.inRange(position.x, position.y, useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    };\n    evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n    return items;\n}\n function getNearestRadialItems(chart, position, axis, useFinalPosition) {\n    let items = [];\n    function evaluationFunc(element, datasetIndex, index) {\n        const { startAngle , endAngle  } = element.getProps([\n            'startAngle',\n            'endAngle'\n        ], useFinalPosition);\n        const { angle  } = getAngleFromPoint(element, {\n            x: position.x,\n            y: position.y\n        });\n        if (_angleBetween(angle, startAngle, endAngle)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    let items = [];\n    const distanceMetric = getDistanceMetricForAxis(axis);\n    let minDistance = Number.POSITIVE_INFINITY;\n    function evaluationFunc(element, datasetIndex, index) {\n        const inRange = element.inRange(position.x, position.y, useFinalPosition);\n        if (intersect && !inRange) {\n            return;\n        }\n        const center = element.getCenterPoint(useFinalPosition);\n        const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n        if (!pointInArea && !inRange) {\n            return;\n        }\n        const distance = distanceMetric(position, center);\n        if (distance < minDistance) {\n            items = [\n                {\n                    element,\n                    datasetIndex,\n                    index\n                }\n            ];\n            minDistance = distance;\n        } else if (distance === minDistance) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return [];\n    }\n    return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n function getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n    const items = [];\n    const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n    let intersectsItem = false;\n    evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index)=>{\n        if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n            intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n        }\n    });\n    if (intersect && !intersectsItem) {\n        return [];\n    }\n    return items;\n}\n var Interaction = {\n    evaluateInteractionItems,\n    modes: {\n index (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'x';\n            const includeInvisible = options.includeInvisible || false;\n            const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            const elements = [];\n            if (!items.length) {\n                return [];\n            }\n            chart.getSortedVisibleDatasetMetas().forEach((meta)=>{\n                const index = items[0].index;\n                const element = meta.data[index];\n                if (element && !element.skip) {\n                    elements.push({\n                        element,\n                        datasetIndex: meta.index,\n                        index\n                    });\n                }\n            });\n            return elements;\n        },\n dataset (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            if (items.length > 0) {\n                const datasetIndex = items[0].datasetIndex;\n                const data = chart.getDatasetMeta(datasetIndex).data;\n                items = [];\n                for(let i = 0; i < data.length; ++i){\n                    items.push({\n                        element: data[i],\n                        datasetIndex,\n                        index: i\n                    });\n                }\n            }\n            return items;\n        },\n point (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n        },\n nearest (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n        },\n x (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n        },\n y (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n        }\n    }\n};\n\nconst STATIC_POSITIONS = [\n    'left',\n    'top',\n    'right',\n    'bottom'\n];\nfunction filterByPosition(array, position) {\n    return array.filter((v)=>v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n    return array.filter((v)=>STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n    return array.sort((a, b)=>{\n        const v0 = reverse ? b : a;\n        const v1 = reverse ? a : b;\n        return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n    });\n}\nfunction wrapBoxes(boxes) {\n    const layoutBoxes = [];\n    let i, ilen, box, pos, stack, stackWeight;\n    for(i = 0, ilen = (boxes || []).length; i < ilen; ++i){\n        box = boxes[i];\n        ({ position: pos , options: { stack , stackWeight =1  }  } = box);\n        layoutBoxes.push({\n            index: i,\n            box,\n            pos,\n            horizontal: box.isHorizontal(),\n            weight: box.weight,\n            stack: stack && pos + stack,\n            stackWeight\n        });\n    }\n    return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n    const stacks = {};\n    for (const wrap of layouts){\n        const { stack , pos , stackWeight  } = wrap;\n        if (!stack || !STATIC_POSITIONS.includes(pos)) {\n            continue;\n        }\n        const _stack = stacks[stack] || (stacks[stack] = {\n            count: 0,\n            placed: 0,\n            weight: 0,\n            size: 0\n        });\n        _stack.count++;\n        _stack.weight += stackWeight;\n    }\n    return stacks;\n}\n function setLayoutDims(layouts, params) {\n    const stacks = buildStacks(layouts);\n    const { vBoxMaxWidth , hBoxMaxHeight  } = params;\n    let i, ilen, layout;\n    for(i = 0, ilen = layouts.length; i < ilen; ++i){\n        layout = layouts[i];\n        const { fullSize  } = layout.box;\n        const stack = stacks[layout.stack];\n        const factor = stack && layout.stackWeight / stack.weight;\n        if (layout.horizontal) {\n            layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n            layout.height = hBoxMaxHeight;\n        } else {\n            layout.width = vBoxMaxWidth;\n            layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n        }\n    }\n    return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n    const layoutBoxes = wrapBoxes(boxes);\n    const fullSize = sortByWeight(layoutBoxes.filter((wrap)=>wrap.box.fullSize), true);\n    const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n    const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n    const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n    const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n    const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n    const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n    return {\n        fullSize,\n        leftAndTop: left.concat(top),\n        rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n        chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n        vertical: left.concat(right).concat(centerVertical),\n        horizontal: top.concat(bottom).concat(centerHorizontal)\n    };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n    return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n    maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n    maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n    maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n    maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n    const { pos , box  } = layout;\n    const maxPadding = chartArea.maxPadding;\n    if (!isObject(pos)) {\n        if (layout.size) {\n            chartArea[pos] -= layout.size;\n        }\n        const stack = stacks[layout.stack] || {\n            size: 0,\n            count: 1\n        };\n        stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n        layout.size = stack.size / stack.count;\n        chartArea[pos] += layout.size;\n    }\n    if (box.getPadding) {\n        updateMaxPadding(maxPadding, box.getPadding());\n    }\n    const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n    const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n    const widthChanged = newWidth !== chartArea.w;\n    const heightChanged = newHeight !== chartArea.h;\n    chartArea.w = newWidth;\n    chartArea.h = newHeight;\n    return layout.horizontal ? {\n        same: widthChanged,\n        other: heightChanged\n    } : {\n        same: heightChanged,\n        other: widthChanged\n    };\n}\nfunction handleMaxPadding(chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function updatePos(pos) {\n        const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n        chartArea[pos] += change;\n        return change;\n    }\n    chartArea.y += updatePos('top');\n    chartArea.x += updatePos('left');\n    updatePos('right');\n    updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function marginForPositions(positions) {\n        const margin = {\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0\n        };\n        positions.forEach((pos)=>{\n            margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n        });\n        return margin;\n    }\n    return horizontal ? marginForPositions([\n        'left',\n        'right'\n    ]) : marginForPositions([\n        'top',\n        'bottom'\n    ]);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n    const refitBoxes = [];\n    let i, ilen, layout, box, refit, changed;\n    for(i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i){\n        layout = boxes[i];\n        box = layout.box;\n        box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n        const { same , other  } = updateDims(chartArea, params, layout, stacks);\n        refit |= same && refitBoxes.length;\n        changed = changed || other;\n        if (!box.fullSize) {\n            refitBoxes.push(layout);\n        }\n    }\n    return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n    box.top = top;\n    box.left = left;\n    box.right = left + width;\n    box.bottom = top + height;\n    box.width = width;\n    box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n    const userPadding = params.padding;\n    let { x , y  } = chartArea;\n    for (const layout of boxes){\n        const box = layout.box;\n        const stack = stacks[layout.stack] || {\n            count: 1,\n            placed: 0,\n            weight: 1\n        };\n        const weight = layout.stackWeight / stack.weight || 1;\n        if (layout.horizontal) {\n            const width = chartArea.w * weight;\n            const height = stack.size || box.height;\n            if (defined(stack.start)) {\n                y = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n            } else {\n                setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n            }\n            stack.start = y;\n            stack.placed += width;\n            y = box.bottom;\n        } else {\n            const height = chartArea.h * weight;\n            const width = stack.size || box.width;\n            if (defined(stack.start)) {\n                x = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n            } else {\n                setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n            }\n            stack.start = x;\n            stack.placed += height;\n            x = box.right;\n        }\n    }\n    chartArea.x = x;\n    chartArea.y = y;\n}\nvar layouts = {\n addBox (chart, item) {\n        if (!chart.boxes) {\n            chart.boxes = [];\n        }\n        item.fullSize = item.fullSize || false;\n        item.position = item.position || 'top';\n        item.weight = item.weight || 0;\n        item._layers = item._layers || function() {\n            return [\n                {\n                    z: 0,\n                    draw (chartArea) {\n                        item.draw(chartArea);\n                    }\n                }\n            ];\n        };\n        chart.boxes.push(item);\n    },\n removeBox (chart, layoutItem) {\n        const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n        if (index !== -1) {\n            chart.boxes.splice(index, 1);\n        }\n    },\n configure (chart, item, options) {\n        item.fullSize = options.fullSize;\n        item.position = options.position;\n        item.weight = options.weight;\n    },\n update (chart, width, height, minPadding) {\n        if (!chart) {\n            return;\n        }\n        const padding = toPadding(chart.options.layout.padding);\n        const availableWidth = Math.max(width - padding.width, 0);\n        const availableHeight = Math.max(height - padding.height, 0);\n        const boxes = buildLayoutBoxes(chart.boxes);\n        const verticalBoxes = boxes.vertical;\n        const horizontalBoxes = boxes.horizontal;\n        each(chart.boxes, (box)=>{\n            if (typeof box.beforeLayout === 'function') {\n                box.beforeLayout();\n            }\n        });\n        const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap)=>wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n        const params = Object.freeze({\n            outerWidth: width,\n            outerHeight: height,\n            padding,\n            availableWidth,\n            availableHeight,\n            vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n            hBoxMaxHeight: availableHeight / 2\n        });\n        const maxPadding = Object.assign({}, padding);\n        updateMaxPadding(maxPadding, toPadding(minPadding));\n        const chartArea = Object.assign({\n            maxPadding,\n            w: availableWidth,\n            h: availableHeight,\n            x: padding.left,\n            y: padding.top\n        }, padding);\n        const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n        fitBoxes(boxes.fullSize, chartArea, params, stacks);\n        fitBoxes(verticalBoxes, chartArea, params, stacks);\n        if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n            fitBoxes(verticalBoxes, chartArea, params, stacks);\n        }\n        handleMaxPadding(chartArea);\n        placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n        chartArea.x += chartArea.w;\n        chartArea.y += chartArea.h;\n        placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n        chart.chartArea = {\n            left: chartArea.left,\n            top: chartArea.top,\n            right: chartArea.left + chartArea.w,\n            bottom: chartArea.top + chartArea.h,\n            height: chartArea.h,\n            width: chartArea.w\n        };\n        each(boxes.chartArea, (layout)=>{\n            const box = layout.box;\n            Object.assign(box, chart.chartArea);\n            box.update(chartArea.w, chartArea.h, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            });\n        });\n    }\n};\n\nclass BasePlatform {\n acquireContext(canvas, aspectRatio) {}\n releaseContext(context) {\n        return false;\n    }\n addEventListener(chart, type, listener) {}\n removeEventListener(chart, type, listener) {}\n getDevicePixelRatio() {\n        return 1;\n    }\n getMaximumSize(element, width, height, aspectRatio) {\n        width = Math.max(0, width || element.width);\n        height = height || element.height;\n        return {\n            width,\n            height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n        };\n    }\n isAttached(canvas) {\n        return true;\n    }\n updateConfig(config) {\n    }\n}\n\nclass BasicPlatform extends BasePlatform {\n    acquireContext(item) {\n        return item && item.getContext && item.getContext('2d') || null;\n    }\n    updateConfig(config) {\n        config.options.animation = false;\n    }\n}\n\nconst EXPANDO_KEY = '$chartjs';\n const EVENT_TYPES = {\n    touchstart: 'mousedown',\n    touchmove: 'mousemove',\n    touchend: 'mouseup',\n    pointerenter: 'mouseenter',\n    pointerdown: 'mousedown',\n    pointermove: 'mousemove',\n    pointerup: 'mouseup',\n    pointerleave: 'mouseout',\n    pointerout: 'mouseout'\n};\nconst isNullOrEmpty = (value)=>value === null || value === '';\n function initCanvas(canvas, aspectRatio) {\n    const style = canvas.style;\n    const renderHeight = canvas.getAttribute('height');\n    const renderWidth = canvas.getAttribute('width');\n    canvas[EXPANDO_KEY] = {\n        initial: {\n            height: renderHeight,\n            width: renderWidth,\n            style: {\n                display: style.display,\n                height: style.height,\n                width: style.width\n            }\n        }\n    };\n    style.display = style.display || 'block';\n    style.boxSizing = style.boxSizing || 'border-box';\n    if (isNullOrEmpty(renderWidth)) {\n        const displayWidth = readUsedSize(canvas, 'width');\n        if (displayWidth !== undefined) {\n            canvas.width = displayWidth;\n        }\n    }\n    if (isNullOrEmpty(renderHeight)) {\n        if (canvas.style.height === '') {\n            canvas.height = canvas.width / (aspectRatio || 2);\n        } else {\n            const displayHeight = readUsedSize(canvas, 'height');\n            if (displayHeight !== undefined) {\n                canvas.height = displayHeight;\n            }\n        }\n    }\n    return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {\n    passive: true\n} : false;\nfunction addListener(node, type, listener) {\n    if (node) {\n        node.addEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction removeListener(chart, type, listener) {\n    if (chart && chart.canvas) {\n        chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction fromNativeEvent(event, chart) {\n    const type = EVENT_TYPES[event.type] || event.type;\n    const { x , y  } = getRelativePosition(event, chart);\n    return {\n        type,\n        chart,\n        native: event,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n    };\n}\nfunction nodeListContains(nodeList, canvas) {\n    for (const node of nodeList){\n        if (node === canvas || node.contains(canvas)) {\n            return true;\n        }\n    }\n}\nfunction createAttachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n    const dpr = window.devicePixelRatio;\n    if (dpr === oldDevicePixelRatio) {\n        return;\n    }\n    oldDevicePixelRatio = dpr;\n    drpListeningCharts.forEach((resize, chart)=>{\n        if (chart.currentDevicePixelRatio !== dpr) {\n            resize();\n        }\n    });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n    if (!drpListeningCharts.size) {\n        window.addEventListener('resize', onWindowResize);\n    }\n    drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n    drpListeningCharts.delete(chart);\n    if (!drpListeningCharts.size) {\n        window.removeEventListener('resize', onWindowResize);\n    }\n}\nfunction createResizeObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n        return;\n    }\n    const resize = throttled((width, height)=>{\n        const w = container.clientWidth;\n        listener(width, height);\n        if (w < container.clientWidth) {\n            listener();\n        }\n    }, window);\n    const observer = new ResizeObserver((entries)=>{\n        const entry = entries[0];\n        const width = entry.contentRect.width;\n        const height = entry.contentRect.height;\n        if (width === 0 && height === 0) {\n            return;\n        }\n        resize(width, height);\n    });\n    observer.observe(container);\n    listenDevicePixelRatioChanges(chart, resize);\n    return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n    if (observer) {\n        observer.disconnect();\n    }\n    if (type === 'resize') {\n        unlistenDevicePixelRatioChanges(chart);\n    }\n}\nfunction createProxyAndListen(chart, type, listener) {\n    const canvas = chart.canvas;\n    const proxy = throttled((event)=>{\n        if (chart.ctx !== null) {\n            listener(fromNativeEvent(event, chart));\n        }\n    }, chart);\n    addListener(canvas, type, proxy);\n    return proxy;\n}\n class DomPlatform extends BasePlatform {\n acquireContext(canvas, aspectRatio) {\n        const context = canvas && canvas.getContext && canvas.getContext('2d');\n        if (context && context.canvas === canvas) {\n            initCanvas(canvas, aspectRatio);\n            return context;\n        }\n        return null;\n    }\n releaseContext(context) {\n        const canvas = context.canvas;\n        if (!canvas[EXPANDO_KEY]) {\n            return false;\n        }\n        const initial = canvas[EXPANDO_KEY].initial;\n        [\n            'height',\n            'width'\n        ].forEach((prop)=>{\n            const value = initial[prop];\n            if (isNullOrUndef(value)) {\n                canvas.removeAttribute(prop);\n            } else {\n                canvas.setAttribute(prop, value);\n            }\n        });\n        const style = initial.style || {};\n        Object.keys(style).forEach((key)=>{\n            canvas.style[key] = style[key];\n        });\n        canvas.width = canvas.width;\n        delete canvas[EXPANDO_KEY];\n        return true;\n    }\n addEventListener(chart, type, listener) {\n        this.removeEventListener(chart, type);\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const handlers = {\n            attach: createAttachObserver,\n            detach: createDetachObserver,\n            resize: createResizeObserver\n        };\n        const handler = handlers[type] || createProxyAndListen;\n        proxies[type] = handler(chart, type, listener);\n    }\n removeEventListener(chart, type) {\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const proxy = proxies[type];\n        if (!proxy) {\n            return;\n        }\n        const handlers = {\n            attach: releaseObserver,\n            detach: releaseObserver,\n            resize: releaseObserver\n        };\n        const handler = handlers[type] || removeListener;\n        handler(chart, type, proxy);\n        proxies[type] = undefined;\n    }\n    getDevicePixelRatio() {\n        return window.devicePixelRatio;\n    }\n getMaximumSize(canvas, width, height, aspectRatio) {\n        return getMaximumSize(canvas, width, height, aspectRatio);\n    }\n isAttached(canvas) {\n        const container = canvas && _getParentNode(canvas);\n        return !!(container && container.isConnected);\n    }\n}\n\nfunction _detectPlatform(canvas) {\n    if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return BasicPlatform;\n    }\n    return DomPlatform;\n}\n\nclass Element {\n    static defaults = {};\n    static defaultRoutes = undefined;\n    x;\n    y;\n    active = false;\n    options;\n    $animations;\n    tooltipPosition(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    hasValue() {\n        return isNumber(this.x) && isNumber(this.y);\n    }\n    getProps(props, final) {\n        const anims = this.$animations;\n        if (!final || !anims) {\n            // let's not create an object, if not needed\n            return this;\n        }\n        const ret = {};\n        props.forEach((prop)=>{\n            ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n        });\n        return ret;\n    }\n}\n\nfunction autoSkip(scale, ticks) {\n    const tickOpts = scale.options.ticks;\n    const determinedMaxTicks = determineMaxTicks(scale);\n    const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n    const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n    const numMajorIndices = majorIndices.length;\n    const first = majorIndices[0];\n    const last = majorIndices[numMajorIndices - 1];\n    const newTicks = [];\n    if (numMajorIndices > ticksLimit) {\n        skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n        return newTicks;\n    }\n    const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n    if (numMajorIndices > 0) {\n        let i, ilen;\n        const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n        skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n        for(i = 0, ilen = numMajorIndices - 1; i < ilen; i++){\n            skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n        }\n        skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n        return newTicks;\n    }\n    skip(ticks, newTicks, spacing);\n    return newTicks;\n}\nfunction determineMaxTicks(scale) {\n    const offset = scale.options.offset;\n    const tickLength = scale._tickSize();\n    const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n    const maxChart = scale._maxLength / tickLength;\n    return Math.floor(Math.min(maxScale, maxChart));\n}\n function calculateSpacing(majorIndices, ticks, ticksLimit) {\n    const evenMajorSpacing = getEvenSpacing(majorIndices);\n    const spacing = ticks.length / ticksLimit;\n    if (!evenMajorSpacing) {\n        return Math.max(spacing, 1);\n    }\n    const factors = _factorize(evenMajorSpacing);\n    for(let i = 0, ilen = factors.length - 1; i < ilen; i++){\n        const factor = factors[i];\n        if (factor > spacing) {\n            return factor;\n        }\n    }\n    return Math.max(spacing, 1);\n}\n function getMajorIndices(ticks) {\n    const result = [];\n    let i, ilen;\n    for(i = 0, ilen = ticks.length; i < ilen; i++){\n        if (ticks[i].major) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n function skipMajors(ticks, newTicks, majorIndices, spacing) {\n    let count = 0;\n    let next = majorIndices[0];\n    let i;\n    spacing = Math.ceil(spacing);\n    for(i = 0; i < ticks.length; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = majorIndices[count * spacing];\n        }\n    }\n}\n function skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n    const start = valueOrDefault(majorStart, 0);\n    const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n    let count = 0;\n    let length, i, next;\n    spacing = Math.ceil(spacing);\n    if (majorEnd) {\n        length = majorEnd - majorStart;\n        spacing = length / Math.floor(length / spacing);\n    }\n    next = start;\n    while(next < 0){\n        count++;\n        next = Math.round(start + count * spacing);\n    }\n    for(i = Math.max(start, 0); i < end; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = Math.round(start + count * spacing);\n        }\n    }\n}\n function getEvenSpacing(arr) {\n    const len = arr.length;\n    let i, diff;\n    if (len < 2) {\n        return false;\n    }\n    for(diff = arr[0], i = 1; i < len; ++i){\n        if (arr[i] - arr[i - 1] !== diff) {\n            return false;\n        }\n    }\n    return diff;\n}\n\nconst reverseAlign = (align)=>align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset)=>edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit)=>Math.min(maxTicksLimit || ticksLength, ticksLength);\n function sample(arr, numItems) {\n    const result = [];\n    const increment = arr.length / numItems;\n    const len = arr.length;\n    let i = 0;\n    for(; i < len; i += increment){\n        result.push(arr[Math.floor(i)]);\n    }\n    return result;\n}\n function getPixelForGridLine(scale, index, offsetGridLines) {\n    const length = scale.ticks.length;\n    const validIndex = Math.min(index, length - 1);\n    const start = scale._startPixel;\n    const end = scale._endPixel;\n    const epsilon = 1e-6;\n    let lineValue = scale.getPixelForTick(validIndex);\n    let offset;\n    if (offsetGridLines) {\n        if (length === 1) {\n            offset = Math.max(lineValue - start, end - lineValue);\n        } else if (index === 0) {\n            offset = (scale.getPixelForTick(1) - lineValue) / 2;\n        } else {\n            offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n        }\n        lineValue += validIndex < index ? offset : -offset;\n        if (lineValue < start - epsilon || lineValue > end + epsilon) {\n            return;\n        }\n    }\n    return lineValue;\n}\n function garbageCollect(caches, length) {\n    each(caches, (cache)=>{\n        const gc = cache.gc;\n        const gcLen = gc.length / 2;\n        let i;\n        if (gcLen > length) {\n            for(i = 0; i < gcLen; ++i){\n                delete cache.data[gc[i]];\n            }\n            gc.splice(0, gcLen);\n        }\n    });\n}\n function getTickMarkLength(options) {\n    return options.drawTicks ? options.tickLength : 0;\n}\n function getTitleHeight(options, fallback) {\n    if (!options.display) {\n        return 0;\n    }\n    const font = toFont(options.font, fallback);\n    const padding = toPadding(options.padding);\n    const lines = isArray(options.text) ? options.text.length : 1;\n    return lines * font.lineHeight + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n    return createContext(parent, {\n        scale,\n        type: 'scale'\n    });\n}\nfunction createTickContext(parent, index, tick) {\n    return createContext(parent, {\n        tick,\n        index,\n        type: 'tick'\n    });\n}\nfunction titleAlign(align, position, reverse) {\n     let ret = _toLeftRightCenter(align);\n    if (reverse && position !== 'right' || !reverse && position === 'right') {\n        ret = reverseAlign(ret);\n    }\n    return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n    const { top , left , bottom , right , chart  } = scale;\n    const { chartArea , scales  } = chart;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    const height = bottom - top;\n    const width = right - left;\n    if (scale.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n        } else if (position === 'center') {\n            titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n        } else {\n            titleY = offsetFromEdge(scale, position, offset);\n        }\n        maxWidth = right - left;\n    } else {\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n        } else if (position === 'center') {\n            titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n        } else {\n            titleX = offsetFromEdge(scale, position, offset);\n        }\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = position === 'left' ? -HALF_PI : HALF_PI;\n    }\n    return {\n        titleX,\n        titleY,\n        maxWidth,\n        rotation\n    };\n}\nclass Scale extends Element {\n    constructor(cfg){\n        super();\n         this.id = cfg.id;\n         this.type = cfg.type;\n         this.options = undefined;\n         this.ctx = cfg.ctx;\n         this.chart = cfg.chart;\n         this.top = undefined;\n         this.bottom = undefined;\n         this.left = undefined;\n         this.right = undefined;\n         this.width = undefined;\n         this.height = undefined;\n        this._margins = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n         this.maxWidth = undefined;\n         this.maxHeight = undefined;\n         this.paddingTop = undefined;\n         this.paddingBottom = undefined;\n         this.paddingLeft = undefined;\n         this.paddingRight = undefined;\n         this.axis = undefined;\n         this.labelRotation = undefined;\n        this.min = undefined;\n        this.max = undefined;\n        this._range = undefined;\n         this.ticks = [];\n         this._gridLineItems = null;\n         this._labelItems = null;\n         this._labelSizes = null;\n        this._length = 0;\n        this._maxLength = 0;\n        this._longestTextCache = {};\n         this._startPixel = undefined;\n         this._endPixel = undefined;\n        this._reversePixels = false;\n        this._userMax = undefined;\n        this._userMin = undefined;\n        this._suggestedMax = undefined;\n        this._suggestedMin = undefined;\n        this._ticksLength = 0;\n        this._borderValue = 0;\n        this._cache = {};\n        this._dataLimitsCached = false;\n        this.$context = undefined;\n    }\n init(options) {\n        this.options = options.setContext(this.getContext());\n        this.axis = options.axis;\n        this._userMin = this.parse(options.min);\n        this._userMax = this.parse(options.max);\n        this._suggestedMin = this.parse(options.suggestedMin);\n        this._suggestedMax = this.parse(options.suggestedMax);\n    }\n parse(raw, index) {\n        return raw;\n    }\n getUserBounds() {\n        let { _userMin , _userMax , _suggestedMin , _suggestedMax  } = this;\n        _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n        _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n        _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n        _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n        return {\n            min: finiteOrDefault(_userMin, _suggestedMin),\n            max: finiteOrDefault(_userMax, _suggestedMax),\n            minDefined: isNumberFinite(_userMin),\n            maxDefined: isNumberFinite(_userMax)\n        };\n    }\n getMinMax(canStack) {\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n        let range;\n        if (minDefined && maxDefined) {\n            return {\n                min,\n                max\n            };\n        }\n        const metas = this.getMatchingVisibleMetas();\n        for(let i = 0, ilen = metas.length; i < ilen; ++i){\n            range = metas[i].controller.getMinMax(this, canStack);\n            if (!minDefined) {\n                min = Math.min(min, range.min);\n            }\n            if (!maxDefined) {\n                max = Math.max(max, range.max);\n            }\n        }\n        min = maxDefined && min > max ? max : min;\n        max = minDefined && min > max ? min : max;\n        return {\n            min: finiteOrDefault(min, finiteOrDefault(max, min)),\n            max: finiteOrDefault(max, finiteOrDefault(min, max))\n        };\n    }\n getPadding() {\n        return {\n            left: this.paddingLeft || 0,\n            top: this.paddingTop || 0,\n            right: this.paddingRight || 0,\n            bottom: this.paddingBottom || 0\n        };\n    }\n getTicks() {\n        return this.ticks;\n    }\n getLabels() {\n        const data = this.chart.data;\n        return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n getLabelItems(chartArea = this.chart.chartArea) {\n        const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n        return items;\n    }\n    beforeLayout() {\n        this._cache = {};\n        this._dataLimitsCached = false;\n    }\n    beforeUpdate() {\n        callback(this.options.beforeUpdate, [\n            this\n        ]);\n    }\n update(maxWidth, maxHeight, margins) {\n        const { beginAtZero , grace , ticks: tickOpts  } = this.options;\n        const sampleSize = tickOpts.sampleSize;\n        this.beforeUpdate();\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins = Object.assign({\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        }, margins);\n        this.ticks = null;\n        this._labelSizes = null;\n        this._gridLineItems = null;\n        this._labelItems = null;\n        this.beforeSetDimensions();\n        this.setDimensions();\n        this.afterSetDimensions();\n        this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n        if (!this._dataLimitsCached) {\n            this.beforeDataLimits();\n            this.determineDataLimits();\n            this.afterDataLimits();\n            this._range = _addGrace(this, grace, beginAtZero);\n            this._dataLimitsCached = true;\n        }\n        this.beforeBuildTicks();\n        this.ticks = this.buildTicks() || [];\n        this.afterBuildTicks();\n        const samplingEnabled = sampleSize < this.ticks.length;\n        this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n        this.configure();\n        this.beforeCalculateLabelRotation();\n        this.calculateLabelRotation();\n        this.afterCalculateLabelRotation();\n        if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n            this.ticks = autoSkip(this, this.ticks);\n            this._labelSizes = null;\n            this.afterAutoSkip();\n        }\n        if (samplingEnabled) {\n            this._convertTicksToLabels(this.ticks);\n        }\n        this.beforeFit();\n        this.fit();\n        this.afterFit();\n        this.afterUpdate();\n    }\n configure() {\n        let reversePixels = this.options.reverse;\n        let startPixel, endPixel;\n        if (this.isHorizontal()) {\n            startPixel = this.left;\n            endPixel = this.right;\n        } else {\n            startPixel = this.top;\n            endPixel = this.bottom;\n            reversePixels = !reversePixels;\n        }\n        this._startPixel = startPixel;\n        this._endPixel = endPixel;\n        this._reversePixels = reversePixels;\n        this._length = endPixel - startPixel;\n        this._alignToPixels = this.options.alignToPixels;\n    }\n    afterUpdate() {\n        callback(this.options.afterUpdate, [\n            this\n        ]);\n    }\n    beforeSetDimensions() {\n        callback(this.options.beforeSetDimensions, [\n            this\n        ]);\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = 0;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = 0;\n            this.bottom = this.height;\n        }\n        this.paddingLeft = 0;\n        this.paddingTop = 0;\n        this.paddingRight = 0;\n        this.paddingBottom = 0;\n    }\n    afterSetDimensions() {\n        callback(this.options.afterSetDimensions, [\n            this\n        ]);\n    }\n    _callHooks(name) {\n        this.chart.notifyPlugins(name, this.getContext());\n        callback(this.options[name], [\n            this\n        ]);\n    }\n    beforeDataLimits() {\n        this._callHooks('beforeDataLimits');\n    }\n    determineDataLimits() {}\n    afterDataLimits() {\n        this._callHooks('afterDataLimits');\n    }\n    beforeBuildTicks() {\n        this._callHooks('beforeBuildTicks');\n    }\n buildTicks() {\n        return [];\n    }\n    afterBuildTicks() {\n        this._callHooks('afterBuildTicks');\n    }\n    beforeTickToLabelConversion() {\n        callback(this.options.beforeTickToLabelConversion, [\n            this\n        ]);\n    }\n generateTickLabels(ticks) {\n        const tickOpts = this.options.ticks;\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            tick = ticks[i];\n            tick.label = callback(tickOpts.callback, [\n                tick.value,\n                i,\n                ticks\n            ], this);\n        }\n    }\n    afterTickToLabelConversion() {\n        callback(this.options.afterTickToLabelConversion, [\n            this\n        ]);\n    }\n    beforeCalculateLabelRotation() {\n        callback(this.options.beforeCalculateLabelRotation, [\n            this\n        ]);\n    }\n    calculateLabelRotation() {\n        const options = this.options;\n        const tickOpts = options.ticks;\n        const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n        const minRotation = tickOpts.minRotation || 0;\n        const maxRotation = tickOpts.maxRotation;\n        let labelRotation = minRotation;\n        let tickWidth, maxHeight, maxLabelDiagonal;\n        if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n            this.labelRotation = minRotation;\n            return;\n        }\n        const labelSizes = this._getLabelSizes();\n        const maxLabelWidth = labelSizes.widest.width;\n        const maxLabelHeight = labelSizes.highest.height;\n        const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n        tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n        if (maxLabelWidth + 6 > tickWidth) {\n            tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n            maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n            maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n            labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n            labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n        }\n        this.labelRotation = labelRotation;\n    }\n    afterCalculateLabelRotation() {\n        callback(this.options.afterCalculateLabelRotation, [\n            this\n        ]);\n    }\n    afterAutoSkip() {}\n    beforeFit() {\n        callback(this.options.beforeFit, [\n            this\n        ]);\n    }\n    fit() {\n        const minSize = {\n            width: 0,\n            height: 0\n        };\n        const { chart , options: { ticks: tickOpts , title: titleOpts , grid: gridOpts  }  } = this;\n        const display = this._isVisible();\n        const isHorizontal = this.isHorizontal();\n        if (display) {\n            const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n            if (isHorizontal) {\n                minSize.width = this.maxWidth;\n                minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n            } else {\n                minSize.height = this.maxHeight;\n                minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n            }\n            if (tickOpts.display && this.ticks.length) {\n                const { first , last , widest , highest  } = this._getLabelSizes();\n                const tickPadding = tickOpts.padding * 2;\n                const angleRadians = toRadians(this.labelRotation);\n                const cos = Math.cos(angleRadians);\n                const sin = Math.sin(angleRadians);\n                if (isHorizontal) {\n                    const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n                    minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n                } else {\n                    const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n                    minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n                }\n                this._calculatePadding(first, last, sin, cos);\n            }\n        }\n        this._handleMargins();\n        if (isHorizontal) {\n            this.width = this._length = chart.width - this._margins.left - this._margins.right;\n            this.height = minSize.height;\n        } else {\n            this.width = minSize.width;\n            this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n        }\n    }\n    _calculatePadding(first, last, sin, cos) {\n        const { ticks: { align , padding  } , position  } = this.options;\n        const isRotated = this.labelRotation !== 0;\n        const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n        if (this.isHorizontal()) {\n            const offsetLeft = this.getPixelForTick(0) - this.left;\n            const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n            let paddingLeft = 0;\n            let paddingRight = 0;\n            if (isRotated) {\n                if (labelsBelowTicks) {\n                    paddingLeft = cos * first.width;\n                    paddingRight = sin * last.height;\n                } else {\n                    paddingLeft = sin * first.height;\n                    paddingRight = cos * last.width;\n                }\n            } else if (align === 'start') {\n                paddingRight = last.width;\n            } else if (align === 'end') {\n                paddingLeft = first.width;\n            } else if (align !== 'inner') {\n                paddingLeft = first.width / 2;\n                paddingRight = last.width / 2;\n            }\n            this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n            this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n        } else {\n            let paddingTop = last.height / 2;\n            let paddingBottom = first.height / 2;\n            if (align === 'start') {\n                paddingTop = 0;\n                paddingBottom = first.height;\n            } else if (align === 'end') {\n                paddingTop = last.height;\n                paddingBottom = 0;\n            }\n            this.paddingTop = paddingTop + padding;\n            this.paddingBottom = paddingBottom + padding;\n        }\n    }\n _handleMargins() {\n        if (this._margins) {\n            this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n            this._margins.top = Math.max(this.paddingTop, this._margins.top);\n            this._margins.right = Math.max(this.paddingRight, this._margins.right);\n            this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n        }\n    }\n    afterFit() {\n        callback(this.options.afterFit, [\n            this\n        ]);\n    }\n isHorizontal() {\n        const { axis , position  } = this.options;\n        return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n isFullSize() {\n        return this.options.fullSize;\n    }\n _convertTicksToLabels(ticks) {\n        this.beforeTickToLabelConversion();\n        this.generateTickLabels(ticks);\n        let i, ilen;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            if (isNullOrUndef(ticks[i].label)) {\n                ticks.splice(i, 1);\n                ilen--;\n                i--;\n            }\n        }\n        this.afterTickToLabelConversion();\n    }\n _getLabelSizes() {\n        let labelSizes = this._labelSizes;\n        if (!labelSizes) {\n            const sampleSize = this.options.ticks.sampleSize;\n            let ticks = this.ticks;\n            if (sampleSize < ticks.length) {\n                ticks = sample(ticks, sampleSize);\n            }\n            this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n        }\n        return labelSizes;\n    }\n _computeLabelSizes(ticks, length, maxTicksLimit) {\n        const { ctx , _longestTextCache: caches  } = this;\n        const widths = [];\n        const heights = [];\n        const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n        let widestLabelSize = 0;\n        let highestLabelSize = 0;\n        let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n        for(i = 0; i < length; i += increment){\n            label = ticks[i].label;\n            tickFont = this._resolveTickFontOptions(i);\n            ctx.font = fontString = tickFont.string;\n            cache = caches[fontString] = caches[fontString] || {\n                data: {},\n                gc: []\n            };\n            lineHeight = tickFont.lineHeight;\n            width = height = 0;\n            if (!isNullOrUndef(label) && !isArray(label)) {\n                width = _measureText(ctx, cache.data, cache.gc, width, label);\n                height = lineHeight;\n            } else if (isArray(label)) {\n                for(j = 0, jlen = label.length; j < jlen; ++j){\n                    nestedLabel =  label[j];\n                    if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n                        width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n                        height += lineHeight;\n                    }\n                }\n            }\n            widths.push(width);\n            heights.push(height);\n            widestLabelSize = Math.max(width, widestLabelSize);\n            highestLabelSize = Math.max(height, highestLabelSize);\n        }\n        garbageCollect(caches, length);\n        const widest = widths.indexOf(widestLabelSize);\n        const highest = heights.indexOf(highestLabelSize);\n        const valueAt = (idx)=>({\n                width: widths[idx] || 0,\n                height: heights[idx] || 0\n            });\n        return {\n            first: valueAt(0),\n            last: valueAt(length - 1),\n            widest: valueAt(widest),\n            highest: valueAt(highest),\n            widths,\n            heights\n        };\n    }\n getLabelForValue(value) {\n        return value;\n    }\n getPixelForValue(value, index) {\n        return NaN;\n    }\n getValueForPixel(pixel) {}\n getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n getPixelForDecimal(decimal) {\n        if (this._reversePixels) {\n            decimal = 1 - decimal;\n        }\n        const pixel = this._startPixel + decimal * this._length;\n        return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n getDecimalForPixel(pixel) {\n        const decimal = (pixel - this._startPixel) / this._length;\n        return this._reversePixels ? 1 - decimal : decimal;\n    }\n getBasePixel() {\n        return this.getPixelForValue(this.getBaseValue());\n    }\n getBaseValue() {\n        const { min , max  } = this;\n        return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n getContext(index) {\n        const ticks = this.ticks || [];\n        if (index >= 0 && index < ticks.length) {\n            const tick = ticks[index];\n            return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n        }\n        return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n _tickSize() {\n        const optionTicks = this.options.ticks;\n        const rot = toRadians(this.labelRotation);\n        const cos = Math.abs(Math.cos(rot));\n        const sin = Math.abs(Math.sin(rot));\n        const labelSizes = this._getLabelSizes();\n        const padding = optionTicks.autoSkipPadding || 0;\n        const w = labelSizes ? labelSizes.widest.width + padding : 0;\n        const h = labelSizes ? labelSizes.highest.height + padding : 0;\n        return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n _isVisible() {\n        const display = this.options.display;\n        if (display !== 'auto') {\n            return !!display;\n        }\n        return this.getMatchingVisibleMetas().length > 0;\n    }\n _computeGridLineItems(chartArea) {\n        const axis = this.axis;\n        const chart = this.chart;\n        const options = this.options;\n        const { grid , position , border  } = options;\n        const offset = grid.offset;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const ticksLength = ticks.length + (offset ? 1 : 0);\n        const tl = getTickMarkLength(grid);\n        const items = [];\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = borderOpts.display ? borderOpts.width : 0;\n        const axisHalfWidth = axisWidth / 2;\n        const alignBorderValue = function(pixel) {\n            return _alignPixel(chart, pixel, axisWidth);\n        };\n        let borderValue, i, lineValue, alignedLineValue;\n        let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n        if (position === 'top') {\n            borderValue = alignBorderValue(this.bottom);\n            ty1 = this.bottom - tl;\n            ty2 = borderValue - axisHalfWidth;\n            y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n            y2 = chartArea.bottom;\n        } else if (position === 'bottom') {\n            borderValue = alignBorderValue(this.top);\n            y1 = chartArea.top;\n            y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = this.top + tl;\n        } else if (position === 'left') {\n            borderValue = alignBorderValue(this.right);\n            tx1 = this.right - tl;\n            tx2 = borderValue - axisHalfWidth;\n            x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n            x2 = chartArea.right;\n        } else if (position === 'right') {\n            borderValue = alignBorderValue(this.left);\n            x1 = chartArea.left;\n            x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n            tx1 = borderValue + axisHalfWidth;\n            tx2 = this.left + tl;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            y1 = chartArea.top;\n            y2 = chartArea.bottom;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = ty1 + tl;\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            tx1 = borderValue - axisHalfWidth;\n            tx2 = tx1 - tl;\n            x1 = chartArea.left;\n            x2 = chartArea.right;\n        }\n        const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n        const step = Math.max(1, Math.ceil(ticksLength / limit));\n        for(i = 0; i < ticksLength; i += step){\n            const context = this.getContext(i);\n            const optsAtIndex = grid.setContext(context);\n            const optsAtIndexBorder = border.setContext(context);\n            const lineWidth = optsAtIndex.lineWidth;\n            const lineColor = optsAtIndex.color;\n            const borderDash = optsAtIndexBorder.dash || [];\n            const borderDashOffset = optsAtIndexBorder.dashOffset;\n            const tickWidth = optsAtIndex.tickWidth;\n            const tickColor = optsAtIndex.tickColor;\n            const tickBorderDash = optsAtIndex.tickBorderDash || [];\n            const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n            lineValue = getPixelForGridLine(this, i, offset);\n            if (lineValue === undefined) {\n                continue;\n            }\n            alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n            if (isHorizontal) {\n                tx1 = tx2 = x1 = x2 = alignedLineValue;\n            } else {\n                ty1 = ty2 = y1 = y2 = alignedLineValue;\n            }\n            items.push({\n                tx1,\n                ty1,\n                tx2,\n                ty2,\n                x1,\n                y1,\n                x2,\n                y2,\n                width: lineWidth,\n                color: lineColor,\n                borderDash,\n                borderDashOffset,\n                tickWidth,\n                tickColor,\n                tickBorderDash,\n                tickBorderDashOffset\n            });\n        }\n        this._ticksLength = ticksLength;\n        this._borderValue = borderValue;\n        return items;\n    }\n _computeLabelItems(chartArea) {\n        const axis = this.axis;\n        const options = this.options;\n        const { position , ticks: optionTicks  } = options;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const { align , crossAlign , padding , mirror  } = optionTicks;\n        const tl = getTickMarkLength(options.grid);\n        const tickAndPadding = tl + padding;\n        const hTickAndPadding = mirror ? -padding : tickAndPadding;\n        const rotation = -toRadians(this.labelRotation);\n        const items = [];\n        let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n        let textBaseline = 'middle';\n        if (position === 'top') {\n            y = this.bottom - hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'bottom') {\n            y = this.top + hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'left') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (position === 'right') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n            }\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                x = this.chart.scales[positionAxisID].getPixelForValue(value);\n            }\n            textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n        }\n        if (axis === 'y') {\n            if (align === 'start') {\n                textBaseline = 'top';\n            } else if (align === 'end') {\n                textBaseline = 'bottom';\n            }\n        }\n        const labelSizes = this._getLabelSizes();\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            label = tick.label;\n            const optsAtIndex = optionTicks.setContext(this.getContext(i));\n            pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n            font = this._resolveTickFontOptions(i);\n            lineHeight = font.lineHeight;\n            lineCount = isArray(label) ? label.length : 1;\n            const halfCount = lineCount / 2;\n            const color = optsAtIndex.color;\n            const strokeColor = optsAtIndex.textStrokeColor;\n            const strokeWidth = optsAtIndex.textStrokeWidth;\n            let tickTextAlign = textAlign;\n            if (isHorizontal) {\n                x = pixel;\n                if (textAlign === 'inner') {\n                    if (i === ilen - 1) {\n                        tickTextAlign = !this.options.reverse ? 'right' : 'left';\n                    } else if (i === 0) {\n                        tickTextAlign = !this.options.reverse ? 'left' : 'right';\n                    } else {\n                        tickTextAlign = 'center';\n                    }\n                }\n                if (position === 'top') {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = -lineCount * lineHeight + lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n                    } else {\n                        textOffset = -labelSizes.highest.height + lineHeight / 2;\n                    }\n                } else {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n                    } else {\n                        textOffset = labelSizes.highest.height - lineCount * lineHeight;\n                    }\n                }\n                if (mirror) {\n                    textOffset *= -1;\n                }\n                if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n                    x += lineHeight / 2 * Math.sin(rotation);\n                }\n            } else {\n                y = pixel;\n                textOffset = (1 - lineCount) * lineHeight / 2;\n            }\n            let backdrop;\n            if (optsAtIndex.showLabelBackdrop) {\n                const labelPadding = toPadding(optsAtIndex.backdropPadding);\n                const height = labelSizes.heights[i];\n                const width = labelSizes.widths[i];\n                let top = textOffset - labelPadding.top;\n                let left = 0 - labelPadding.left;\n                switch(textBaseline){\n                    case 'middle':\n                        top -= height / 2;\n                        break;\n                    case 'bottom':\n                        top -= height;\n                        break;\n                }\n                switch(textAlign){\n                    case 'center':\n                        left -= width / 2;\n                        break;\n                    case 'right':\n                        left -= width;\n                        break;\n                    case 'inner':\n                        if (i === ilen - 1) {\n                            left -= width;\n                        } else if (i > 0) {\n                            left -= width / 2;\n                        }\n                        break;\n                }\n                backdrop = {\n                    left,\n                    top,\n                    width: width + labelPadding.width,\n                    height: height + labelPadding.height,\n                    color: optsAtIndex.backdropColor\n                };\n            }\n            items.push({\n                label,\n                font,\n                textOffset,\n                options: {\n                    rotation,\n                    color,\n                    strokeColor,\n                    strokeWidth,\n                    textAlign: tickTextAlign,\n                    textBaseline,\n                    translation: [\n                        x,\n                        y\n                    ],\n                    backdrop\n                }\n            });\n        }\n        return items;\n    }\n    _getXAxisLabelAlignment() {\n        const { position , ticks  } = this.options;\n        const rotation = -toRadians(this.labelRotation);\n        if (rotation) {\n            return position === 'top' ? 'left' : 'right';\n        }\n        let align = 'center';\n        if (ticks.align === 'start') {\n            align = 'left';\n        } else if (ticks.align === 'end') {\n            align = 'right';\n        } else if (ticks.align === 'inner') {\n            align = 'inner';\n        }\n        return align;\n    }\n    _getYAxisLabelAlignment(tl) {\n        const { position , ticks: { crossAlign , mirror , padding  }  } = this.options;\n        const labelSizes = this._getLabelSizes();\n        const tickAndPadding = tl + padding;\n        const widest = labelSizes.widest.width;\n        let textAlign;\n        let x;\n        if (position === 'left') {\n            if (mirror) {\n                x = this.right + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x += widest;\n                }\n            } else {\n                x = this.right - tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x = this.left;\n                }\n            }\n        } else if (position === 'right') {\n            if (mirror) {\n                x = this.left + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x -= widest;\n                }\n            } else {\n                x = this.left + tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x = this.right;\n                }\n            }\n        } else {\n            textAlign = 'right';\n        }\n        return {\n            textAlign,\n            x\n        };\n    }\n _computeLabelArea() {\n        if (this.options.ticks.mirror) {\n            return;\n        }\n        const chart = this.chart;\n        const position = this.options.position;\n        if (position === 'left' || position === 'right') {\n            return {\n                top: 0,\n                left: this.left,\n                bottom: chart.height,\n                right: this.right\n            };\n        }\n        if (position === 'top' || position === 'bottom') {\n            return {\n                top: this.top,\n                left: 0,\n                bottom: this.bottom,\n                right: chart.width\n            };\n        }\n    }\n drawBackground() {\n        const { ctx , options: { backgroundColor  } , left , top , width , height  } = this;\n        if (backgroundColor) {\n            ctx.save();\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(left, top, width, height);\n            ctx.restore();\n        }\n    }\n    getLineWidthForValue(value) {\n        const grid = this.options.grid;\n        if (!this._isVisible() || !grid.display) {\n            return 0;\n        }\n        const ticks = this.ticks;\n        const index = ticks.findIndex((t)=>t.value === value);\n        if (index >= 0) {\n            const opts = grid.setContext(this.getContext(index));\n            return opts.lineWidth;\n        }\n        return 0;\n    }\n drawGrid(chartArea) {\n        const grid = this.options.grid;\n        const ctx = this.ctx;\n        const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n        let i, ilen;\n        const drawLine = (p1, p2, style)=>{\n            if (!style.width || !style.color) {\n                return;\n            }\n            ctx.save();\n            ctx.lineWidth = style.width;\n            ctx.strokeStyle = style.color;\n            ctx.setLineDash(style.borderDash || []);\n            ctx.lineDashOffset = style.borderDashOffset;\n            ctx.beginPath();\n            ctx.moveTo(p1.x, p1.y);\n            ctx.lineTo(p2.x, p2.y);\n            ctx.stroke();\n            ctx.restore();\n        };\n        if (grid.display) {\n            for(i = 0, ilen = items.length; i < ilen; ++i){\n                const item = items[i];\n                if (grid.drawOnChartArea) {\n                    drawLine({\n                        x: item.x1,\n                        y: item.y1\n                    }, {\n                        x: item.x2,\n                        y: item.y2\n                    }, item);\n                }\n                if (grid.drawTicks) {\n                    drawLine({\n                        x: item.tx1,\n                        y: item.ty1\n                    }, {\n                        x: item.tx2,\n                        y: item.ty2\n                    }, {\n                        color: item.tickColor,\n                        width: item.tickWidth,\n                        borderDash: item.tickBorderDash,\n                        borderDashOffset: item.tickBorderDashOffset\n                    });\n                }\n            }\n        }\n    }\n drawBorder() {\n        const { chart , ctx , options: { border , grid  }  } = this;\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = border.display ? borderOpts.width : 0;\n        if (!axisWidth) {\n            return;\n        }\n        const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n        const borderValue = this._borderValue;\n        let x1, x2, y1, y2;\n        if (this.isHorizontal()) {\n            x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n            x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n            y1 = y2 = borderValue;\n        } else {\n            y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n            y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n            x1 = x2 = borderValue;\n        }\n        ctx.save();\n        ctx.lineWidth = borderOpts.width;\n        ctx.strokeStyle = borderOpts.color;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        ctx.restore();\n    }\n drawLabels(chartArea) {\n        const optionTicks = this.options.ticks;\n        if (!optionTicks.display) {\n            return;\n        }\n        const ctx = this.ctx;\n        const area = this._computeLabelArea();\n        if (area) {\n            clipArea(ctx, area);\n        }\n        const items = this.getLabelItems(chartArea);\n        for (const item of items){\n            const renderTextOptions = item.options;\n            const tickFont = item.font;\n            const label = item.label;\n            const y = item.textOffset;\n            renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n        }\n        if (area) {\n            unclipArea(ctx);\n        }\n    }\n drawTitle() {\n        const { ctx , options: { position , title , reverse  }  } = this;\n        if (!title.display) {\n            return;\n        }\n        const font = toFont(title.font);\n        const padding = toPadding(title.padding);\n        const align = title.align;\n        let offset = font.lineHeight / 2;\n        if (position === 'bottom' || position === 'center' || isObject(position)) {\n            offset += padding.bottom;\n            if (isArray(title.text)) {\n                offset += font.lineHeight * (title.text.length - 1);\n            }\n        } else {\n            offset += padding.top;\n        }\n        const { titleX , titleY , maxWidth , rotation  } = titleArgs(this, offset, position, align);\n        renderText(ctx, title.text, 0, 0, font, {\n            color: title.color,\n            maxWidth,\n            rotation,\n            textAlign: titleAlign(align, position, reverse),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n    draw(chartArea) {\n        if (!this._isVisible()) {\n            return;\n        }\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawBorder();\n        this.drawTitle();\n        this.drawLabels(chartArea);\n    }\n _layers() {\n        const opts = this.options;\n        const tz = opts.ticks && opts.ticks.z || 0;\n        const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n        const bz = valueOrDefault(opts.border && opts.border.z, 0);\n        if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n            return [\n                {\n                    z: tz,\n                    draw: (chartArea)=>{\n                        this.draw(chartArea);\n                    }\n                }\n            ];\n        }\n        return [\n            {\n                z: gz,\n                draw: (chartArea)=>{\n                    this.drawBackground();\n                    this.drawGrid(chartArea);\n                    this.drawTitle();\n                }\n            },\n            {\n                z: bz,\n                draw: ()=>{\n                    this.drawBorder();\n                }\n            },\n            {\n                z: tz,\n                draw: (chartArea)=>{\n                    this.drawLabels(chartArea);\n                }\n            }\n        ];\n    }\n getMatchingVisibleMetas(type) {\n        const metas = this.chart.getSortedVisibleDatasetMetas();\n        const axisID = this.axis + 'AxisID';\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            const meta = metas[i];\n            if (meta[axisID] === this.id && (!type || meta.type === type)) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n _resolveTickFontOptions(index) {\n        const opts = this.options.ticks.setContext(this.getContext(index));\n        return toFont(opts.font);\n    }\n _maxDigits() {\n        const fontSize = this._resolveTickFontOptions(0).lineHeight;\n        return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n}\n\nclass TypedRegistry {\n    constructor(type, scope, override){\n        this.type = type;\n        this.scope = scope;\n        this.override = override;\n        this.items = Object.create(null);\n    }\n    isForType(type) {\n        return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n register(item) {\n        const proto = Object.getPrototypeOf(item);\n        let parentScope;\n        if (isIChartComponent(proto)) {\n            parentScope = this.register(proto);\n        }\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope + '.' + id;\n        if (!id) {\n            throw new Error('class does not have id: ' + item);\n        }\n        if (id in items) {\n            return scope;\n        }\n        items[id] = item;\n        registerDefaults(item, scope, parentScope);\n        if (this.override) {\n            defaults.override(item.id, item.overrides);\n        }\n        return scope;\n    }\n get(id) {\n        return this.items[id];\n    }\n unregister(item) {\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope;\n        if (id in items) {\n            delete items[id];\n        }\n        if (scope && id in defaults[scope]) {\n            delete defaults[scope][id];\n            if (this.override) {\n                delete overrides[id];\n            }\n        }\n    }\n}\nfunction registerDefaults(item, scope, parentScope) {\n    const itemDefaults = merge(Object.create(null), [\n        parentScope ? defaults.get(parentScope) : {},\n        defaults.get(scope),\n        item.defaults\n    ]);\n    defaults.set(scope, itemDefaults);\n    if (item.defaultRoutes) {\n        routeDefaults(scope, item.defaultRoutes);\n    }\n    if (item.descriptors) {\n        defaults.describe(scope, item.descriptors);\n    }\n}\nfunction routeDefaults(scope, routes) {\n    Object.keys(routes).forEach((property)=>{\n        const propertyParts = property.split('.');\n        const sourceName = propertyParts.pop();\n        const sourceScope = [\n            scope\n        ].concat(propertyParts).join('.');\n        const parts = routes[property].split('.');\n        const targetName = parts.pop();\n        const targetScope = parts.join('.');\n        defaults.route(sourceScope, sourceName, targetScope, targetName);\n    });\n}\nfunction isIChartComponent(proto) {\n    return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n    constructor(){\n        this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n        this.elements = new TypedRegistry(Element, 'elements');\n        this.plugins = new TypedRegistry(Object, 'plugins');\n        this.scales = new TypedRegistry(Scale, 'scales');\n        this._typedRegistries = [\n            this.controllers,\n            this.scales,\n            this.elements\n        ];\n    }\n add(...args) {\n        this._each('register', args);\n    }\n    remove(...args) {\n        this._each('unregister', args);\n    }\n addControllers(...args) {\n        this._each('register', args, this.controllers);\n    }\n addElements(...args) {\n        this._each('register', args, this.elements);\n    }\n addPlugins(...args) {\n        this._each('register', args, this.plugins);\n    }\n addScales(...args) {\n        this._each('register', args, this.scales);\n    }\n getController(id) {\n        return this._get(id, this.controllers, 'controller');\n    }\n getElement(id) {\n        return this._get(id, this.elements, 'element');\n    }\n getPlugin(id) {\n        return this._get(id, this.plugins, 'plugin');\n    }\n getScale(id) {\n        return this._get(id, this.scales, 'scale');\n    }\n removeControllers(...args) {\n        this._each('unregister', args, this.controllers);\n    }\n removeElements(...args) {\n        this._each('unregister', args, this.elements);\n    }\n removePlugins(...args) {\n        this._each('unregister', args, this.plugins);\n    }\n removeScales(...args) {\n        this._each('unregister', args, this.scales);\n    }\n _each(method, args, typedRegistry) {\n        [\n            ...args\n        ].forEach((arg)=>{\n            const reg = typedRegistry || this._getRegistryForType(arg);\n            if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {\n                this._exec(method, reg, arg);\n            } else {\n                each(arg, (item)=>{\n                    const itemReg = typedRegistry || this._getRegistryForType(item);\n                    this._exec(method, itemReg, item);\n                });\n            }\n        });\n    }\n _exec(method, registry, component) {\n        const camelMethod = _capitalize(method);\n        callback(component['before' + camelMethod], [], component);\n        registry[method](component);\n        callback(component['after' + camelMethod], [], component);\n    }\n _getRegistryForType(type) {\n        for(let i = 0; i < this._typedRegistries.length; i++){\n            const reg = this._typedRegistries[i];\n            if (reg.isForType(type)) {\n                return reg;\n            }\n        }\n        return this.plugins;\n    }\n _get(id, typedRegistry, type) {\n        const item = typedRegistry.get(id);\n        if (item === undefined) {\n            throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n        }\n        return item;\n    }\n}\nvar registry = /* #__PURE__ */ new Registry();\n\nclass PluginService {\n    constructor(){\n        this._init = [];\n    }\n notify(chart, hook, args, filter) {\n        if (hook === 'beforeInit') {\n            this._init = this._createDescriptors(chart, true);\n            this._notify(this._init, chart, 'install');\n        }\n        const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n        const result = this._notify(descriptors, chart, hook, args);\n        if (hook === 'afterDestroy') {\n            this._notify(descriptors, chart, 'stop');\n            this._notify(this._init, chart, 'uninstall');\n        }\n        return result;\n    }\n _notify(descriptors, chart, hook, args) {\n        args = args || {};\n        for (const descriptor of descriptors){\n            const plugin = descriptor.plugin;\n            const method = plugin[hook];\n            const params = [\n                chart,\n                args,\n                descriptor.options\n            ];\n            if (callback(method, params, plugin) === false && args.cancelable) {\n                return false;\n            }\n        }\n        return true;\n    }\n    invalidate() {\n        if (!isNullOrUndef(this._cache)) {\n            this._oldCache = this._cache;\n            this._cache = undefined;\n        }\n    }\n _descriptors(chart) {\n        if (this._cache) {\n            return this._cache;\n        }\n        const descriptors = this._cache = this._createDescriptors(chart);\n        this._notifyStateChanges(chart);\n        return descriptors;\n    }\n    _createDescriptors(chart, all) {\n        const config = chart && chart.config;\n        const options = valueOrDefault(config.options && config.options.plugins, {});\n        const plugins = allPlugins(config);\n        return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n _notifyStateChanges(chart) {\n        const previousDescriptors = this._oldCache || [];\n        const descriptors = this._cache;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.plugin.id === y.plugin.id));\n        this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n        this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n}\n function allPlugins(config) {\n    const localIds = {};\n    const plugins = [];\n    const keys = Object.keys(registry.plugins.items);\n    for(let i = 0; i < keys.length; i++){\n        plugins.push(registry.getPlugin(keys[i]));\n    }\n    const local = config.plugins || [];\n    for(let i = 0; i < local.length; i++){\n        const plugin = local[i];\n        if (plugins.indexOf(plugin) === -1) {\n            plugins.push(plugin);\n            localIds[plugin.id] = true;\n        }\n    }\n    return {\n        plugins,\n        localIds\n    };\n}\nfunction getOpts(options, all) {\n    if (!all && options === false) {\n        return null;\n    }\n    if (options === true) {\n        return {};\n    }\n    return options;\n}\nfunction createDescriptors(chart, { plugins , localIds  }, options, all) {\n    const result = [];\n    const context = chart.getContext();\n    for (const plugin of plugins){\n        const id = plugin.id;\n        const opts = getOpts(options[id], all);\n        if (opts === null) {\n            continue;\n        }\n        result.push({\n            plugin,\n            options: pluginOpts(chart.config, {\n                plugin,\n                local: localIds[id]\n            }, opts, context)\n        });\n    }\n    return result;\n}\nfunction pluginOpts(config, { plugin , local  }, opts, context) {\n    const keys = config.pluginScopeKeys(plugin);\n    const scopes = config.getOptionScopes(opts, keys);\n    if (local && plugin.defaults) {\n        scopes.push(plugin.defaults);\n    }\n    return config.createResolver(scopes, context, [\n        ''\n    ], {\n        scriptable: false,\n        indexable: false,\n        allKeys: true\n    });\n}\n\nfunction getIndexAxis(type, options) {\n    const datasetDefaults = defaults.datasets[type] || {};\n    const datasetOptions = (options.datasets || {})[type] || {};\n    return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n    let axis = id;\n    if (id === '_index_') {\n        axis = indexAxis;\n    } else if (id === '_value_') {\n        axis = indexAxis === 'x' ? 'y' : 'x';\n    }\n    return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n    return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction idMatchesAxis(id) {\n    if (id === 'x' || id === 'y' || id === 'r') {\n        return id;\n    }\n}\nfunction axisFromPosition(position) {\n    if (position === 'top' || position === 'bottom') {\n        return 'x';\n    }\n    if (position === 'left' || position === 'right') {\n        return 'y';\n    }\n}\nfunction determineAxis(id, ...scaleOptions) {\n    if (idMatchesAxis(id)) {\n        return id;\n    }\n    for (const opts of scaleOptions){\n        const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n        if (axis) {\n            return axis;\n        }\n    }\n    throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\nfunction getAxisFromDataset(id, axis, dataset) {\n    if (dataset[axis + 'AxisID'] === id) {\n        return {\n            axis\n        };\n    }\n}\nfunction retrieveAxisFromDatasets(id, config) {\n    if (config.data && config.data.datasets) {\n        const boundDs = config.data.datasets.filter((d)=>d.xAxisID === id || d.yAxisID === id);\n        if (boundDs.length) {\n            return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n        }\n    }\n    return {};\n}\nfunction mergeScaleConfig(config, options) {\n    const chartDefaults = overrides[config.type] || {\n        scales: {}\n    };\n    const configScales = options.scales || {};\n    const chartIndexAxis = getIndexAxis(config.type, options);\n    const scales = Object.create(null);\n    Object.keys(configScales).forEach((id)=>{\n        const scaleConf = configScales[id];\n        if (!isObject(scaleConf)) {\n            return console.error(`Invalid scale configuration for scale: ${id}`);\n        }\n        if (scaleConf._proxy) {\n            return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n        }\n        const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n        const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n        const defaultScaleOptions = chartDefaults.scales || {};\n        scales[id] = mergeIf(Object.create(null), [\n            {\n                axis\n            },\n            scaleConf,\n            defaultScaleOptions[axis],\n            defaultScaleOptions[defaultId]\n        ]);\n    });\n    config.data.datasets.forEach((dataset)=>{\n        const type = dataset.type || config.type;\n        const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n        const datasetDefaults = overrides[type] || {};\n        const defaultScaleOptions = datasetDefaults.scales || {};\n        Object.keys(defaultScaleOptions).forEach((defaultID)=>{\n            const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n            const id = dataset[axis + 'AxisID'] || axis;\n            scales[id] = scales[id] || Object.create(null);\n            mergeIf(scales[id], [\n                {\n                    axis\n                },\n                configScales[id],\n                defaultScaleOptions[defaultID]\n            ]);\n        });\n    });\n    Object.keys(scales).forEach((key)=>{\n        const scale = scales[key];\n        mergeIf(scale, [\n            defaults.scales[scale.type],\n            defaults.scale\n        ]);\n    });\n    return scales;\n}\nfunction initOptions(config) {\n    const options = config.options || (config.options = {});\n    options.plugins = valueOrDefault(options.plugins, {});\n    options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n    data = data || {};\n    data.datasets = data.datasets || [];\n    data.labels = data.labels || [];\n    return data;\n}\nfunction initConfig(config) {\n    config = config || {};\n    config.data = initData(config.data);\n    initOptions(config);\n    return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n    let keys = keyCache.get(cacheKey);\n    if (!keys) {\n        keys = generate();\n        keyCache.set(cacheKey, keys);\n        keysCached.add(keys);\n    }\n    return keys;\n}\nconst addIfFound = (set, obj, key)=>{\n    const opts = resolveObjectKey(obj, key);\n    if (opts !== undefined) {\n        set.add(opts);\n    }\n};\nclass Config {\n    constructor(config){\n        this._config = initConfig(config);\n        this._scopeCache = new Map();\n        this._resolverCache = new Map();\n    }\n    get platform() {\n        return this._config.platform;\n    }\n    get type() {\n        return this._config.type;\n    }\n    set type(type) {\n        this._config.type = type;\n    }\n    get data() {\n        return this._config.data;\n    }\n    set data(data) {\n        this._config.data = initData(data);\n    }\n    get options() {\n        return this._config.options;\n    }\n    set options(options) {\n        this._config.options = options;\n    }\n    get plugins() {\n        return this._config.plugins;\n    }\n    update() {\n        const config = this._config;\n        this.clearCache();\n        initOptions(config);\n    }\n    clearCache() {\n        this._scopeCache.clear();\n        this._resolverCache.clear();\n    }\n datasetScopeKeys(datasetType) {\n        return cachedKeys(datasetType, ()=>[\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetAnimationScopeKeys(datasetType, transition) {\n        return cachedKeys(`${datasetType}.transition.${transition}`, ()=>[\n                [\n                    `datasets.${datasetType}.transitions.${transition}`,\n                    `transitions.${transition}`\n                ],\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetElementScopeKeys(datasetType, elementType) {\n        return cachedKeys(`${datasetType}-${elementType}`, ()=>[\n                [\n                    `datasets.${datasetType}.elements.${elementType}`,\n                    `datasets.${datasetType}`,\n                    `elements.${elementType}`,\n                    ''\n                ]\n            ]);\n    }\n pluginScopeKeys(plugin) {\n        const id = plugin.id;\n        const type = this.type;\n        return cachedKeys(`${type}-plugin-${id}`, ()=>[\n                [\n                    `plugins.${id}`,\n                    ...plugin.additionalOptionScopes || []\n                ]\n            ]);\n    }\n _cachedScopes(mainScope, resetCache) {\n        const _scopeCache = this._scopeCache;\n        let cache = _scopeCache.get(mainScope);\n        if (!cache || resetCache) {\n            cache = new Map();\n            _scopeCache.set(mainScope, cache);\n        }\n        return cache;\n    }\n getOptionScopes(mainScope, keyLists, resetCache) {\n        const { options , type  } = this;\n        const cache = this._cachedScopes(mainScope, resetCache);\n        const cached = cache.get(keyLists);\n        if (cached) {\n            return cached;\n        }\n        const scopes = new Set();\n        keyLists.forEach((keys)=>{\n            if (mainScope) {\n                scopes.add(mainScope);\n                keys.forEach((key)=>addIfFound(scopes, mainScope, key));\n            }\n            keys.forEach((key)=>addIfFound(scopes, options, key));\n            keys.forEach((key)=>addIfFound(scopes, overrides[type] || {}, key));\n            keys.forEach((key)=>addIfFound(scopes, defaults, key));\n            keys.forEach((key)=>addIfFound(scopes, descriptors, key));\n        });\n        const array = Array.from(scopes);\n        if (array.length === 0) {\n            array.push(Object.create(null));\n        }\n        if (keysCached.has(keyLists)) {\n            cache.set(keyLists, array);\n        }\n        return array;\n    }\n chartOptionScopes() {\n        const { options , type  } = this;\n        return [\n            options,\n            overrides[type] || {},\n            defaults.datasets[type] || {},\n            {\n                type\n            },\n            defaults,\n            descriptors\n        ];\n    }\n resolveNamedOptions(scopes, names, context, prefixes = [\n        ''\n    ]) {\n        const result = {\n            $shared: true\n        };\n        const { resolver , subPrefixes  } = getResolver(this._resolverCache, scopes, prefixes);\n        let options = resolver;\n        if (needContext(resolver, names)) {\n            result.$shared = false;\n            context = isFunction(context) ? context() : context;\n            const subResolver = this.createResolver(scopes, context, subPrefixes);\n            options = _attachContext(resolver, context, subResolver);\n        }\n        for (const prop of names){\n            result[prop] = options[prop];\n        }\n        return result;\n    }\n createResolver(scopes, context, prefixes = [\n        ''\n    ], descriptorDefaults) {\n        const { resolver  } = getResolver(this._resolverCache, scopes, prefixes);\n        return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n    let cache = resolverCache.get(scopes);\n    if (!cache) {\n        cache = new Map();\n        resolverCache.set(scopes, cache);\n    }\n    const cacheKey = prefixes.join();\n    let cached = cache.get(cacheKey);\n    if (!cached) {\n        const resolver = _createResolver(scopes, prefixes);\n        cached = {\n            resolver,\n            subPrefixes: prefixes.filter((p)=>!p.toLowerCase().includes('hover'))\n        };\n        cache.set(cacheKey, cached);\n    }\n    return cached;\n}\nconst hasFunction = (value)=>isObject(value) && Object.getOwnPropertyNames(value).some((key)=>isFunction(value[key]));\nfunction needContext(proxy, names) {\n    const { isScriptable , isIndexable  } = _descriptors(proxy);\n    for (const prop of names){\n        const scriptable = isScriptable(prop);\n        const indexable = isIndexable(prop);\n        const value = (indexable || scriptable) && proxy[prop];\n        if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar version = \"4.5.0\";\n\nconst KNOWN_POSITIONS = [\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'chartArea'\n];\nfunction positionIsHorizontal(position, axis) {\n    return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\nfunction compare2Level(l1, l2) {\n    return function(a, b) {\n        return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n    };\n}\nfunction onAnimationsComplete(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    chart.notifyPlugins('afterRender');\n    callback(animationOptions && animationOptions.onComplete, [\n        context\n    ], chart);\n}\nfunction onAnimationProgress(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    callback(animationOptions && animationOptions.onProgress, [\n        context\n    ], chart);\n}\n function getCanvas(item) {\n    if (_isDomSupported() && typeof item === 'string') {\n        item = document.getElementById(item);\n    } else if (item && item.length) {\n        item = item[0];\n    }\n    if (item && item.canvas) {\n        item = item.canvas;\n    }\n    return item;\n}\nconst instances = {};\nconst getChart = (key)=>{\n    const canvas = getCanvas(key);\n    return Object.values(instances).filter((c)=>c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n    const keys = Object.keys(obj);\n    for (const key of keys){\n        const intKey = +key;\n        if (intKey >= start) {\n            const value = obj[key];\n            delete obj[key];\n            if (move > 0 || intKey > start) {\n                obj[intKey + move] = value;\n            }\n        }\n    }\n}\n function determineLastEvent(e, lastEvent, inChartArea, isClick) {\n    if (!inChartArea || e.type === 'mouseout') {\n        return null;\n    }\n    if (isClick) {\n        return lastEvent;\n    }\n    return e;\n}\nclass Chart {\n    static defaults = defaults;\n    static instances = instances;\n    static overrides = overrides;\n    static registry = registry;\n    static version = version;\n    static getChart = getChart;\n    static register(...items) {\n        registry.add(...items);\n        invalidatePlugins();\n    }\n    static unregister(...items) {\n        registry.remove(...items);\n        invalidatePlugins();\n    }\n    constructor(item, userConfig){\n        const config = this.config = new Config(userConfig);\n        const initialCanvas = getCanvas(item);\n        const existingChart = getChart(initialCanvas);\n        if (existingChart) {\n            throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.');\n        }\n        const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n        this.platform.updateConfig(config);\n        const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n        const canvas = context && context.canvas;\n        const height = canvas && canvas.height;\n        const width = canvas && canvas.width;\n        this.id = uid();\n        this.ctx = context;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this._options = options;\n        this._aspectRatio = this.aspectRatio;\n        this._layers = [];\n        this._metasets = [];\n        this._stacks = undefined;\n        this.boxes = [];\n        this.currentDevicePixelRatio = undefined;\n        this.chartArea = undefined;\n        this._active = [];\n        this._lastEvent = undefined;\n        this._listeners = {};\n         this._responsiveListeners = undefined;\n        this._sortedMetasets = [];\n        this.scales = {};\n        this._plugins = new PluginService();\n        this.$proxies = {};\n        this._hiddenIndices = {};\n        this.attached = false;\n        this._animationsDisabled = undefined;\n        this.$context = undefined;\n        this._doResize = debounce((mode)=>this.update(mode), options.resizeDelay || 0);\n        this._dataChanges = [];\n        instances[this.id] = this;\n        if (!context || !canvas) {\n            console.error(\"Failed to create chart: can't acquire context from the given item\");\n            return;\n        }\n        animator.listen(this, 'complete', onAnimationsComplete);\n        animator.listen(this, 'progress', onAnimationProgress);\n        this._initialize();\n        if (this.attached) {\n            this.update();\n        }\n    }\n    get aspectRatio() {\n        const { options: { aspectRatio , maintainAspectRatio  } , width , height , _aspectRatio  } = this;\n        if (!isNullOrUndef(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (maintainAspectRatio && _aspectRatio) {\n            return _aspectRatio;\n        }\n        return height ? width / height : null;\n    }\n    get data() {\n        return this.config.data;\n    }\n    set data(data) {\n        this.config.data = data;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this.config.options = options;\n    }\n    get registry() {\n        return registry;\n    }\n _initialize() {\n        this.notifyPlugins('beforeInit');\n        if (this.options.responsive) {\n            this.resize();\n        } else {\n            retinaScale(this, this.options.devicePixelRatio);\n        }\n        this.bindEvents();\n        this.notifyPlugins('afterInit');\n        return this;\n    }\n    clear() {\n        clearCanvas(this.canvas, this.ctx);\n        return this;\n    }\n    stop() {\n        animator.stop(this);\n        return this;\n    }\n resize(width, height) {\n        if (!animator.running(this)) {\n            this._resize(width, height);\n        } else {\n            this._resizeBeforeDraw = {\n                width,\n                height\n            };\n        }\n    }\n    _resize(width, height) {\n        const options = this.options;\n        const canvas = this.canvas;\n        const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n        const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n        const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n        const mode = this.width ? 'resize' : 'attach';\n        this.width = newSize.width;\n        this.height = newSize.height;\n        this._aspectRatio = this.aspectRatio;\n        if (!retinaScale(this, newRatio, true)) {\n            return;\n        }\n        this.notifyPlugins('resize', {\n            size: newSize\n        });\n        callback(options.onResize, [\n            this,\n            newSize\n        ], this);\n        if (this.attached) {\n            if (this._doResize(mode)) {\n                this.render();\n            }\n        }\n    }\n    ensureScalesHaveIDs() {\n        const options = this.options;\n        const scalesOptions = options.scales || {};\n        each(scalesOptions, (axisOptions, axisID)=>{\n            axisOptions.id = axisID;\n        });\n    }\n buildOrUpdateScales() {\n        const options = this.options;\n        const scaleOpts = options.scales;\n        const scales = this.scales;\n        const updated = Object.keys(scales).reduce((obj, id)=>{\n            obj[id] = false;\n            return obj;\n        }, {});\n        let items = [];\n        if (scaleOpts) {\n            items = items.concat(Object.keys(scaleOpts).map((id)=>{\n                const scaleOptions = scaleOpts[id];\n                const axis = determineAxis(id, scaleOptions);\n                const isRadial = axis === 'r';\n                const isHorizontal = axis === 'x';\n                return {\n                    options: scaleOptions,\n                    dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n                    dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n                };\n            }));\n        }\n        each(items, (item)=>{\n            const scaleOptions = item.options;\n            const id = scaleOptions.id;\n            const axis = determineAxis(id, scaleOptions);\n            const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n            if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n                scaleOptions.position = item.dposition;\n            }\n            updated[id] = true;\n            let scale = null;\n            if (id in scales && scales[id].type === scaleType) {\n                scale = scales[id];\n            } else {\n                const scaleClass = registry.getScale(scaleType);\n                scale = new scaleClass({\n                    id,\n                    type: scaleType,\n                    ctx: this.ctx,\n                    chart: this\n                });\n                scales[scale.id] = scale;\n            }\n            scale.init(scaleOptions, options);\n        });\n        each(updated, (hasUpdated, id)=>{\n            if (!hasUpdated) {\n                delete scales[id];\n            }\n        });\n        each(scales, (scale)=>{\n            layouts.configure(this, scale, scale.options);\n            layouts.addBox(this, scale);\n        });\n    }\n _updateMetasets() {\n        const metasets = this._metasets;\n        const numData = this.data.datasets.length;\n        const numMeta = metasets.length;\n        metasets.sort((a, b)=>a.index - b.index);\n        if (numMeta > numData) {\n            for(let i = numData; i < numMeta; ++i){\n                this._destroyDatasetMeta(i);\n            }\n            metasets.splice(numData, numMeta - numData);\n        }\n        this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n _removeUnreferencedMetasets() {\n        const { _metasets: metasets , data: { datasets  }  } = this;\n        if (metasets.length > datasets.length) {\n            delete this._stacks;\n        }\n        metasets.forEach((meta, index)=>{\n            if (datasets.filter((x)=>x === meta._dataset).length === 0) {\n                this._destroyDatasetMeta(index);\n            }\n        });\n    }\n    buildOrUpdateControllers() {\n        const newControllers = [];\n        const datasets = this.data.datasets;\n        let i, ilen;\n        this._removeUnreferencedMetasets();\n        for(i = 0, ilen = datasets.length; i < ilen; i++){\n            const dataset = datasets[i];\n            let meta = this.getDatasetMeta(i);\n            const type = dataset.type || this.config.type;\n            if (meta.type && meta.type !== type) {\n                this._destroyDatasetMeta(i);\n                meta = this.getDatasetMeta(i);\n            }\n            meta.type = type;\n            meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n            meta.order = dataset.order || 0;\n            meta.index = i;\n            meta.label = '' + dataset.label;\n            meta.visible = this.isDatasetVisible(i);\n            if (meta.controller) {\n                meta.controller.updateIndex(i);\n                meta.controller.linkScales();\n            } else {\n                const ControllerClass = registry.getController(type);\n                const { datasetElementType , dataElementType  } = defaults.datasets[type];\n                Object.assign(ControllerClass, {\n                    dataElementType: registry.getElement(dataElementType),\n                    datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n                });\n                meta.controller = new ControllerClass(this, i);\n                newControllers.push(meta.controller);\n            }\n        }\n        this._updateMetasets();\n        return newControllers;\n    }\n _resetElements() {\n        each(this.data.datasets, (dataset, datasetIndex)=>{\n            this.getDatasetMeta(datasetIndex).controller.reset();\n        }, this);\n    }\n reset() {\n        this._resetElements();\n        this.notifyPlugins('reset');\n    }\n    update(mode) {\n        const config = this.config;\n        config.update();\n        const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        const animsDisabled = this._animationsDisabled = !options.animation;\n        this._updateScales();\n        this._checkEventBindings();\n        this._updateHiddenIndices();\n        this._plugins.invalidate();\n        if (this.notifyPlugins('beforeUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const newControllers = this.buildOrUpdateControllers();\n        this.notifyPlugins('beforeElementsUpdate');\n        let minPadding = 0;\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; i++){\n            const { controller  } = this.getDatasetMeta(i);\n            const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n            controller.buildOrUpdateElements(reset);\n            minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n        }\n        minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n        this._updateLayout(minPadding);\n        if (!animsDisabled) {\n            each(newControllers, (controller)=>{\n                controller.reset();\n            });\n        }\n        this._updateDatasets(mode);\n        this.notifyPlugins('afterUpdate', {\n            mode\n        });\n        this._layers.sort(compare2Level('z', '_idx'));\n        const { _active , _lastEvent  } = this;\n        if (_lastEvent) {\n            this._eventHandler(_lastEvent, true);\n        } else if (_active.length) {\n            this._updateHoverStyles(_active, _active, true);\n        }\n        this.render();\n    }\n _updateScales() {\n        each(this.scales, (scale)=>{\n            layouts.removeBox(this, scale);\n        });\n        this.ensureScalesHaveIDs();\n        this.buildOrUpdateScales();\n    }\n _checkEventBindings() {\n        const options = this.options;\n        const existingEvents = new Set(Object.keys(this._listeners));\n        const newEvents = new Set(options.events);\n        if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n            this.unbindEvents();\n            this.bindEvents();\n        }\n    }\n _updateHiddenIndices() {\n        const { _hiddenIndices  } = this;\n        const changes = this._getUniformDataChanges() || [];\n        for (const { method , start , count  } of changes){\n            const move = method === '_removeElements' ? -count : count;\n            moveNumericKeys(_hiddenIndices, start, move);\n        }\n    }\n _getUniformDataChanges() {\n        const _dataChanges = this._dataChanges;\n        if (!_dataChanges || !_dataChanges.length) {\n            return;\n        }\n        this._dataChanges = [];\n        const datasetCount = this.data.datasets.length;\n        const makeSet = (idx)=>new Set(_dataChanges.filter((c)=>c[0] === idx).map((c, i)=>i + ',' + c.splice(1).join(',')));\n        const changeSet = makeSet(0);\n        for(let i = 1; i < datasetCount; i++){\n            if (!setsEqual(changeSet, makeSet(i))) {\n                return;\n            }\n        }\n        return Array.from(changeSet).map((c)=>c.split(',')).map((a)=>({\n                method: a[1],\n                start: +a[2],\n                count: +a[3]\n            }));\n    }\n _updateLayout(minPadding) {\n        if (this.notifyPlugins('beforeLayout', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        layouts.update(this, this.width, this.height, minPadding);\n        const area = this.chartArea;\n        const noArea = area.width <= 0 || area.height <= 0;\n        this._layers = [];\n        each(this.boxes, (box)=>{\n            if (noArea && box.position === 'chartArea') {\n                return;\n            }\n            if (box.configure) {\n                box.configure();\n            }\n            this._layers.push(...box._layers());\n        }, this);\n        this._layers.forEach((item, index)=>{\n            item._idx = index;\n        });\n        this.notifyPlugins('afterLayout');\n    }\n _updateDatasets(mode) {\n        if (this.notifyPlugins('beforeDatasetsUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this.getDatasetMeta(i).controller.configure();\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._updateDataset(i, isFunction(mode) ? mode({\n                datasetIndex: i\n            }) : mode);\n        }\n        this.notifyPlugins('afterDatasetsUpdate', {\n            mode\n        });\n    }\n _updateDataset(index, mode) {\n        const meta = this.getDatasetMeta(index);\n        const args = {\n            meta,\n            index,\n            mode,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n            return;\n        }\n        meta.controller._update(mode);\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetUpdate', args);\n    }\n    render() {\n        if (this.notifyPlugins('beforeRender', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        if (animator.has(this)) {\n            if (this.attached && !animator.running(this)) {\n                animator.start(this);\n            }\n        } else {\n            this.draw();\n            onAnimationsComplete({\n                chart: this\n            });\n        }\n    }\n    draw() {\n        let i;\n        if (this._resizeBeforeDraw) {\n            const { width , height  } = this._resizeBeforeDraw;\n            this._resizeBeforeDraw = null;\n            this._resize(width, height);\n        }\n        this.clear();\n        if (this.width <= 0 || this.height <= 0) {\n            return;\n        }\n        if (this.notifyPlugins('beforeDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const layers = this._layers;\n        for(i = 0; i < layers.length && layers[i].z <= 0; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this._drawDatasets();\n        for(; i < layers.length; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this.notifyPlugins('afterDraw');\n    }\n _getSortedDatasetMetas(filterVisible) {\n        const metasets = this._sortedMetasets;\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metasets.length; i < ilen; ++i){\n            const meta = metasets[i];\n            if (!filterVisible || meta.visible) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n getSortedVisibleDatasetMetas() {\n        return this._getSortedDatasetMetas(true);\n    }\n _drawDatasets() {\n        if (this.notifyPlugins('beforeDatasetsDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const metasets = this.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            this._drawDataset(metasets[i]);\n        }\n        this.notifyPlugins('afterDatasetsDraw');\n    }\n _drawDataset(meta) {\n        const ctx = this.ctx;\n        const args = {\n            meta,\n            index: meta.index,\n            cancelable: true\n        };\n        const clip = getDatasetClipArea(this, meta);\n        if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n            return;\n        }\n        if (clip) {\n            clipArea(ctx, clip);\n        }\n        meta.controller.draw();\n        if (clip) {\n            unclipArea(ctx);\n        }\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetDraw', args);\n    }\n isPointInArea(point) {\n        return _isPointInArea(point, this.chartArea, this._minPadding);\n    }\n    getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n        const method = Interaction.modes[mode];\n        if (typeof method === 'function') {\n            return method(this, e, options, useFinalPosition);\n        }\n        return [];\n    }\n    getDatasetMeta(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        const metasets = this._metasets;\n        let meta = metasets.filter((x)=>x && x._dataset === dataset).pop();\n        if (!meta) {\n            meta = {\n                type: null,\n                data: [],\n                dataset: null,\n                controller: null,\n                hidden: null,\n                xAxisID: null,\n                yAxisID: null,\n                order: dataset && dataset.order || 0,\n                index: datasetIndex,\n                _dataset: dataset,\n                _parsed: [],\n                _sorted: false\n            };\n            metasets.push(meta);\n        }\n        return meta;\n    }\n    getContext() {\n        return this.$context || (this.$context = createContext(null, {\n            chart: this,\n            type: 'chart'\n        }));\n    }\n    getVisibleDatasetCount() {\n        return this.getSortedVisibleDatasetMetas().length;\n    }\n    isDatasetVisible(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        if (!dataset) {\n            return false;\n        }\n        const meta = this.getDatasetMeta(datasetIndex);\n        return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n    setDatasetVisibility(datasetIndex, visible) {\n        const meta = this.getDatasetMeta(datasetIndex);\n        meta.hidden = !visible;\n    }\n    toggleDataVisibility(index) {\n        this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n    getDataVisibility(index) {\n        return !this._hiddenIndices[index];\n    }\n _updateVisibility(datasetIndex, dataIndex, visible) {\n        const mode = visible ? 'show' : 'hide';\n        const meta = this.getDatasetMeta(datasetIndex);\n        const anims = meta.controller._resolveAnimations(undefined, mode);\n        if (defined(dataIndex)) {\n            meta.data[dataIndex].hidden = !visible;\n            this.update();\n        } else {\n            this.setDatasetVisibility(datasetIndex, visible);\n            anims.update(meta, {\n                visible\n            });\n            this.update((ctx)=>ctx.datasetIndex === datasetIndex ? mode : undefined);\n        }\n    }\n    hide(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n    show(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n _destroyDatasetMeta(datasetIndex) {\n        const meta = this._metasets[datasetIndex];\n        if (meta && meta.controller) {\n            meta.controller._destroy();\n        }\n        delete this._metasets[datasetIndex];\n    }\n    _stop() {\n        let i, ilen;\n        this.stop();\n        animator.remove(this);\n        for(i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._destroyDatasetMeta(i);\n        }\n    }\n    destroy() {\n        this.notifyPlugins('beforeDestroy');\n        const { canvas , ctx  } = this;\n        this._stop();\n        this.config.clearCache();\n        if (canvas) {\n            this.unbindEvents();\n            clearCanvas(canvas, ctx);\n            this.platform.releaseContext(ctx);\n            this.canvas = null;\n            this.ctx = null;\n        }\n        delete instances[this.id];\n        this.notifyPlugins('afterDestroy');\n    }\n    toBase64Image(...args) {\n        return this.canvas.toDataURL(...args);\n    }\n bindEvents() {\n        this.bindUserEvents();\n        if (this.options.responsive) {\n            this.bindResponsiveEvents();\n        } else {\n            this.attached = true;\n        }\n    }\n bindUserEvents() {\n        const listeners = this._listeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const listener = (e, x, y)=>{\n            e.offsetX = x;\n            e.offsetY = y;\n            this._eventHandler(e);\n        };\n        each(this.options.events, (type)=>_add(type, listener));\n    }\n bindResponsiveEvents() {\n        if (!this._responsiveListeners) {\n            this._responsiveListeners = {};\n        }\n        const listeners = this._responsiveListeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const _remove = (type, listener)=>{\n            if (listeners[type]) {\n                platform.removeEventListener(this, type, listener);\n                delete listeners[type];\n            }\n        };\n        const listener = (width, height)=>{\n            if (this.canvas) {\n                this.resize(width, height);\n            }\n        };\n        let detached;\n        const attached = ()=>{\n            _remove('attach', attached);\n            this.attached = true;\n            this.resize();\n            _add('resize', listener);\n            _add('detach', detached);\n        };\n        detached = ()=>{\n            this.attached = false;\n            _remove('resize', listener);\n            this._stop();\n            this._resize(0, 0);\n            _add('attach', attached);\n        };\n        if (platform.isAttached(this.canvas)) {\n            attached();\n        } else {\n            detached();\n        }\n    }\n unbindEvents() {\n        each(this._listeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._listeners = {};\n        each(this._responsiveListeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._responsiveListeners = undefined;\n    }\n    updateHoverStyle(items, mode, enabled) {\n        const prefix = enabled ? 'set' : 'remove';\n        let meta, item, i, ilen;\n        if (mode === 'dataset') {\n            meta = this.getDatasetMeta(items[0].datasetIndex);\n            meta.controller['_' + prefix + 'DatasetHoverStyle']();\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            item = items[i];\n            const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n            if (controller) {\n                controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n            }\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements) {\n        const lastActive = this._active || [];\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('No dataset found at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed) {\n            this._active = active;\n            this._lastEvent = null;\n            this._updateHoverStyles(active, lastActive);\n        }\n    }\n notifyPlugins(hook, args, filter) {\n        return this._plugins.notify(this, hook, args, filter);\n    }\n isPluginEnabled(pluginId) {\n        return this._plugins._cache.filter((p)=>p.plugin.id === pluginId).length === 1;\n    }\n _updateHoverStyles(active, lastActive, replay) {\n        const hoverOptions = this.options.hover;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.datasetIndex === y.datasetIndex && x.index === y.index));\n        const deactivated = diff(lastActive, active);\n        const activated = replay ? active : diff(active, lastActive);\n        if (deactivated.length) {\n            this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n        }\n        if (activated.length && hoverOptions.mode) {\n            this.updateHoverStyle(activated, hoverOptions.mode, true);\n        }\n    }\n _eventHandler(e, replay) {\n        const args = {\n            event: e,\n            replay,\n            cancelable: true,\n            inChartArea: this.isPointInArea(e)\n        };\n        const eventFilter = (plugin)=>(plugin.options.events || this.options.events).includes(e.native.type);\n        if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n            return;\n        }\n        const changed = this._handleEvent(e, replay, args.inChartArea);\n        args.cancelable = false;\n        this.notifyPlugins('afterEvent', args, eventFilter);\n        if (changed || args.changed) {\n            this.render();\n        }\n        return this;\n    }\n _handleEvent(e, replay, inChartArea) {\n        const { _active: lastActive = [] , options  } = this;\n        const useFinalPosition = replay;\n        const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n        const isClick = _isClickEvent(e);\n        const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n        if (inChartArea) {\n            this._lastEvent = null;\n            callback(options.onHover, [\n                e,\n                active,\n                this\n            ], this);\n            if (isClick) {\n                callback(options.onClick, [\n                    e,\n                    active,\n                    this\n                ], this);\n            }\n        }\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed || replay) {\n            this._active = active;\n            this._updateHoverStyles(active, lastActive, replay);\n        }\n        this._lastEvent = lastEvent;\n        return changed;\n    }\n _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const hoverOptions = this.options.hover;\n        return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n}\nfunction invalidatePlugins() {\n    return each(Chart.instances, (chart)=>chart._plugins.invalidate());\n}\n\nfunction clipSelf(ctx, element, endAngle) {\n    const { startAngle , x , y , outerRadius , innerRadius , options  } = element;\n    const { borderWidth , borderJoinStyle  } = options;\n    const outerAngleClip = Math.min(borderWidth / outerRadius, _normalizeAngle(startAngle - endAngle));\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius - borderWidth / 2, startAngle + outerAngleClip / 2, endAngle - outerAngleClip / 2);\n    if (innerRadius > 0) {\n        const innerAngleClip = Math.min(borderWidth / innerRadius, _normalizeAngle(startAngle - endAngle));\n        ctx.arc(x, y, innerRadius + borderWidth / 2, endAngle - innerAngleClip / 2, startAngle + innerAngleClip / 2, true);\n    } else {\n        const clipWidth = Math.min(borderWidth / 2, outerRadius * _normalizeAngle(startAngle - endAngle));\n        if (borderJoinStyle === 'round') {\n            ctx.arc(x, y, clipWidth, endAngle - PI / 2, startAngle + PI / 2, true);\n        } else if (borderJoinStyle === 'bevel') {\n            const r = 2 * clipWidth * clipWidth;\n            const endX = -r * Math.cos(endAngle + PI / 2) + x;\n            const endY = -r * Math.sin(endAngle + PI / 2) + y;\n            const startX = r * Math.cos(startAngle + PI / 2) + x;\n            const startY = r * Math.sin(startAngle + PI / 2) + y;\n            ctx.lineTo(endX, endY);\n            ctx.lineTo(startX, startY);\n        }\n    }\n    ctx.closePath();\n    ctx.moveTo(0, 0);\n    ctx.rect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.clip('evenodd');\n}\nfunction clipArc(ctx, element, endAngle) {\n    const { startAngle , pixelMargin , x , y , outerRadius , innerRadius  } = element;\n    let angleMargin = pixelMargin / outerRadius;\n    // Draw an inner border by clipping the arc and drawing a double-width border\n    // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n    if (innerRadius > pixelMargin) {\n        angleMargin = pixelMargin / innerRadius;\n        ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n    } else {\n        ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n    }\n    ctx.closePath();\n    ctx.clip();\n}\nfunction toRadiusCorners(value) {\n    return _readValueToProps(value, [\n        'outerStart',\n        'outerEnd',\n        'innerStart',\n        'innerEnd'\n    ]);\n}\n/**\n * Parse border radius from the provided options\n */ function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n    const o = toRadiusCorners(arc.options.borderRadius);\n    const halfThickness = (outerRadius - innerRadius) / 2;\n    const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n    // Outer limits are complicated. We want to compute the available angular distance at\n    // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n    // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n    //\n    // If the borderRadius is large, that value can become negative.\n    // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n    // we know that the thickness term will dominate and compute the limits at that point\n    const computeOuterLimit = (val)=>{\n        const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n        return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n    };\n    return {\n        outerStart: computeOuterLimit(o.outerStart),\n        outerEnd: computeOuterLimit(o.outerEnd),\n        innerStart: _limitValue(o.innerStart, 0, innerLimit),\n        innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n    };\n}\n/**\n * Convert (r, ) to (x, y)\n */ function rThetaToXY(r, theta, x, y) {\n    return {\n        x: x + r * Math.cos(theta),\n        y: y + r * Math.sin(theta)\n    };\n}\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */ function pathArc(ctx, element, offset, spacing, end, circular) {\n    const { x , y , startAngle: start , pixelMargin , innerRadius: innerR  } = element;\n    const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n    const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n    let spacingOffset = 0;\n    const alpha = end - start;\n    if (spacing) {\n        // When spacing is present, it is the same for all items\n        // So we adjust the start and end angle of the arc such that\n        // the distance is the same as it would be without the spacing\n        const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n        const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n        const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n        const adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n        spacingOffset = (alpha - adjustedAngle) / 2;\n    }\n    const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n    const angleOffset = (alpha - beta) / 2;\n    const startAngle = start + angleOffset + spacingOffset;\n    const endAngle = end - angleOffset - spacingOffset;\n    const { outerStart , outerEnd , innerStart , innerEnd  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n    const outerStartAdjustedRadius = outerRadius - outerStart;\n    const outerEndAdjustedRadius = outerRadius - outerEnd;\n    const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n    const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n    const innerStartAdjustedRadius = innerRadius + innerStart;\n    const innerEndAdjustedRadius = innerRadius + innerEnd;\n    const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n    const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n    ctx.beginPath();\n    if (circular) {\n        // The first arc segments from point 1 to point a to point 2\n        const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n        ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n        ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n        // The corner segment from point 2 to point 3\n        if (outerEnd > 0) {\n            const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n        }\n        // The line from point 3 to point 4\n        const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n        ctx.lineTo(p4.x, p4.y);\n        // The corner segment from point 4 to point 5\n        if (innerEnd > 0) {\n            const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n        }\n        // The inner arc from point 5 to point b to point 6\n        const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;\n        ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);\n        ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);\n        // The corner segment from point 6 to point 7\n        if (innerStart > 0) {\n            const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n        }\n        // The line from point 7 to point 8\n        const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n        ctx.lineTo(p8.x, p8.y);\n        // The corner segment from point 8 to point 1\n        if (outerStart > 0) {\n            const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n        }\n    } else {\n        ctx.moveTo(x, y);\n        const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n        const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerStartX, outerStartY);\n        const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n        const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerEndX, outerEndY);\n    }\n    ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference  } = element;\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.fill();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.fill();\n    return endAngle;\n}\nfunction drawBorder(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference , options  } = element;\n    const { borderWidth , borderJoinStyle , borderDash , borderDashOffset , borderRadius  } = options;\n    const inner = options.borderAlign === 'inner';\n    if (!borderWidth) {\n        return;\n    }\n    ctx.setLineDash(borderDash || []);\n    ctx.lineDashOffset = borderDashOffset;\n    if (inner) {\n        ctx.lineWidth = borderWidth * 2;\n        ctx.lineJoin = borderJoinStyle || 'round';\n    } else {\n        ctx.lineWidth = borderWidth;\n        ctx.lineJoin = borderJoinStyle || 'bevel';\n    }\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.stroke();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    if (inner) {\n        clipArc(ctx, element, endAngle);\n    }\n    if (options.selfJoin && endAngle - startAngle >= PI && borderRadius === 0 && borderJoinStyle !== 'miter') {\n        clipSelf(ctx, element, endAngle);\n    }\n    if (!fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        ctx.stroke();\n    }\n}\nclass ArcElement extends Element {\n    static id = 'arc';\n    static defaults = {\n        borderAlign: 'center',\n        borderColor: '#fff',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: undefined,\n        borderRadius: 0,\n        borderWidth: 2,\n        offset: 0,\n        spacing: 0,\n        angle: undefined,\n        circular: true,\n        selfJoin: false\n    };\n    static defaultRoutes = {\n        backgroundColor: 'backgroundColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash'\n    };\n    circumference;\n    endAngle;\n    fullCircles;\n    innerRadius;\n    outerRadius;\n    pixelMargin;\n    startAngle;\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.circumference = undefined;\n        this.startAngle = undefined;\n        this.endAngle = undefined;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.pixelMargin = 0;\n        this.fullCircles = 0;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(chartX, chartY, useFinalPosition) {\n        const point = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        const { angle , distance  } = getAngleFromPoint(point, {\n            x: chartX,\n            y: chartY\n        });\n        const { startAngle , endAngle , innerRadius , outerRadius , circumference  } = this.getProps([\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius',\n            'circumference'\n        ], useFinalPosition);\n        const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n        const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n        const nonZeroBetween = _angleBetween(angle, startAngle, endAngle) && startAngle !== endAngle;\n        const betweenAngles = _circumference >= TAU || nonZeroBetween;\n        const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n        return betweenAngles && withinRadius;\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , startAngle , endAngle , innerRadius , outerRadius  } = this.getProps([\n            'x',\n            'y',\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius'\n        ], useFinalPosition);\n        const { offset , spacing  } = this.options;\n        const halfAngle = (startAngle + endAngle) / 2;\n        const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n        return {\n            x: x + Math.cos(halfAngle) * halfRadius,\n            y: y + Math.sin(halfAngle) * halfRadius\n        };\n    }\n    tooltipPosition(useFinalPosition) {\n        return this.getCenterPoint(useFinalPosition);\n    }\n    draw(ctx) {\n        const { options , circumference  } = this;\n        const offset = (options.offset || 0) / 4;\n        const spacing = (options.spacing || 0) / 2;\n        const circular = options.circular;\n        this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n        this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n        if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n            return;\n        }\n        ctx.save();\n        const halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n        const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n        const radiusOffset = offset * fix;\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        drawArc(ctx, this, radiusOffset, spacing, circular);\n        drawBorder(ctx, this, radiusOffset, spacing, circular);\n        ctx.restore();\n    }\n}\n\nfunction setStyle(ctx, options, style = options) {\n    ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n    ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n    ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n    ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n    ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n    ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n    ctx.lineTo(target.x, target.y);\n}\n function getLineMethod(options) {\n    if (options.stepped) {\n        return _steppedLineTo;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierCurveTo;\n    }\n    return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n    const count = points.length;\n    const { start: paramsStart = 0 , end: paramsEnd = count - 1  } = params;\n    const { start: segmentStart , end: segmentEnd  } = segment;\n    const start = Math.max(paramsStart, segmentStart);\n    const end = Math.min(paramsEnd, segmentEnd);\n    const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n    return {\n        count,\n        start,\n        loop: segment.loop,\n        ilen: end < start && !outside ? count + end - start : end - start\n    };\n}\n function pathSegment(ctx, line, segment, params) {\n    const { points , options  } = line;\n    const { count , start , loop , ilen  } = pathVars(points, segment, params);\n    const lineMethod = getLineMethod(options);\n    let { move =true , reverse  } = params || {};\n    let i, point, prev;\n    for(i = 0; i <= ilen; ++i){\n        point = points[(start + (reverse ? ilen - i : i)) % count];\n        if (point.skip) {\n            continue;\n        } else if (move) {\n            ctx.moveTo(point.x, point.y);\n            move = false;\n        } else {\n            lineMethod(ctx, prev, point, reverse, options.stepped);\n        }\n        prev = point;\n    }\n    if (loop) {\n        point = points[(start + (reverse ? ilen : 0)) % count];\n        lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    return !!loop;\n}\n function fastPathSegment(ctx, line, segment, params) {\n    const points = line.points;\n    const { count , start , ilen  } = pathVars(points, segment, params);\n    const { move =true , reverse  } = params || {};\n    let avgX = 0;\n    let countX = 0;\n    let i, point, prevX, minY, maxY, lastY;\n    const pointIndex = (index)=>(start + (reverse ? ilen - index : index)) % count;\n    const drawX = ()=>{\n        if (minY !== maxY) {\n            ctx.lineTo(avgX, maxY);\n            ctx.lineTo(avgX, minY);\n            ctx.lineTo(avgX, lastY);\n        }\n    };\n    if (move) {\n        point = points[pointIndex(0)];\n        ctx.moveTo(point.x, point.y);\n    }\n    for(i = 0; i <= ilen; ++i){\n        point = points[pointIndex(i)];\n        if (point.skip) {\n            continue;\n        }\n        const x = point.x;\n        const y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n            } else if (y > maxY) {\n                maxY = y;\n            }\n            avgX = (countX * avgX + x) / ++countX;\n        } else {\n            drawX();\n            ctx.lineTo(x, y);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n        }\n        lastY = y;\n    }\n    drawX();\n}\n function _getSegmentMethod(line) {\n    const opts = line.options;\n    const borderDash = opts.borderDash && opts.borderDash.length;\n    const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n    return useFastPath ? fastPathSegment : pathSegment;\n}\n function _getInterpolationMethod(options) {\n    if (options.stepped) {\n        return _steppedInterpolation;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierInterpolation;\n    }\n    return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n    let path = line._path;\n    if (!path) {\n        path = line._path = new Path2D();\n        if (line.path(path, start, count)) {\n            path.closePath();\n        }\n    }\n    setStyle(ctx, line.options);\n    ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n    const { segments , options  } = line;\n    const segmentMethod = _getSegmentMethod(line);\n    for (const segment of segments){\n        setStyle(ctx, options, segment.style);\n        ctx.beginPath();\n        if (segmentMethod(ctx, line, segment, {\n            start,\n            end: start + count - 1\n        })) {\n            ctx.closePath();\n        }\n        ctx.stroke();\n    }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n    if (usePath2D && !line.options.segment) {\n        strokePathWithCache(ctx, line, start, count);\n    } else {\n        strokePathDirect(ctx, line, start, count);\n    }\n}\nclass LineElement extends Element {\n    static id = 'line';\n static defaults = {\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        borderWidth: 3,\n        capBezierPoints: true,\n        cubicInterpolationMode: 'default',\n        fill: false,\n        spanGaps: false,\n        stepped: false,\n        tension: 0\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash' && name !== 'fill'\n    };\n    constructor(cfg){\n        super();\n        this.animated = true;\n        this.options = undefined;\n        this._chart = undefined;\n        this._loop = undefined;\n        this._fullLoop = undefined;\n        this._path = undefined;\n        this._points = undefined;\n        this._segments = undefined;\n        this._decimated = false;\n        this._pointsUpdated = false;\n        this._datasetIndex = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    updateControlPoints(chartArea, indexAxis) {\n        const options = this.options;\n        if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n            const loop = options.spanGaps ? this._loop : this._fullLoop;\n            _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n            this._pointsUpdated = true;\n        }\n    }\n    set points(points) {\n        this._points = points;\n        delete this._segments;\n        delete this._path;\n        this._pointsUpdated = false;\n    }\n    get points() {\n        return this._points;\n    }\n    get segments() {\n        return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n first() {\n        const segments = this.segments;\n        const points = this.points;\n        return segments.length && points[segments[0].start];\n    }\n last() {\n        const segments = this.segments;\n        const points = this.points;\n        const count = segments.length;\n        return count && points[segments[count - 1].end];\n    }\n interpolate(point, property) {\n        const options = this.options;\n        const value = point[property];\n        const points = this.points;\n        const segments = _boundSegments(this, {\n            property,\n            start: value,\n            end: value\n        });\n        if (!segments.length) {\n            return;\n        }\n        const result = [];\n        const _interpolate = _getInterpolationMethod(options);\n        let i, ilen;\n        for(i = 0, ilen = segments.length; i < ilen; ++i){\n            const { start , end  } = segments[i];\n            const p1 = points[start];\n            const p2 = points[end];\n            if (p1 === p2) {\n                result.push(p1);\n                continue;\n            }\n            const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n            const interpolated = _interpolate(p1, p2, t, options.stepped);\n            interpolated[property] = point[property];\n            result.push(interpolated);\n        }\n        return result.length === 1 ? result[0] : result;\n    }\n pathSegment(ctx, segment, params) {\n        const segmentMethod = _getSegmentMethod(this);\n        return segmentMethod(ctx, this, segment, params);\n    }\n path(ctx, start, count) {\n        const segments = this.segments;\n        const segmentMethod = _getSegmentMethod(this);\n        let loop = this._loop;\n        start = start || 0;\n        count = count || this.points.length - start;\n        for (const segment of segments){\n            loop &= segmentMethod(ctx, this, segment, {\n                start,\n                end: start + count - 1\n            });\n        }\n        return !!loop;\n    }\n draw(ctx, chartArea, start, count) {\n        const options = this.options || {};\n        const points = this.points || [];\n        if (points.length && options.borderWidth) {\n            ctx.save();\n            draw(ctx, this, start, count);\n            ctx.restore();\n        }\n        if (this.animated) {\n            this._pointsUpdated = false;\n            this._path = undefined;\n        }\n    }\n}\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n    const options = el.options;\n    const { [axis]: value  } = el.getProps([\n        axis\n    ], useFinalPosition);\n    return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\nclass PointElement extends Element {\n    static id = 'point';\n    parsed;\n    skip;\n    stop;\n    /**\n   * @type {any}\n   */ static defaults = {\n        borderWidth: 1,\n        hitRadius: 1,\n        hoverBorderWidth: 1,\n        hoverRadius: 4,\n        pointStyle: 'circle',\n        radius: 3,\n        rotation: 0\n    };\n    /**\n   * @type {any}\n   */ static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.parsed = undefined;\n        this.skip = undefined;\n        this.stop = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        const options = this.options;\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    size(options) {\n        options = options || this.options || {};\n        let radius = options.radius || 0;\n        radius = Math.max(radius, radius && options.hoverRadius || 0);\n        const borderWidth = radius && options.borderWidth || 0;\n        return (radius + borderWidth) * 2;\n    }\n    draw(ctx, area) {\n        const options = this.options;\n        if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n            return;\n        }\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.fillStyle = options.backgroundColor;\n        drawPoint(ctx, options, this.x, this.y);\n    }\n    getRange() {\n        const options = this.options || {};\n        // @ts-expect-error Fallbacks should never be hit in practice\n        return options.radius + options.hitRadius;\n    }\n}\n\nfunction getBarBounds(bar, useFinalPosition) {\n    const { x , y , base , width , height  } =  bar.getProps([\n        'x',\n        'y',\n        'base',\n        'width',\n        'height'\n    ], useFinalPosition);\n    let left, right, top, bottom, half;\n    if (bar.horizontal) {\n        half = height / 2;\n        left = Math.min(x, base);\n        right = Math.max(x, base);\n        top = y - half;\n        bottom = y + half;\n    } else {\n        half = width / 2;\n        left = x - half;\n        right = x + half;\n        top = Math.min(y, base);\n        bottom = Math.max(y, base);\n    }\n    return {\n        left,\n        top,\n        right,\n        bottom\n    };\n}\nfunction skipOrLimit(skip, value, min, max) {\n    return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n    const value = bar.options.borderWidth;\n    const skip = bar.borderSkipped;\n    const o = toTRBL(value);\n    return {\n        t: skipOrLimit(skip.top, o.top, 0, maxH),\n        r: skipOrLimit(skip.right, o.right, 0, maxW),\n        b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n        l: skipOrLimit(skip.left, o.left, 0, maxW)\n    };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n    const { enableBorderRadius  } = bar.getProps([\n        'enableBorderRadius'\n    ]);\n    const value = bar.options.borderRadius;\n    const o = toTRBLCorners(value);\n    const maxR = Math.min(maxW, maxH);\n    const skip = bar.borderSkipped;\n    const enableBorder = enableBorderRadius || isObject(value);\n    return {\n        topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n        topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n        bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n        bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n    };\n}\nfunction boundingRects(bar) {\n    const bounds = getBarBounds(bar);\n    const width = bounds.right - bounds.left;\n    const height = bounds.bottom - bounds.top;\n    const border = parseBorderWidth(bar, width / 2, height / 2);\n    const radius = parseBorderRadius(bar, width / 2, height / 2);\n    return {\n        outer: {\n            x: bounds.left,\n            y: bounds.top,\n            w: width,\n            h: height,\n            radius\n        },\n        inner: {\n            x: bounds.left + border.l,\n            y: bounds.top + border.t,\n            w: width - border.l - border.r,\n            h: height - border.t - border.b,\n            radius: {\n                topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n                topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n                bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n                bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n            }\n        }\n    };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n    const skipX = x === null;\n    const skipY = y === null;\n    const skipBoth = skipX && skipY;\n    const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n    return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n    return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n function addNormalRectPath(ctx, rect) {\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n    const x = rect.x !== refRect.x ? -amount : 0;\n    const y = rect.y !== refRect.y ? -amount : 0;\n    const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n    const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n    return {\n        x: rect.x + x,\n        y: rect.y + y,\n        w: rect.w + w,\n        h: rect.h + h,\n        radius: rect.radius\n    };\n}\nclass BarElement extends Element {\n    static id = 'bar';\n static defaults = {\n        borderSkipped: 'start',\n        borderWidth: 0,\n        borderRadius: 0,\n        inflateAmount: 'auto',\n        pointStyle: undefined\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.horizontal = undefined;\n        this.base = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.inflateAmount = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    draw(ctx) {\n        const { inflateAmount , options: { borderColor , backgroundColor  }  } = this;\n        const { inner , outer  } = boundingRects(this);\n        const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n        ctx.save();\n        if (outer.w !== inner.w || outer.h !== inner.h) {\n            ctx.beginPath();\n            addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n            ctx.clip();\n            addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n            ctx.fillStyle = borderColor;\n            ctx.fill('evenodd');\n        }\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(inner, inflateAmount));\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        return inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange(this, mouseX, null, useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange(this, null, mouseY, useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , base , horizontal  } =  this.getProps([\n            'x',\n            'y',\n            'base',\n            'horizontal'\n        ], useFinalPosition);\n        return {\n            x: horizontal ? (x + base) / 2 : x,\n            y: horizontal ? y : (y + base) / 2\n        };\n    }\n    getRange(axis) {\n        return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n}\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nBarElement: BarElement,\nLineElement: LineElement,\nPointElement: PointElement\n});\n\nconst BORDER_COLORS = [\n    'rgb(54, 162, 235)',\n    'rgb(255, 99, 132)',\n    'rgb(255, 159, 64)',\n    'rgb(255, 205, 86)',\n    'rgb(75, 192, 192)',\n    'rgb(153, 102, 255)',\n    'rgb(201, 203, 207)' // grey\n];\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map((color)=>color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\nfunction getBorderColor(i) {\n    return BORDER_COLORS[i % BORDER_COLORS.length];\n}\nfunction getBackgroundColor(i) {\n    return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\nfunction colorizeDefaultDataset(dataset, i) {\n    dataset.borderColor = getBorderColor(i);\n    dataset.backgroundColor = getBackgroundColor(i);\n    return ++i;\n}\nfunction colorizeDoughnutDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBorderColor(i++));\n    return i;\n}\nfunction colorizePolarAreaDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBackgroundColor(i++));\n    return i;\n}\nfunction getColorizer(chart) {\n    let i = 0;\n    return (dataset, datasetIndex)=>{\n        const controller = chart.getDatasetMeta(datasetIndex).controller;\n        if (controller instanceof DoughnutController) {\n            i = colorizeDoughnutDataset(dataset, i);\n        } else if (controller instanceof PolarAreaController) {\n            i = colorizePolarAreaDataset(dataset, i);\n        } else if (controller) {\n            i = colorizeDefaultDataset(dataset, i);\n        }\n    };\n}\nfunction containsColorsDefinitions(descriptors) {\n    let k;\n    for(k in descriptors){\n        if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction containsColorsDefinition(descriptor) {\n    return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\nfunction containsDefaultColorsDefenitions() {\n    return defaults.borderColor !== 'rgba(0,0,0,0.1)' || defaults.backgroundColor !== 'rgba(0,0,0,0.1)';\n}\nvar plugin_colors = {\n    id: 'colors',\n    defaults: {\n        enabled: true,\n        forceOverride: false\n    },\n    beforeLayout (chart, _args, options) {\n        if (!options.enabled) {\n            return;\n        }\n        const { data: { datasets  } , options: chartOptions  } = chart.config;\n        const { elements  } = chartOptions;\n        const containsColorDefenition = containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements && containsColorsDefinitions(elements) || containsDefaultColorsDefenitions();\n        if (!options.forceOverride && containsColorDefenition) {\n            return;\n        }\n        const colorizer = getColorizer(chart);\n        datasets.forEach(colorizer);\n    }\n};\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n const samples = options.samples || availableWidth;\n    if (samples >= count) {\n        return data.slice(start, start + count);\n    }\n    const decimated = [];\n    const bucketWidth = (count - 2) / (samples - 2);\n    let sampledIndex = 0;\n    const endIndex = start + count - 1;\n    let a = start;\n    let i, maxAreaPoint, maxArea, area, nextA;\n    decimated[sampledIndex++] = data[a];\n    for(i = 0; i < samples - 2; i++){\n        let avgX = 0;\n        let avgY = 0;\n        let j;\n        const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n        const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n        const avgRangeLength = avgRangeEnd - avgRangeStart;\n        for(j = avgRangeStart; j < avgRangeEnd; j++){\n            avgX += data[j].x;\n            avgY += data[j].y;\n        }\n        avgX /= avgRangeLength;\n        avgY /= avgRangeLength;\n        const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n        const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n        const { x: pointAx , y: pointAy  } = data[a];\n        maxArea = area = -1;\n        for(j = rangeOffs; j < rangeTo; j++){\n            area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n            if (area > maxArea) {\n                maxArea = area;\n                maxAreaPoint = data[j];\n                nextA = j;\n            }\n        }\n        decimated[sampledIndex++] = maxAreaPoint;\n        a = nextA;\n    }\n    decimated[sampledIndex++] = data[endIndex];\n    return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n    let avgX = 0;\n    let countX = 0;\n    let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n    const decimated = [];\n    const endIndex = start + count - 1;\n    const xMin = data[start].x;\n    const xMax = data[endIndex].x;\n    const dx = xMax - xMin;\n    for(i = start; i < start + count; ++i){\n        point = data[i];\n        x = (point.x - xMin) / dx * availableWidth;\n        y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n                minIndex = i;\n            } else if (y > maxY) {\n                maxY = y;\n                maxIndex = i;\n            }\n            avgX = (countX * avgX + point.x) / ++countX;\n        } else {\n            const lastIndex = i - 1;\n            if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n                const intermediateIndex1 = Math.min(minIndex, maxIndex);\n                const intermediateIndex2 = Math.max(minIndex, maxIndex);\n                if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex1],\n                        x: avgX\n                    });\n                }\n                if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex2],\n                        x: avgX\n                    });\n                }\n            }\n            if (i > 0 && lastIndex !== startIndex) {\n                decimated.push(data[lastIndex]);\n            }\n            decimated.push(point);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n            minIndex = maxIndex = startIndex = i;\n        }\n    }\n    return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n    if (dataset._decimated) {\n        const data = dataset._data;\n        delete dataset._decimated;\n        delete dataset._data;\n        Object.defineProperty(dataset, 'data', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: data\n        });\n    }\n}\nfunction cleanDecimatedData(chart) {\n    chart.data.datasets.forEach((dataset)=>{\n        cleanDecimatedDataset(dataset);\n    });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n    const pointCount = points.length;\n    let start = 0;\n    let count;\n    const { iScale  } = meta;\n    const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n    if (minDefined) {\n        start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n        count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n    } else {\n        count = pointCount - start;\n    }\n    return {\n        start,\n        count\n    };\n}\nvar plugin_decimation = {\n    id: 'decimation',\n    defaults: {\n        algorithm: 'min-max',\n        enabled: false\n    },\n    beforeElementsUpdate: (chart, args, options)=>{\n        if (!options.enabled) {\n            cleanDecimatedData(chart);\n            return;\n        }\n        const availableWidth = chart.width;\n        chart.data.datasets.forEach((dataset, datasetIndex)=>{\n            const { _data , indexAxis  } = dataset;\n            const meta = chart.getDatasetMeta(datasetIndex);\n            const data = _data || dataset.data;\n            if (resolve([\n                indexAxis,\n                chart.options.indexAxis\n            ]) === 'y') {\n                return;\n            }\n            if (!meta.controller.supportsDecimation) {\n                return;\n            }\n            const xAxis = chart.scales[meta.xAxisID];\n            if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n                return;\n            }\n            if (chart.options.parsing) {\n                return;\n            }\n            let { start , count  } = getStartAndCountOfVisiblePointsSimplified(meta, data);\n            const threshold = options.threshold || 4 * availableWidth;\n            if (count <= threshold) {\n                cleanDecimatedDataset(dataset);\n                return;\n            }\n            if (isNullOrUndef(_data)) {\n                dataset._data = data;\n                delete dataset.data;\n                Object.defineProperty(dataset, 'data', {\n                    configurable: true,\n                    enumerable: true,\n                    get: function() {\n                        return this._decimated;\n                    },\n                    set: function(d) {\n                        this._data = d;\n                    }\n                });\n            }\n            let decimated;\n            switch(options.algorithm){\n                case 'lttb':\n                    decimated = lttbDecimation(data, start, count, availableWidth, options);\n                    break;\n                case 'min-max':\n                    decimated = minMaxDecimation(data, start, count, availableWidth);\n                    break;\n                default:\n                    throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n            }\n            dataset._decimated = decimated;\n        });\n    },\n    destroy (chart) {\n        cleanDecimatedData(chart);\n    }\n};\n\nfunction _segments(line, target, property) {\n    const segments = line.segments;\n    const points = line.points;\n    const tpoints = target.points;\n    const parts = [];\n    for (const segment of segments){\n        let { start , end  } = segment;\n        end = _findSegmentEnd(start, end, points);\n        const bounds = _getBounds(property, points[start], points[end], segment.loop);\n        if (!target.segments) {\n            parts.push({\n                source: segment,\n                target: bounds,\n                start: points[start],\n                end: points[end]\n            });\n            continue;\n        }\n        const targetSegments = _boundSegments(target, bounds);\n        for (const tgt of targetSegments){\n            const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n            const fillSources = _boundSegment(segment, points, subBounds);\n            for (const fillSource of fillSources){\n                parts.push({\n                    source: fillSource,\n                    target: tgt,\n                    start: {\n                        [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n                    },\n                    end: {\n                        [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n                    }\n                });\n            }\n        }\n    }\n    return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n    if (loop) {\n        return;\n    }\n    let start = first[property];\n    let end = last[property];\n    if (property === 'angle') {\n        start = _normalizeAngle(start);\n        end = _normalizeAngle(end);\n    }\n    return {\n        property,\n        start,\n        end\n    };\n}\nfunction _pointsFromSegments(boundary, line) {\n    const { x =null , y =null  } = boundary || {};\n    const linePoints = line.points;\n    const points = [];\n    line.segments.forEach(({ start , end  })=>{\n        end = _findSegmentEnd(start, end, linePoints);\n        const first = linePoints[start];\n        const last = linePoints[end];\n        if (y !== null) {\n            points.push({\n                x: first.x,\n                y\n            });\n            points.push({\n                x: last.x,\n                y\n            });\n        } else if (x !== null) {\n            points.push({\n                x,\n                y: first.y\n            });\n            points.push({\n                x,\n                y: last.y\n            });\n        }\n    });\n    return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n    for(; end > start; end--){\n        const point = points[end];\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n            break;\n        }\n    }\n    return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n    if (a && b) {\n        return fn(a[prop], b[prop]);\n    }\n    return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n    let points = [];\n    let _loop = false;\n    if (isArray(boundary)) {\n        _loop = true;\n        points = boundary;\n    } else {\n        points = _pointsFromSegments(boundary, line);\n    }\n    return points.length ? new LineElement({\n        points,\n        options: {\n            tension: 0\n        },\n        _loop,\n        _fullLoop: _loop\n    }) : null;\n}\nfunction _shouldApplyFill(source) {\n    return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n    const source = sources[index];\n    let fill = source.fill;\n    const visited = [\n        index\n    ];\n    let target;\n    if (!propagate) {\n        return fill;\n    }\n    while(fill !== false && visited.indexOf(fill) === -1){\n        if (!isNumberFinite(fill)) {\n            return fill;\n        }\n        target = sources[fill];\n        if (!target) {\n            return false;\n        }\n        if (target.visible) {\n            return fill;\n        }\n        visited.push(fill);\n        fill = target.fill;\n    }\n    return false;\n}\n function _decodeFill(line, index, count) {\n     const fill = parseFillOption(line);\n    if (isObject(fill)) {\n        return isNaN(fill.value) ? false : fill;\n    }\n    let target = parseFloat(fill);\n    if (isNumberFinite(target) && Math.floor(target) === target) {\n        return decodeTargetIndex(fill[0], index, target, count);\n    }\n    return [\n        'origin',\n        'start',\n        'end',\n        'stack',\n        'shape'\n    ].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n    if (firstCh === '-' || firstCh === '+') {\n        target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n        return false;\n    }\n    return target;\n}\n function _getTargetPixel(fill, scale) {\n    let pixel = null;\n    if (fill === 'start') {\n        pixel = scale.bottom;\n    } else if (fill === 'end') {\n        pixel = scale.top;\n    } else if (isObject(fill)) {\n        pixel = scale.getPixelForValue(fill.value);\n    } else if (scale.getBasePixel) {\n        pixel = scale.getBasePixel();\n    }\n    return pixel;\n}\n function _getTargetValue(fill, scale, startValue) {\n    let value;\n    if (fill === 'start') {\n        value = startValue;\n    } else if (fill === 'end') {\n        value = scale.options.reverse ? scale.min : scale.max;\n    } else if (isObject(fill)) {\n        value = fill.value;\n    } else {\n        value = scale.getBaseValue();\n    }\n    return value;\n}\n function parseFillOption(line) {\n    const options = line.options;\n    const fillOption = options.fill;\n    let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n    if (fill === undefined) {\n        fill = !!options.backgroundColor;\n    }\n    if (fill === false || fill === null) {\n        return false;\n    }\n    if (fill === true) {\n        return 'origin';\n    }\n    return fill;\n}\n\nfunction _buildStackLine(source) {\n    const { scale , index , line  } = source;\n    const points = [];\n    const segments = line.segments;\n    const sourcePoints = line.points;\n    const linesBelow = getLinesBelow(scale, index);\n    linesBelow.push(_createBoundaryLine({\n        x: null,\n        y: scale.bottom\n    }, line));\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        for(let j = segment.start; j <= segment.end; j++){\n            addPointsBelow(points, sourcePoints[j], linesBelow);\n        }\n    }\n    return new LineElement({\n        points,\n        options: {}\n    });\n}\n function getLinesBelow(scale, index) {\n    const below = [];\n    const metas = scale.getMatchingVisibleMetas('line');\n    for(let i = 0; i < metas.length; i++){\n        const meta = metas[i];\n        if (meta.index === index) {\n            break;\n        }\n        if (!meta.hidden) {\n            below.unshift(meta.dataset);\n        }\n    }\n    return below;\n}\n function addPointsBelow(points, sourcePoint, linesBelow) {\n    const postponed = [];\n    for(let j = 0; j < linesBelow.length; j++){\n        const line = linesBelow[j];\n        const { first , last , point  } = findPoint(line, sourcePoint, 'x');\n        if (!point || first && last) {\n            continue;\n        }\n        if (first) {\n            postponed.unshift(point);\n        } else {\n            points.push(point);\n            if (!last) {\n                break;\n            }\n        }\n    }\n    points.push(...postponed);\n}\n function findPoint(line, sourcePoint, property) {\n    const point = line.interpolate(sourcePoint, property);\n    if (!point) {\n        return {};\n    }\n    const pointValue = point[property];\n    const segments = line.segments;\n    const linePoints = line.points;\n    let first = false;\n    let last = false;\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        const firstValue = linePoints[segment.start][property];\n        const lastValue = linePoints[segment.end][property];\n        if (_isBetween(pointValue, firstValue, lastValue)) {\n            first = pointValue === firstValue;\n            last = pointValue === lastValue;\n            break;\n        }\n    }\n    return {\n        first,\n        last,\n        point\n    };\n}\n\nclass simpleArc {\n    constructor(opts){\n        this.x = opts.x;\n        this.y = opts.y;\n        this.radius = opts.radius;\n    }\n    pathSegment(ctx, bounds, opts) {\n        const { x , y , radius  } = this;\n        bounds = bounds || {\n            start: 0,\n            end: TAU\n        };\n        ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n        return !opts.bounds;\n    }\n    interpolate(point) {\n        const { x , y , radius  } = this;\n        const angle = point.angle;\n        return {\n            x: x + Math.cos(angle) * radius,\n            y: y + Math.sin(angle) * radius,\n            angle\n        };\n    }\n}\n\nfunction _getTarget(source) {\n    const { chart , fill , line  } = source;\n    if (isNumberFinite(fill)) {\n        return getLineByIndex(chart, fill);\n    }\n    if (fill === 'stack') {\n        return _buildStackLine(source);\n    }\n    if (fill === 'shape') {\n        return true;\n    }\n    const boundary = computeBoundary(source);\n    if (boundary instanceof simpleArc) {\n        return boundary;\n    }\n    return _createBoundaryLine(boundary, line);\n}\n function getLineByIndex(chart, index) {\n    const meta = chart.getDatasetMeta(index);\n    const visible = meta && chart.isDatasetVisible(index);\n    return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n    const scale = source.scale || {};\n    if (scale.getPointPositionForValue) {\n        return computeCircularBoundary(source);\n    }\n    return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n    const { scale ={} , fill  } = source;\n    const pixel = _getTargetPixel(fill, scale);\n    if (isNumberFinite(pixel)) {\n        const horizontal = scale.isHorizontal();\n        return {\n            x: horizontal ? pixel : null,\n            y: horizontal ? null : pixel\n        };\n    }\n    return null;\n}\nfunction computeCircularBoundary(source) {\n    const { scale , fill  } = source;\n    const options = scale.options;\n    const length = scale.getLabels().length;\n    const start = options.reverse ? scale.max : scale.min;\n    const value = _getTargetValue(fill, scale, start);\n    const target = [];\n    if (options.grid.circular) {\n        const center = scale.getPointPositionForValue(0, start);\n        return new simpleArc({\n            x: center.x,\n            y: center.y,\n            radius: scale.getDistanceFromCenterForValue(value)\n        });\n    }\n    for(let i = 0; i < length; ++i){\n        target.push(scale.getPointPositionForValue(i, value));\n    }\n    return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n    const target = _getTarget(source);\n    const { chart , index , line , scale , axis  } = source;\n    const lineOpts = line.options;\n    const fillOption = lineOpts.fill;\n    const color = lineOpts.backgroundColor;\n    const { above =color , below =color  } = fillOption || {};\n    const meta = chart.getDatasetMeta(index);\n    const clip = getDatasetClipArea(chart, meta);\n    if (target && line.points.length) {\n        clipArea(ctx, area);\n        doFill(ctx, {\n            line,\n            target,\n            above,\n            below,\n            area,\n            scale,\n            axis,\n            clip\n        });\n        unclipArea(ctx);\n    }\n}\nfunction doFill(ctx, cfg) {\n    const { line , target , above , below , area , scale , clip  } = cfg;\n    const property = line._loop ? 'angle' : cfg.axis;\n    ctx.save();\n    let fillColor = below;\n    if (below !== above) {\n        if (property === 'x') {\n            clipVertical(ctx, target, area.top);\n            fill(ctx, {\n                line,\n                target,\n                color: above,\n                scale,\n                property,\n                clip\n            });\n            ctx.restore();\n            ctx.save();\n            clipVertical(ctx, target, area.bottom);\n        } else if (property === 'y') {\n            clipHorizontal(ctx, target, area.left);\n            fill(ctx, {\n                line,\n                target,\n                color: below,\n                scale,\n                property,\n                clip\n            });\n            ctx.restore();\n            ctx.save();\n            clipHorizontal(ctx, target, area.right);\n            fillColor = above;\n        }\n    }\n    fill(ctx, {\n        line,\n        target,\n        color: fillColor,\n        scale,\n        property,\n        clip\n    });\n    ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(firstPoint.x, clipY);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(lastPoint.x, clipY);\n        }\n    }\n    ctx.lineTo(target.first().x, clipY);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction clipHorizontal(ctx, target, clipX) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(clipX, firstPoint.y);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(clipX, lastPoint.y);\n        }\n    }\n    ctx.lineTo(clipX, target.first().y);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction fill(ctx, cfg) {\n    const { line , target , property , color , scale , clip  } = cfg;\n    const segments = _segments(line, target, property);\n    for (const { source: src , target: tgt , start , end  } of segments){\n        const { style: { backgroundColor =color  } = {}  } = src;\n        const notShape = target !== true;\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        clipBounds(ctx, scale, clip, notShape && _getBounds(property, start, end));\n        ctx.beginPath();\n        const lineLoop = !!line.pathSegment(ctx, src);\n        let loop;\n        if (notShape) {\n            if (lineLoop) {\n                ctx.closePath();\n            } else {\n                interpolatedLineTo(ctx, target, end, property);\n            }\n            const targetLoop = !!target.pathSegment(ctx, tgt, {\n                move: lineLoop,\n                reverse: true\n            });\n            loop = lineLoop && targetLoop;\n            if (!loop) {\n                interpolatedLineTo(ctx, target, start, property);\n            }\n        }\n        ctx.closePath();\n        ctx.fill(loop ? 'evenodd' : 'nonzero');\n        ctx.restore();\n    }\n}\nfunction clipBounds(ctx, scale, clip, bounds) {\n    const chartArea = scale.chart.chartArea;\n    const { property , start , end  } = bounds || {};\n    if (property === 'x' || property === 'y') {\n        let left, top, right, bottom;\n        if (property === 'x') {\n            left = start;\n            top = chartArea.top;\n            right = end;\n            bottom = chartArea.bottom;\n        } else {\n            left = chartArea.left;\n            top = start;\n            right = chartArea.right;\n            bottom = end;\n        }\n        ctx.beginPath();\n        if (clip) {\n            left = Math.max(left, clip.left);\n            right = Math.min(right, clip.right);\n            top = Math.max(top, clip.top);\n            bottom = Math.min(bottom, clip.bottom);\n        }\n        ctx.rect(left, top, right - left, bottom - top);\n        ctx.clip();\n    }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n    const interpolatedPoint = target.interpolate(point, property);\n    if (interpolatedPoint) {\n        ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n    }\n}\n\nvar index = {\n    id: 'filler',\n    afterDatasetsUpdate (chart, _args, options) {\n        const count = (chart.data.datasets || []).length;\n        const sources = [];\n        let meta, i, line, source;\n        for(i = 0; i < count; ++i){\n            meta = chart.getDatasetMeta(i);\n            line = meta.dataset;\n            source = null;\n            if (line && line.options && line instanceof LineElement) {\n                source = {\n                    visible: chart.isDatasetVisible(i),\n                    index: i,\n                    fill: _decodeFill(line, i, count),\n                    chart,\n                    axis: meta.controller.options.indexAxis,\n                    scale: meta.vScale,\n                    line\n                };\n            }\n            meta.$filler = source;\n            sources.push(source);\n        }\n        for(i = 0; i < count; ++i){\n            source = sources[i];\n            if (!source || source.fill === false) {\n                continue;\n            }\n            source.fill = _resolveTarget(sources, i, options.propagate);\n        }\n    },\n    beforeDraw (chart, _args, options) {\n        const draw = options.drawTime === 'beforeDraw';\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        const area = chart.chartArea;\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (!source) {\n                continue;\n            }\n            source.line.updateControlPoints(area, source.axis);\n            if (draw && source.fill) {\n                _drawfill(chart.ctx, source, area);\n            }\n        }\n    },\n    beforeDatasetsDraw (chart, _args, options) {\n        if (options.drawTime !== 'beforeDatasetsDraw') {\n            return;\n        }\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (_shouldApplyFill(source)) {\n                _drawfill(chart.ctx, source, chart.chartArea);\n            }\n        }\n    },\n    beforeDatasetDraw (chart, args, options) {\n        const source = args.meta.$filler;\n        if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n            return;\n        }\n        _drawfill(chart.ctx, source, chart.chartArea);\n    },\n    defaults: {\n        propagate: true,\n        drawTime: 'beforeDatasetDraw'\n    }\n};\n\nconst getBoxSize = (labelOpts, fontSize)=>{\n    let { boxHeight =fontSize , boxWidth =fontSize  } = labelOpts;\n    if (labelOpts.usePointStyle) {\n        boxHeight = Math.min(boxHeight, fontSize);\n        boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n    }\n    return {\n        boxWidth,\n        boxHeight,\n        itemHeight: Math.max(fontSize, boxHeight)\n    };\n};\nconst itemsEqual = (a, b)=>a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n constructor(config){\n        super();\n        this._added = false;\n        this.legendHitBoxes = [];\n this._hoveredItem = null;\n        this.doughnutMode = false;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this.legendItems = undefined;\n        this.columnSizes = undefined;\n        this.lineWidths = undefined;\n        this.maxHeight = undefined;\n        this.maxWidth = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this._margins = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight, margins) {\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins;\n        this.setDimensions();\n        this.buildLabels();\n        this.fit();\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = this._margins.left;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = this._margins.top;\n            this.bottom = this.height;\n        }\n    }\n    buildLabels() {\n        const labelOpts = this.options.labels || {};\n        let legendItems = callback(labelOpts.generateLabels, [\n            this.chart\n        ], this) || [];\n        if (labelOpts.filter) {\n            legendItems = legendItems.filter((item)=>labelOpts.filter(item, this.chart.data));\n        }\n        if (labelOpts.sort) {\n            legendItems = legendItems.sort((a, b)=>labelOpts.sort(a, b, this.chart.data));\n        }\n        if (this.options.reverse) {\n            legendItems.reverse();\n        }\n        this.legendItems = legendItems;\n    }\n    fit() {\n        const { options , ctx  } = this;\n        if (!options.display) {\n            this.width = this.height = 0;\n            return;\n        }\n        const labelOpts = options.labels;\n        const labelFont = toFont(labelOpts.font);\n        const fontSize = labelFont.size;\n        const titleHeight = this._computeTitleHeight();\n        const { boxWidth , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        let width, height;\n        ctx.font = labelFont.string;\n        if (this.isHorizontal()) {\n            width = this.maxWidth;\n            height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n        } else {\n            height = this.maxHeight;\n            width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n        }\n        this.width = Math.min(width, options.maxWidth || this.maxWidth);\n        this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n        const { ctx , maxWidth , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const lineWidths = this.lineWidths = [\n            0\n        ];\n        const lineHeight = itemHeight + padding;\n        let totalHeight = titleHeight;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        let row = -1;\n        let top = -lineHeight;\n        this.legendItems.forEach((legendItem, i)=>{\n            const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n            if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n                totalHeight += lineHeight;\n                lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n                top += lineHeight;\n                row++;\n            }\n            hitboxes[i] = {\n                left: 0,\n                top,\n                row,\n                width: itemWidth,\n                height: itemHeight\n            };\n            lineWidths[lineWidths.length - 1] += itemWidth + padding;\n        });\n        return totalHeight;\n    }\n    _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n        const { ctx , maxHeight , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const columnSizes = this.columnSizes = [];\n        const heightLimit = maxHeight - titleHeight;\n        let totalWidth = padding;\n        let currentColWidth = 0;\n        let currentColHeight = 0;\n        let left = 0;\n        let col = 0;\n        this.legendItems.forEach((legendItem, i)=>{\n            const { itemWidth , itemHeight  } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n            if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n                totalWidth += currentColWidth + padding;\n                columnSizes.push({\n                    width: currentColWidth,\n                    height: currentColHeight\n                });\n                left += currentColWidth + padding;\n                col++;\n                currentColWidth = currentColHeight = 0;\n            }\n            hitboxes[i] = {\n                left,\n                top: currentColHeight,\n                col,\n                width: itemWidth,\n                height: itemHeight\n            };\n            currentColWidth = Math.max(currentColWidth, itemWidth);\n            currentColHeight += itemHeight + padding;\n        });\n        totalWidth += currentColWidth;\n        columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n        });\n        return totalWidth;\n    }\n    adjustHitBoxes() {\n        if (!this.options.display) {\n            return;\n        }\n        const titleHeight = this._computeTitleHeight();\n        const { legendHitBoxes: hitboxes , options: { align , labels: { padding  } , rtl  }  } = this;\n        const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n        if (this.isHorizontal()) {\n            let row = 0;\n            let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            for (const hitbox of hitboxes){\n                if (row !== hitbox.row) {\n                    row = hitbox.row;\n                    left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n                }\n                hitbox.top += this.top + titleHeight + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n                left += hitbox.width + padding;\n            }\n        } else {\n            let col = 0;\n            let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            for (const hitbox of hitboxes){\n                if (hitbox.col !== col) {\n                    col = hitbox.col;\n                    top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n                }\n                hitbox.top = top;\n                hitbox.left += this.left + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n                top += hitbox.height + padding;\n            }\n        }\n    }\n    isHorizontal() {\n        return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n    draw() {\n        if (this.options.display) {\n            const ctx = this.ctx;\n            clipArea(ctx, this);\n            this._draw();\n            unclipArea(ctx);\n        }\n    }\n _draw() {\n        const { options: opts , columnSizes , lineWidths , ctx  } = this;\n        const { align , labels: labelOpts  } = opts;\n        const defaultColor = defaults.color;\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const labelFont = toFont(labelOpts.font);\n        const { padding  } = labelOpts;\n        const fontSize = labelFont.size;\n        const halfFontSize = fontSize / 2;\n        let cursor;\n        this.drawTitle();\n        ctx.textAlign = rtlHelper.textAlign('left');\n        ctx.textBaseline = 'middle';\n        ctx.lineWidth = 0.5;\n        ctx.font = labelFont.string;\n        const { boxWidth , boxHeight , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        const drawLegendBox = function(x, y, legendItem) {\n            if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n                return;\n            }\n            ctx.save();\n            const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n            ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n            ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n            ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n            ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n            ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n            if (labelOpts.usePointStyle) {\n                const drawOptions = {\n                    radius: boxHeight * Math.SQRT2 / 2,\n                    pointStyle: legendItem.pointStyle,\n                    rotation: legendItem.rotation,\n                    borderWidth: lineWidth\n                };\n                const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n                const centerY = y + halfFontSize;\n                drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n            } else {\n                const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n                const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n                const borderRadius = toTRBLCorners(legendItem.borderRadius);\n                ctx.beginPath();\n                if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                    addRoundedRectPath(ctx, {\n                        x: xBoxLeft,\n                        y: yBoxTop,\n                        w: boxWidth,\n                        h: boxHeight,\n                        radius: borderRadius\n                    });\n                } else {\n                    ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n                }\n                ctx.fill();\n                if (lineWidth !== 0) {\n                    ctx.stroke();\n                }\n            }\n            ctx.restore();\n        };\n        const fillText = function(x, y, legendItem) {\n            renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n                strikethrough: legendItem.hidden,\n                textAlign: rtlHelper.textAlign(legendItem.textAlign)\n            });\n        };\n        const isHorizontal = this.isHorizontal();\n        const titleHeight = this._computeTitleHeight();\n        if (isHorizontal) {\n            cursor = {\n                x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n                y: this.top + padding + titleHeight,\n                line: 0\n            };\n        } else {\n            cursor = {\n                x: this.left + padding,\n                y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n                line: 0\n            };\n        }\n        overrideTextDirection(this.ctx, opts.textDirection);\n        const lineHeight = itemHeight + padding;\n        this.legendItems.forEach((legendItem, i)=>{\n            ctx.strokeStyle = legendItem.fontColor;\n            ctx.fillStyle = legendItem.fontColor;\n            const textWidth = ctx.measureText(legendItem.text).width;\n            const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n            const width = boxWidth + halfFontSize + textWidth;\n            let x = cursor.x;\n            let y = cursor.y;\n            rtlHelper.setWidth(this.width);\n            if (isHorizontal) {\n                if (i > 0 && x + width + padding > this.right) {\n                    y = cursor.y += lineHeight;\n                    cursor.line++;\n                    x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n                }\n            } else if (i > 0 && y + lineHeight > this.bottom) {\n                x = cursor.x = x + columnSizes[cursor.line].width + padding;\n                cursor.line++;\n                y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n            }\n            const realX = rtlHelper.x(x);\n            drawLegendBox(realX, y, legendItem);\n            x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n            fillText(rtlHelper.x(x), y, legendItem);\n            if (isHorizontal) {\n                cursor.x += width + padding;\n            } else if (typeof legendItem.text !== 'string') {\n                const fontLineHeight = labelFont.lineHeight;\n                cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n            } else {\n                cursor.y += lineHeight;\n            }\n        });\n        restoreTextDirection(this.ctx, opts.textDirection);\n    }\n drawTitle() {\n        const opts = this.options;\n        const titleOpts = opts.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        if (!titleOpts.display) {\n            return;\n        }\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const ctx = this.ctx;\n        const position = titleOpts.position;\n        const halfFontSize = titleFont.size / 2;\n        const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n        let y;\n        let left = this.left;\n        let maxWidth = this.width;\n        if (this.isHorizontal()) {\n            maxWidth = Math.max(...this.lineWidths);\n            y = this.top + topPaddingPlusHalfFontSize;\n            left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n        } else {\n            const maxHeight = this.columnSizes.reduce((acc, size)=>Math.max(acc, size.height), 0);\n            y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n        }\n        const x = _alignStartEnd(position, left, left + maxWidth);\n        ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = titleOpts.color;\n        ctx.fillStyle = titleOpts.color;\n        ctx.font = titleFont.string;\n        renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n _computeTitleHeight() {\n        const titleOpts = this.options.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n _getLegendItemAt(x, y) {\n        let i, hitBox, lh;\n        if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n            lh = this.legendHitBoxes;\n            for(i = 0; i < lh.length; ++i){\n                hitBox = lh[i];\n                if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n                    return this.legendItems[i];\n                }\n            }\n        }\n        return null;\n    }\n handleEvent(e) {\n        const opts = this.options;\n        if (!isListened(e.type, opts)) {\n            return;\n        }\n        const hoveredItem = this._getLegendItemAt(e.x, e.y);\n        if (e.type === 'mousemove' || e.type === 'mouseout') {\n            const previous = this._hoveredItem;\n            const sameItem = itemsEqual(previous, hoveredItem);\n            if (previous && !sameItem) {\n                callback(opts.onLeave, [\n                    e,\n                    previous,\n                    this\n                ], this);\n            }\n            this._hoveredItem = hoveredItem;\n            if (hoveredItem && !sameItem) {\n                callback(opts.onHover, [\n                    e,\n                    hoveredItem,\n                    this\n                ], this);\n            }\n        } else if (hoveredItem) {\n            callback(opts.onClick, [\n                e,\n                hoveredItem,\n                this\n            ], this);\n        }\n    }\n}\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n    const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n    const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n    return {\n        itemWidth,\n        itemHeight\n    };\n}\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n    let legendItemText = legendItem.text;\n    if (legendItemText && typeof legendItemText !== 'string') {\n        legendItemText = legendItemText.reduce((a, b)=>a.length > b.length ? a : b);\n    }\n    return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;\n}\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n    let itemHeight = _itemHeight;\n    if (typeof legendItem.text !== 'string') {\n        itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n    }\n    return itemHeight;\n}\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n    const labelHeight = legendItem.text ? legendItem.text.length : 0;\n    return fontLineHeight * labelHeight;\n}\nfunction isListened(type, opts) {\n    if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n        return true;\n    }\n    if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n        return true;\n    }\n    return false;\n}\nvar plugin_legend = {\n    id: 'legend',\n _element: Legend,\n    start (chart, _args, options) {\n        const legend = chart.legend = new Legend({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, legend, options);\n        layouts.addBox(chart, legend);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, chart.legend);\n        delete chart.legend;\n    },\n    beforeUpdate (chart, _args, options) {\n        const legend = chart.legend;\n        layouts.configure(chart, legend, options);\n        legend.options = options;\n    },\n    afterUpdate (chart) {\n        const legend = chart.legend;\n        legend.buildLabels();\n        legend.adjustHitBoxes();\n    },\n    afterEvent (chart, args) {\n        if (!args.replay) {\n            chart.legend.handleEvent(args.event);\n        }\n    },\n    defaults: {\n        display: true,\n        position: 'top',\n        align: 'center',\n        fullSize: true,\n        reverse: false,\n        weight: 1000,\n        onClick (e, legendItem, legend) {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            if (ci.isDatasetVisible(index)) {\n                ci.hide(index);\n                legendItem.hidden = true;\n            } else {\n                ci.show(index);\n                legendItem.hidden = false;\n            }\n        },\n        onHover: null,\n        onLeave: null,\n        labels: {\n            color: (ctx)=>ctx.chart.options.color,\n            boxWidth: 40,\n            padding: 10,\n            generateLabels (chart) {\n                const datasets = chart.data.datasets;\n                const { labels: { usePointStyle , pointStyle , textAlign , color , useBorderRadius , borderRadius  }  } = chart.legend.options;\n                return chart._getSortedDatasetMetas().map((meta)=>{\n                    const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n                    const borderWidth = toPadding(style.borderWidth);\n                    return {\n                        text: datasets[meta.index].label,\n                        fillStyle: style.backgroundColor,\n                        fontColor: color,\n                        hidden: !meta.visible,\n                        lineCap: style.borderCapStyle,\n                        lineDash: style.borderDash,\n                        lineDashOffset: style.borderDashOffset,\n                        lineJoin: style.borderJoinStyle,\n                        lineWidth: (borderWidth.width + borderWidth.height) / 4,\n                        strokeStyle: style.borderColor,\n                        pointStyle: pointStyle || style.pointStyle,\n                        rotation: style.rotation,\n                        textAlign: textAlign || style.textAlign,\n                        borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n                        datasetIndex: meta.index\n                    };\n                }, this);\n            }\n        },\n        title: {\n            color: (ctx)=>ctx.chart.options.color,\n            display: false,\n            position: 'center',\n            text: ''\n        }\n    },\n    descriptors: {\n        _scriptable: (name)=>!name.startsWith('on'),\n        labels: {\n            _scriptable: (name)=>![\n                    'generateLabels',\n                    'filter',\n                    'sort'\n                ].includes(name)\n        }\n    }\n};\n\nclass Title extends Element {\n constructor(config){\n        super();\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this._padding = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight) {\n        const opts = this.options;\n        this.left = 0;\n        this.top = 0;\n        if (!opts.display) {\n            this.width = this.height = this.right = this.bottom = 0;\n            return;\n        }\n        this.width = this.right = maxWidth;\n        this.height = this.bottom = maxHeight;\n        const lineCount = isArray(opts.text) ? opts.text.length : 1;\n        this._padding = toPadding(opts.padding);\n        const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n        if (this.isHorizontal()) {\n            this.height = textSize;\n        } else {\n            this.width = textSize;\n        }\n    }\n    isHorizontal() {\n        const pos = this.options.position;\n        return pos === 'top' || pos === 'bottom';\n    }\n    _drawArgs(offset) {\n        const { top , left , bottom , right , options  } = this;\n        const align = options.align;\n        let rotation = 0;\n        let maxWidth, titleX, titleY;\n        if (this.isHorizontal()) {\n            titleX = _alignStartEnd(align, left, right);\n            titleY = top + offset;\n            maxWidth = right - left;\n        } else {\n            if (options.position === 'left') {\n                titleX = left + offset;\n                titleY = _alignStartEnd(align, bottom, top);\n                rotation = PI * -0.5;\n            } else {\n                titleX = right - offset;\n                titleY = _alignStartEnd(align, top, bottom);\n                rotation = PI * 0.5;\n            }\n            maxWidth = bottom - top;\n        }\n        return {\n            titleX,\n            titleY,\n            maxWidth,\n            rotation\n        };\n    }\n    draw() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        if (!opts.display) {\n            return;\n        }\n        const fontOpts = toFont(opts.font);\n        const lineHeight = fontOpts.lineHeight;\n        const offset = lineHeight / 2 + this._padding.top;\n        const { titleX , titleY , maxWidth , rotation  } = this._drawArgs(offset);\n        renderText(ctx, opts.text, 0, 0, fontOpts, {\n            color: opts.color,\n            maxWidth,\n            rotation,\n            textAlign: _toLeftRightCenter(opts.align),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n}\nfunction createTitle(chart, titleOpts) {\n    const title = new Title({\n        ctx: chart.ctx,\n        options: titleOpts,\n        chart\n    });\n    layouts.configure(chart, title, titleOpts);\n    layouts.addBox(chart, title);\n    chart.titleBlock = title;\n}\nvar plugin_title = {\n    id: 'title',\n _element: Title,\n    start (chart, _args, options) {\n        createTitle(chart, options);\n    },\n    stop (chart) {\n        const titleBlock = chart.titleBlock;\n        layouts.removeBox(chart, titleBlock);\n        delete chart.titleBlock;\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = chart.titleBlock;\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'bold'\n        },\n        fullSize: true,\n        padding: 10,\n        position: 'top',\n        text: '',\n        weight: 2000\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n    id: 'subtitle',\n    start (chart, _args, options) {\n        const title = new Title({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, title, options);\n        layouts.addBox(chart, title);\n        map.set(chart, title);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, map.get(chart));\n        map.delete(chart);\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = map.get(chart);\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'normal'\n        },\n        fullSize: true,\n        padding: 0,\n        position: 'top',\n        text: '',\n        weight: 1500\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst positioners = {\n average (items) {\n        if (!items.length) {\n            return false;\n        }\n        let i, len;\n        let xSet = new Set();\n        let y = 0;\n        let count = 0;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const pos = el.tooltipPosition();\n                xSet.add(pos.x);\n                y += pos.y;\n                ++count;\n            }\n        }\n        if (count === 0 || xSet.size === 0) {\n            return false;\n        }\n        const xAverage = [\n            ...xSet\n        ].reduce((a, b)=>a + b) / xSet.size;\n        return {\n            x: xAverage,\n            y: y / count\n        };\n    },\n nearest (items, eventPosition) {\n        if (!items.length) {\n            return false;\n        }\n        let x = eventPosition.x;\n        let y = eventPosition.y;\n        let minDistance = Number.POSITIVE_INFINITY;\n        let i, len, nearestElement;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const center = el.getCenterPoint();\n                const d = distanceBetweenPoints(eventPosition, center);\n                if (d < minDistance) {\n                    minDistance = d;\n                    nearestElement = el;\n                }\n            }\n        }\n        if (nearestElement) {\n            const tp = nearestElement.tooltipPosition();\n            x = tp.x;\n            y = tp.y;\n        }\n        return {\n            x,\n            y\n        };\n    }\n};\nfunction pushOrConcat(base, toPush) {\n    if (toPush) {\n        if (isArray(toPush)) {\n            Array.prototype.push.apply(base, toPush);\n        } else {\n            base.push(toPush);\n        }\n    }\n    return base;\n}\n function splitNewlines(str) {\n    if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n        return str.split('\\n');\n    }\n    return str;\n}\n function createTooltipItem(chart, item) {\n    const { element , datasetIndex , index  } = item;\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n    const { label , value  } = controller.getLabelAndValue(index);\n    return {\n        chart,\n        label,\n        parsed: controller.getParsed(index),\n        raw: chart.data.datasets[datasetIndex].data[index],\n        formattedValue: value,\n        dataset: controller.getDataset(),\n        dataIndex: index,\n        datasetIndex,\n        element\n    };\n}\n function getTooltipSize(tooltip, options) {\n    const ctx = tooltip.chart.ctx;\n    const { body , footer , title  } = tooltip;\n    const { boxWidth , boxHeight  } = options;\n    const bodyFont = toFont(options.bodyFont);\n    const titleFont = toFont(options.titleFont);\n    const footerFont = toFont(options.footerFont);\n    const titleLineCount = title.length;\n    const footerLineCount = footer.length;\n    const bodyLineItemCount = body.length;\n    const padding = toPadding(options.padding);\n    let height = padding.height;\n    let width = 0;\n    let combinedBodyLength = body.reduce((count, bodyItem)=>count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n    combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n    if (titleLineCount) {\n        height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n    }\n    if (combinedBodyLength) {\n        const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n        height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n    }\n    if (footerLineCount) {\n        height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n    }\n    let widthPadding = 0;\n    const maxLineWidth = function(line) {\n        width = Math.max(width, ctx.measureText(line).width + widthPadding);\n    };\n    ctx.save();\n    ctx.font = titleFont.string;\n    each(tooltip.title, maxLineWidth);\n    ctx.font = bodyFont.string;\n    each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n    widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n    each(body, (bodyItem)=>{\n        each(bodyItem.before, maxLineWidth);\n        each(bodyItem.lines, maxLineWidth);\n        each(bodyItem.after, maxLineWidth);\n    });\n    widthPadding = 0;\n    ctx.font = footerFont.string;\n    each(tooltip.footer, maxLineWidth);\n    ctx.restore();\n    width += padding.width;\n    return {\n        width,\n        height\n    };\n}\nfunction determineYAlign(chart, size) {\n    const { y , height  } = size;\n    if (y < height / 2) {\n        return 'top';\n    } else if (y > chart.height - height / 2) {\n        return 'bottom';\n    }\n    return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n    const { x , width  } = size;\n    const caret = options.caretSize + options.caretPadding;\n    if (xAlign === 'left' && x + width + caret > chart.width) {\n        return true;\n    }\n    if (xAlign === 'right' && x - width - caret < 0) {\n        return true;\n    }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n    const { x , width  } = size;\n    const { width: chartWidth , chartArea: { left , right  }  } = chart;\n    let xAlign = 'center';\n    if (yAlign === 'center') {\n        xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n    } else if (x <= width / 2) {\n        xAlign = 'left';\n    } else if (x >= chartWidth - width / 2) {\n        xAlign = 'right';\n    }\n    if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n        xAlign = 'center';\n    }\n    return xAlign;\n}\n function determineAlignment(chart, options, size) {\n    const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n    return {\n        xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n        yAlign\n    };\n}\nfunction alignX(size, xAlign) {\n    let { x , width  } = size;\n    if (xAlign === 'right') {\n        x -= width;\n    } else if (xAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n    let { y , height  } = size;\n    if (yAlign === 'top') {\n        y += paddingAndSize;\n    } else if (yAlign === 'bottom') {\n        y -= height + paddingAndSize;\n    } else {\n        y -= height / 2;\n    }\n    return y;\n}\n function getBackgroundPoint(options, size, alignment, chart) {\n    const { caretSize , caretPadding , cornerRadius  } = options;\n    const { xAlign , yAlign  } = alignment;\n    const paddingAndSize = caretSize + caretPadding;\n    const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n    let x = alignX(size, xAlign);\n    const y = alignY(size, yAlign, paddingAndSize);\n    if (yAlign === 'center') {\n        if (xAlign === 'left') {\n            x += paddingAndSize;\n        } else if (xAlign === 'right') {\n            x -= paddingAndSize;\n        }\n    } else if (xAlign === 'left') {\n        x -= Math.max(topLeft, bottomLeft) + caretSize;\n    } else if (xAlign === 'right') {\n        x += Math.max(topRight, bottomRight) + caretSize;\n    }\n    return {\n        x: _limitValue(x, 0, chart.width - size.width),\n        y: _limitValue(y, 0, chart.height - size.height)\n    };\n}\nfunction getAlignedX(tooltip, align, options) {\n    const padding = toPadding(options.padding);\n    return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n function getBeforeAfterBodyLines(callback) {\n    return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n    return createContext(parent, {\n        tooltip,\n        tooltipItems,\n        type: 'tooltip'\n    });\n}\nfunction overrideCallbacks(callbacks, context) {\n    const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n    return override ? callbacks.override(override) : callbacks;\n}\nconst defaultCallbacks = {\n    beforeTitle: noop,\n    title (tooltipItems) {\n        if (tooltipItems.length > 0) {\n            const item = tooltipItems[0];\n            const labels = item.chart.data.labels;\n            const labelCount = labels ? labels.length : 0;\n            if (this && this.options && this.options.mode === 'dataset') {\n                return item.dataset.label || '';\n            } else if (item.label) {\n                return item.label;\n            } else if (labelCount > 0 && item.dataIndex < labelCount) {\n                return labels[item.dataIndex];\n            }\n        }\n        return '';\n    },\n    afterTitle: noop,\n    beforeBody: noop,\n    beforeLabel: noop,\n    label (tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n            label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n            label += value;\n        }\n        return label;\n    },\n    labelColor (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            borderColor: options.borderColor,\n            backgroundColor: options.backgroundColor,\n            borderWidth: options.borderWidth,\n            borderDash: options.borderDash,\n            borderDashOffset: options.borderDashOffset,\n            borderRadius: 0\n        };\n    },\n    labelTextColor () {\n        return this.options.bodyColor;\n    },\n    labelPointStyle (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            pointStyle: options.pointStyle,\n            rotation: options.rotation\n        };\n    },\n    afterLabel: noop,\n    afterBody: noop,\n    beforeFooter: noop,\n    footer: noop,\n    afterFooter: noop\n};\n function invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n    const result = callbacks[name].call(ctx, arg);\n    if (typeof result === 'undefined') {\n        return defaultCallbacks[name].call(ctx, arg);\n    }\n    return result;\n}\nclass Tooltip extends Element {\n static positioners = positioners;\n    constructor(config){\n        super();\n        this.opacity = 0;\n        this._active = [];\n        this._eventPosition = undefined;\n        this._size = undefined;\n        this._cachedAnimations = undefined;\n        this._tooltipItems = [];\n        this.$animations = undefined;\n        this.$context = undefined;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.dataPoints = undefined;\n        this.title = undefined;\n        this.beforeBody = undefined;\n        this.body = undefined;\n        this.afterBody = undefined;\n        this.footer = undefined;\n        this.xAlign = undefined;\n        this.yAlign = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this.caretX = undefined;\n        this.caretY = undefined;\n        this.labelColors = undefined;\n        this.labelPointStyles = undefined;\n        this.labelTextColors = undefined;\n    }\n    initialize(options) {\n        this.options = options;\n        this._cachedAnimations = undefined;\n        this.$context = undefined;\n    }\n _resolveAnimations() {\n        const cached = this._cachedAnimations;\n        if (cached) {\n            return cached;\n        }\n        const chart = this.chart;\n        const options = this.options.setContext(this.getContext());\n        const opts = options.enabled && chart.options.animation && options.animations;\n        const animations = new Animations(this.chart, opts);\n        if (opts._cacheable) {\n            this._cachedAnimations = Object.freeze(animations);\n        }\n        return animations;\n    }\n getContext() {\n        return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n    getTitle(context, options) {\n        const { callbacks  } = options;\n        const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n        const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n        const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n        lines = pushOrConcat(lines, splitNewlines(title));\n        lines = pushOrConcat(lines, splitNewlines(afterTitle));\n        return lines;\n    }\n    getBeforeBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems));\n    }\n    getBody(tooltipItems, options) {\n        const { callbacks  } = options;\n        const bodyItems = [];\n        each(tooltipItems, (context)=>{\n            const bodyItem = {\n                before: [],\n                lines: [],\n                after: []\n            };\n            const scoped = overrideCallbacks(callbacks, context);\n            pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n            pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n            pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n            bodyItems.push(bodyItem);\n        });\n        return bodyItems;\n    }\n    getAfterBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems));\n    }\n    getFooter(tooltipItems, options) {\n        const { callbacks  } = options;\n        const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n        const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n        const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n        lines = pushOrConcat(lines, splitNewlines(footer));\n        lines = pushOrConcat(lines, splitNewlines(afterFooter));\n        return lines;\n    }\n _createItems(options) {\n        const active = this._active;\n        const data = this.chart.data;\n        const labelColors = [];\n        const labelPointStyles = [];\n        const labelTextColors = [];\n        let tooltipItems = [];\n        let i, len;\n        for(i = 0, len = active.length; i < len; ++i){\n            tooltipItems.push(createTooltipItem(this.chart, active[i]));\n        }\n        if (options.filter) {\n            tooltipItems = tooltipItems.filter((element, index, array)=>options.filter(element, index, array, data));\n        }\n        if (options.itemSort) {\n            tooltipItems = tooltipItems.sort((a, b)=>options.itemSort(a, b, data));\n        }\n        each(tooltipItems, (context)=>{\n            const scoped = overrideCallbacks(options.callbacks, context);\n            labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n            labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n            labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n        });\n        this.labelColors = labelColors;\n        this.labelPointStyles = labelPointStyles;\n        this.labelTextColors = labelTextColors;\n        this.dataPoints = tooltipItems;\n        return tooltipItems;\n    }\n    update(changed, replay) {\n        const options = this.options.setContext(this.getContext());\n        const active = this._active;\n        let properties;\n        let tooltipItems = [];\n        if (!active.length) {\n            if (this.opacity !== 0) {\n                properties = {\n                    opacity: 0\n                };\n            }\n        } else {\n            const position = positioners[options.position].call(this, active, this._eventPosition);\n            tooltipItems = this._createItems(options);\n            this.title = this.getTitle(tooltipItems, options);\n            this.beforeBody = this.getBeforeBody(tooltipItems, options);\n            this.body = this.getBody(tooltipItems, options);\n            this.afterBody = this.getAfterBody(tooltipItems, options);\n            this.footer = this.getFooter(tooltipItems, options);\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, size);\n            const alignment = determineAlignment(this.chart, options, positionAndSize);\n            const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n            this.xAlign = alignment.xAlign;\n            this.yAlign = alignment.yAlign;\n            properties = {\n                opacity: 1,\n                x: backgroundPoint.x,\n                y: backgroundPoint.y,\n                width: size.width,\n                height: size.height,\n                caretX: position.x,\n                caretY: position.y\n            };\n        }\n        this._tooltipItems = tooltipItems;\n        this.$context = undefined;\n        if (properties) {\n            this._resolveAnimations().update(this, properties);\n        }\n        if (changed && options.external) {\n            options.external.call(this, {\n                chart: this.chart,\n                tooltip: this,\n                replay\n            });\n        }\n    }\n    drawCaret(tooltipPoint, ctx, size, options) {\n        const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n        ctx.lineTo(caretPosition.x1, caretPosition.y1);\n        ctx.lineTo(caretPosition.x2, caretPosition.y2);\n        ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n    getCaretPosition(tooltipPoint, size, options) {\n        const { xAlign , yAlign  } = this;\n        const { caretSize , cornerRadius  } = options;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n        const { x: ptX , y: ptY  } = tooltipPoint;\n        const { width , height  } = size;\n        let x1, x2, x3, y1, y2, y3;\n        if (yAlign === 'center') {\n            y2 = ptY + height / 2;\n            if (xAlign === 'left') {\n                x1 = ptX;\n                x2 = x1 - caretSize;\n                y1 = y2 + caretSize;\n                y3 = y2 - caretSize;\n            } else {\n                x1 = ptX + width;\n                x2 = x1 + caretSize;\n                y1 = y2 - caretSize;\n                y3 = y2 + caretSize;\n            }\n            x3 = x1;\n        } else {\n            if (xAlign === 'left') {\n                x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n            } else if (xAlign === 'right') {\n                x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n            } else {\n                x2 = this.caretX;\n            }\n            if (yAlign === 'top') {\n                y1 = ptY;\n                y2 = y1 - caretSize;\n                x1 = x2 - caretSize;\n                x3 = x2 + caretSize;\n            } else {\n                y1 = ptY + height;\n                y2 = y1 + caretSize;\n                x1 = x2 + caretSize;\n                x3 = x2 - caretSize;\n            }\n            y3 = y1;\n        }\n        return {\n            x1,\n            x2,\n            x3,\n            y1,\n            y2,\n            y3\n        };\n    }\n    drawTitle(pt, ctx, options) {\n        const title = this.title;\n        const length = title.length;\n        let titleFont, titleSpacing, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.titleAlign, options);\n            ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n            ctx.textBaseline = 'middle';\n            titleFont = toFont(options.titleFont);\n            titleSpacing = options.titleSpacing;\n            ctx.fillStyle = options.titleColor;\n            ctx.font = titleFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n                pt.y += titleFont.lineHeight + titleSpacing;\n                if (i + 1 === length) {\n                    pt.y += options.titleMarginBottom - titleSpacing;\n                }\n            }\n        }\n    }\n _drawColorBox(ctx, pt, i, rtlHelper, options) {\n        const labelColor = this.labelColors[i];\n        const labelPointStyle = this.labelPointStyles[i];\n        const { boxHeight , boxWidth  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        const colorX = getAlignedX(this, 'left', options);\n        const rtlColorX = rtlHelper.x(colorX);\n        const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n        const colorY = pt.y + yOffSet;\n        if (options.usePointStyle) {\n            const drawOptions = {\n                radius: Math.min(boxWidth, boxHeight) / 2,\n                pointStyle: labelPointStyle.pointStyle,\n                rotation: labelPointStyle.rotation,\n                borderWidth: 1\n            };\n            const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n            const centerY = colorY + boxHeight / 2;\n            ctx.strokeStyle = options.multiKeyBackground;\n            ctx.fillStyle = options.multiKeyBackground;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.fillStyle = labelColor.backgroundColor;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n            ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.setLineDash(labelColor.borderDash || []);\n            ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n            const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n            const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n            const borderRadius = toTRBLCorners(labelColor.borderRadius);\n            if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                ctx.beginPath();\n                ctx.fillStyle = options.multiKeyBackground;\n                addRoundedRectPath(ctx, {\n                    x: outerX,\n                    y: colorY,\n                    w: boxWidth,\n                    h: boxHeight,\n                    radius: borderRadius\n                });\n                ctx.fill();\n                ctx.stroke();\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.beginPath();\n                addRoundedRectPath(ctx, {\n                    x: innerX,\n                    y: colorY + 1,\n                    w: boxWidth - 2,\n                    h: boxHeight - 2,\n                    radius: borderRadius\n                });\n                ctx.fill();\n            } else {\n                ctx.fillStyle = options.multiKeyBackground;\n                ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n            }\n        }\n        ctx.fillStyle = this.labelTextColors[i];\n    }\n    drawBody(pt, ctx, options) {\n        const { body  } = this;\n        const { bodySpacing , bodyAlign , displayColors , boxHeight , boxWidth , boxPadding  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        let bodyLineHeight = bodyFont.lineHeight;\n        let xLinePadding = 0;\n        const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        const fillLineOfText = function(line) {\n            ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n            pt.y += bodyLineHeight + bodySpacing;\n        };\n        const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n        let bodyItem, textColor, lines, i, j, ilen, jlen;\n        ctx.textAlign = bodyAlign;\n        ctx.textBaseline = 'middle';\n        ctx.font = bodyFont.string;\n        pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n        ctx.fillStyle = options.bodyColor;\n        each(this.beforeBody, fillLineOfText);\n        xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n        for(i = 0, ilen = body.length; i < ilen; ++i){\n            bodyItem = body[i];\n            textColor = this.labelTextColors[i];\n            ctx.fillStyle = textColor;\n            each(bodyItem.before, fillLineOfText);\n            lines = bodyItem.lines;\n            if (displayColors && lines.length) {\n                this._drawColorBox(ctx, pt, i, rtlHelper, options);\n                bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n            }\n            for(j = 0, jlen = lines.length; j < jlen; ++j){\n                fillLineOfText(lines[j]);\n                bodyLineHeight = bodyFont.lineHeight;\n            }\n            each(bodyItem.after, fillLineOfText);\n        }\n        xLinePadding = 0;\n        bodyLineHeight = bodyFont.lineHeight;\n        each(this.afterBody, fillLineOfText);\n        pt.y -= bodySpacing;\n    }\n    drawFooter(pt, ctx, options) {\n        const footer = this.footer;\n        const length = footer.length;\n        let footerFont, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.footerAlign, options);\n            pt.y += options.footerMarginTop;\n            ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n            ctx.textBaseline = 'middle';\n            footerFont = toFont(options.footerFont);\n            ctx.fillStyle = options.footerColor;\n            ctx.font = footerFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n                pt.y += footerFont.lineHeight + options.footerSpacing;\n            }\n        }\n    }\n    drawBackground(pt, ctx, tooltipSize, options) {\n        const { xAlign , yAlign  } = this;\n        const { x , y  } = pt;\n        const { width , height  } = tooltipSize;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(options.cornerRadius);\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.beginPath();\n        ctx.moveTo(x + topLeft, y);\n        if (yAlign === 'top') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width - topRight, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n        if (yAlign === 'center' && xAlign === 'right') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width, y + height - bottomRight);\n        ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n        if (yAlign === 'bottom') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + bottomLeft, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n        if (yAlign === 'center' && xAlign === 'left') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x, y + topLeft);\n        ctx.quadraticCurveTo(x, y, x + topLeft, y);\n        ctx.closePath();\n        ctx.fill();\n        if (options.borderWidth > 0) {\n            ctx.stroke();\n        }\n    }\n _updateAnimationTarget(options) {\n        const chart = this.chart;\n        const anims = this.$animations;\n        const animX = anims && anims.x;\n        const animY = anims && anims.y;\n        if (animX || animY) {\n            const position = positioners[options.position].call(this, this._active, this._eventPosition);\n            if (!position) {\n                return;\n            }\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, this._size);\n            const alignment = determineAlignment(chart, options, positionAndSize);\n            const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n            if (animX._to !== point.x || animY._to !== point.y) {\n                this.xAlign = alignment.xAlign;\n                this.yAlign = alignment.yAlign;\n                this.width = size.width;\n                this.height = size.height;\n                this.caretX = position.x;\n                this.caretY = position.y;\n                this._resolveAnimations().update(this, point);\n            }\n        }\n    }\n _willRender() {\n        return !!this.opacity;\n    }\n    draw(ctx) {\n        const options = this.options.setContext(this.getContext());\n        let opacity = this.opacity;\n        if (!opacity) {\n            return;\n        }\n        this._updateAnimationTarget(options);\n        const tooltipSize = {\n            width: this.width,\n            height: this.height\n        };\n        const pt = {\n            x: this.x,\n            y: this.y\n        };\n        opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n        const padding = toPadding(options.padding);\n        const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n        if (options.enabled && hasTooltipContent) {\n            ctx.save();\n            ctx.globalAlpha = opacity;\n            this.drawBackground(pt, ctx, tooltipSize, options);\n            overrideTextDirection(ctx, options.textDirection);\n            pt.y += padding.top;\n            this.drawTitle(pt, ctx, options);\n            this.drawBody(pt, ctx, options);\n            this.drawFooter(pt, ctx, options);\n            restoreTextDirection(ctx, options.textDirection);\n            ctx.restore();\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements, eventPosition) {\n        const lastActive = this._active;\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.chart.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('Cannot find a dataset at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(lastActive, active);\n        const positionChanged = this._positionChanged(active, eventPosition);\n        if (changed || positionChanged) {\n            this._active = active;\n            this._eventPosition = eventPosition;\n            this._ignoreReplayEvents = true;\n            this.update(true);\n        }\n    }\n handleEvent(e, replay, inChartArea = true) {\n        if (replay && this._ignoreReplayEvents) {\n            return false;\n        }\n        this._ignoreReplayEvents = false;\n        const options = this.options;\n        const lastActive = this._active || [];\n        const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n        const positionChanged = this._positionChanged(active, e);\n        const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n        if (changed) {\n            this._active = active;\n            if (options.enabled || options.external) {\n                this._eventPosition = {\n                    x: e.x,\n                    y: e.y\n                };\n                this.update(true, replay);\n            }\n        }\n        return changed;\n    }\n _getActiveElements(e, lastActive, replay, inChartArea) {\n        const options = this.options;\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive.filter((i)=>this.chart.data.datasets[i.datasetIndex] && this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined);\n        }\n        const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n        if (options.reverse) {\n            active.reverse();\n        }\n        return active;\n    }\n _positionChanged(active, e) {\n        const { caretX , caretY , options  } = this;\n        const position = positioners[options.position].call(this, active, e);\n        return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n}\nvar plugin_tooltip = {\n    id: 'tooltip',\n    _element: Tooltip,\n    positioners,\n    afterInit (chart, _args, options) {\n        if (options) {\n            chart.tooltip = new Tooltip({\n                chart,\n                options\n            });\n        }\n    },\n    beforeUpdate (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    reset (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    afterDraw (chart) {\n        const tooltip = chart.tooltip;\n        if (tooltip && tooltip._willRender()) {\n            const args = {\n                tooltip\n            };\n            if (chart.notifyPlugins('beforeTooltipDraw', {\n                ...args,\n                cancelable: true\n            }) === false) {\n                return;\n            }\n            tooltip.draw(chart.ctx);\n            chart.notifyPlugins('afterTooltipDraw', args);\n        }\n    },\n    afterEvent (chart, args) {\n        if (chart.tooltip) {\n            const useFinalPosition = args.replay;\n            if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n                args.changed = true;\n            }\n        }\n    },\n    defaults: {\n        enabled: true,\n        external: null,\n        position: 'average',\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: '#fff',\n        titleFont: {\n            weight: 'bold'\n        },\n        titleSpacing: 2,\n        titleMarginBottom: 6,\n        titleAlign: 'left',\n        bodyColor: '#fff',\n        bodySpacing: 2,\n        bodyFont: {},\n        bodyAlign: 'left',\n        footerColor: '#fff',\n        footerSpacing: 2,\n        footerMarginTop: 6,\n        footerFont: {\n            weight: 'bold'\n        },\n        footerAlign: 'left',\n        padding: 6,\n        caretPadding: 2,\n        caretSize: 5,\n        cornerRadius: 6,\n        boxHeight: (ctx, opts)=>opts.bodyFont.size,\n        boxWidth: (ctx, opts)=>opts.bodyFont.size,\n        multiKeyBackground: '#fff',\n        displayColors: true,\n        boxPadding: 0,\n        borderColor: 'rgba(0,0,0,0)',\n        borderWidth: 0,\n        animation: {\n            duration: 400,\n            easing: 'easeOutQuart'\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'width',\n                    'height',\n                    'caretX',\n                    'caretY'\n                ]\n            },\n            opacity: {\n                easing: 'linear',\n                duration: 200\n            }\n        },\n        callbacks: defaultCallbacks\n    },\n    defaultRoutes: {\n        bodyFont: 'font',\n        footerFont: 'font',\n        titleFont: 'font'\n    },\n    descriptors: {\n        _scriptable: (name)=>name !== 'filter' && name !== 'itemSort' && name !== 'external',\n        _indexable: false,\n        callbacks: {\n            _scriptable: false,\n            _indexable: false\n        },\n        animation: {\n            _fallback: false\n        },\n        animations: {\n            _fallback: 'animation'\n        }\n    },\n    additionalOptionScopes: [\n        'interaction'\n    ]\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nColors: plugin_colors,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels)=>{\n    if (typeof raw === 'string') {\n        index = labels.push(raw) - 1;\n        addedLabels.unshift({\n            index,\n            label: raw\n        });\n    } else if (isNaN(raw)) {\n        index = null;\n    }\n    return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n    const first = labels.indexOf(raw);\n    if (first === -1) {\n        return addIfString(labels, raw, index, addedLabels);\n    }\n    const last = labels.lastIndexOf(raw);\n    return first !== last ? index : first;\n}\nconst validIndex = (index, max)=>index === null ? null : _limitValue(Math.round(index), 0, max);\nfunction _getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n        return labels[value];\n    }\n    return value;\n}\nclass CategoryScale extends Scale {\n    static id = 'category';\n static defaults = {\n        ticks: {\n            callback: _getLabelForValue\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this._startValue = undefined;\n        this._valueRange = 0;\n        this._addedLabels = [];\n    }\n    init(scaleOptions) {\n        const added = this._addedLabels;\n        if (added.length) {\n            const labels = this.getLabels();\n            for (const { index , label  } of added){\n                if (labels[index] === label) {\n                    labels.splice(index, 1);\n                }\n            }\n            this._addedLabels = [];\n        }\n        super.init(scaleOptions);\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        const labels = this.getLabels();\n        index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n        return validIndex(index, labels.length - 1);\n    }\n    determineDataLimits() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this.getMinMax(true);\n        if (this.options.bounds === 'ticks') {\n            if (!minDefined) {\n                min = 0;\n            }\n            if (!maxDefined) {\n                max = this.getLabels().length - 1;\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const min = this.min;\n        const max = this.max;\n        const offset = this.options.offset;\n        const ticks = [];\n        let labels = this.getLabels();\n        labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n        this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n        this._startValue = this.min - (offset ? 0.5 : 0);\n        for(let value = min; value <= max; value++){\n            ticks.push({\n                value\n            });\n        }\n        return ticks;\n    }\n    getLabelForValue(value) {\n        return _getLabelForValue.call(this, value);\n    }\n configure() {\n        super.configure();\n        if (!this.isHorizontal()) {\n            this._reversePixels = !this._reversePixels;\n        }\n    }\n    getPixelForValue(value) {\n        if (typeof value !== 'number') {\n            value = this.parse(value);\n        }\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n    getValueForPixel(pixel) {\n        return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n    getBasePixel() {\n        return this.bottom;\n    }\n}\n\nfunction generateTicks$1(generationOptions, dataRange) {\n    const ticks = [];\n    const MIN_SPACING = 1e-14;\n    const { bounds , step , min , max , precision , count , maxTicks , maxDigits , includeBounds  } = generationOptions;\n    const unit = step || 1;\n    const maxSpaces = maxTicks - 1;\n    const { min: rmin , max: rmax  } = dataRange;\n    const minDefined = !isNullOrUndef(min);\n    const maxDefined = !isNullOrUndef(max);\n    const countDefined = !isNullOrUndef(count);\n    const minSpacing = (rmax - rmin) / (maxDigits + 1);\n    let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n    let factor, niceMin, niceMax, numSpaces;\n    if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n        return [\n            {\n                value: rmin\n            },\n            {\n                value: rmax\n            }\n        ];\n    }\n    numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n    if (numSpaces > maxSpaces) {\n        spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n    }\n    if (!isNullOrUndef(precision)) {\n        factor = Math.pow(10, precision);\n        spacing = Math.ceil(spacing * factor) / factor;\n    }\n    if (bounds === 'ticks') {\n        niceMin = Math.floor(rmin / spacing) * spacing;\n        niceMax = Math.ceil(rmax / spacing) * spacing;\n    } else {\n        niceMin = rmin;\n        niceMax = rmax;\n    }\n    if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n        numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n        spacing = (max - min) / numSpaces;\n        niceMin = min;\n        niceMax = max;\n    } else if (countDefined) {\n        niceMin = minDefined ? min : niceMin;\n        niceMax = maxDefined ? max : niceMax;\n        numSpaces = count - 1;\n        spacing = (niceMax - niceMin) / numSpaces;\n    } else {\n        numSpaces = (niceMax - niceMin) / spacing;\n        if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n            numSpaces = Math.round(numSpaces);\n        } else {\n            numSpaces = Math.ceil(numSpaces);\n        }\n    }\n    const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n    factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n    niceMin = Math.round(niceMin * factor) / factor;\n    niceMax = Math.round(niceMax * factor) / factor;\n    let j = 0;\n    if (minDefined) {\n        if (includeBounds && niceMin !== min) {\n            ticks.push({\n                value: min\n            });\n            if (niceMin < min) {\n                j++;\n            }\n            if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n                j++;\n            }\n        } else if (niceMin < min) {\n            j++;\n        }\n    }\n    for(; j < numSpaces; ++j){\n        const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n        if (maxDefined && tickValue > max) {\n            break;\n        }\n        ticks.push({\n            value: tickValue\n        });\n    }\n    if (maxDefined && includeBounds && niceMax !== max) {\n        if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n            ticks[ticks.length - 1].value = max;\n        } else {\n            ticks.push({\n                value: max\n            });\n        }\n    } else if (!maxDefined || niceMax === max) {\n        ticks.push({\n            value: niceMax\n        });\n    }\n    return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, { horizontal , minRotation  }) {\n    const rad = toRadians(minRotation);\n    const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n    const length = 0.75 * minSpacing * ('' + value).length;\n    return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n         this._endValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n            return null;\n        }\n        return +raw;\n    }\n    handleTickRangeOptions() {\n        const { beginAtZero  } = this.options;\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (beginAtZero) {\n            const minSign = sign(min);\n            const maxSign = sign(max);\n            if (minSign < 0 && maxSign < 0) {\n                setMax(0);\n            } else if (minSign > 0 && maxSign > 0) {\n                setMin(0);\n            }\n        }\n        if (min === max) {\n            let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n            setMax(max + offset);\n            if (!beginAtZero) {\n                setMin(min - offset);\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    getTickLimit() {\n        const tickOpts = this.options.ticks;\n        let { maxTicksLimit , stepSize  } = tickOpts;\n        let maxTicks;\n        if (stepSize) {\n            maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n            if (maxTicks > 1000) {\n                console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n                maxTicks = 1000;\n            }\n        } else {\n            maxTicks = this.computeTickLimit();\n            maxTicksLimit = maxTicksLimit || 11;\n        }\n        if (maxTicksLimit) {\n            maxTicks = Math.min(maxTicksLimit, maxTicks);\n        }\n        return maxTicks;\n    }\n computeTickLimit() {\n        return Number.POSITIVE_INFINITY;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        let maxTicks = this.getTickLimit();\n        maxTicks = Math.max(2, maxTicks);\n        const numericGeneratorOptions = {\n            maxTicks,\n            bounds: opts.bounds,\n            min: opts.min,\n            max: opts.max,\n            precision: tickOpts.precision,\n            step: tickOpts.stepSize,\n            count: tickOpts.count,\n            maxDigits: this._maxDigits(),\n            horizontal: this.isHorizontal(),\n            minRotation: tickOpts.minRotation || 0,\n            includeBounds: tickOpts.includeBounds !== false\n        };\n        const dataRange = this._range || this;\n        const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n configure() {\n        const ticks = this.ticks;\n        let start = this.min;\n        let end = this.max;\n        super.configure();\n        if (this.options.offset && ticks.length) {\n            const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n            start -= offset;\n            end += offset;\n        }\n        this._startValue = start;\n        this._endValue = end;\n        this._valueRange = end - start;\n    }\n    getLabelForValue(value) {\n        return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n}\n\nclass LinearScale extends LinearScaleBase {\n    static id = 'linear';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.numeric\n        }\n    };\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? min : 0;\n        this.max = isNumberFinite(max) ? max : 1;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        const horizontal = this.isHorizontal();\n        const length = horizontal ? this.width : this.height;\n        const minRotation = toRadians(this.options.ticks.minRotation);\n        const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n        const tickFont = this._resolveTickFontOptions(0);\n        return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n    getPixelForValue(value) {\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n}\n\nconst log10Floor = (v)=>Math.floor(log10(v));\nconst changeExponent = (v, m)=>Math.pow(10, log10Floor(v) + m);\nfunction isMajor(tickVal) {\n    const remain = tickVal / Math.pow(10, log10Floor(tickVal));\n    return remain === 1;\n}\nfunction steps(min, max, rangeExp) {\n    const rangeStep = Math.pow(10, rangeExp);\n    const start = Math.floor(min / rangeStep);\n    const end = Math.ceil(max / rangeStep);\n    return end - start;\n}\nfunction startExp(min, max) {\n    const range = max - min;\n    let rangeExp = log10Floor(range);\n    while(steps(min, max, rangeExp) > 10){\n        rangeExp++;\n    }\n    while(steps(min, max, rangeExp) < 10){\n        rangeExp--;\n    }\n    return Math.min(rangeExp, log10Floor(min));\n}\n function generateTicks(generationOptions, { min , max  }) {\n    min = finiteOrDefault(generationOptions.min, min);\n    const ticks = [];\n    const minExp = log10Floor(min);\n    let exp = startExp(min, max);\n    let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n    const stepSize = Math.pow(10, exp);\n    const base = minExp > exp ? Math.pow(10, minExp) : 0;\n    const start = Math.round((min - base) * precision) / precision;\n    const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n    let significand = Math.floor((start - offset) / Math.pow(10, exp));\n    let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n    while(value < max){\n        ticks.push({\n            value,\n            major: isMajor(value),\n            significand\n        });\n        if (significand >= 10) {\n            significand = significand < 15 ? 15 : 20;\n        } else {\n            significand++;\n        }\n        if (significand >= 20) {\n            exp++;\n            significand = 2;\n            precision = exp >= 0 ? 1 : precision;\n        }\n        value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n    }\n    const lastTick = finiteOrDefault(generationOptions.max, value);\n    ticks.push({\n        value: lastTick,\n        major: isMajor(lastTick),\n        significand\n    });\n    return ticks;\n}\nclass LogarithmicScale extends Scale {\n    static id = 'logarithmic';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.logarithmic,\n            major: {\n                enabled: true\n            }\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        const value = LinearScaleBase.prototype.parse.apply(this, [\n            raw,\n            index\n        ]);\n        if (value === 0) {\n            this._zero = true;\n            return undefined;\n        }\n        return isNumberFinite(value) && value > 0 ? value : null;\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n        this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n        if (this.options.beginAtZero) {\n            this._zero = true;\n        }\n        if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {\n            this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n        }\n        this.handleTickRangeOptions();\n    }\n    handleTickRangeOptions() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let min = this.min;\n        let max = this.max;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (min === max) {\n            if (min <= 0) {\n                setMin(1);\n                setMax(10);\n            } else {\n                setMin(changeExponent(min, -1));\n                setMax(changeExponent(max, +1));\n            }\n        }\n        if (min <= 0) {\n            setMin(changeExponent(max, -1));\n        }\n        if (max <= 0) {\n            setMax(changeExponent(min, +1));\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const generationOptions = {\n            min: this._userMin,\n            max: this._userMax\n        };\n        const ticks = generateTicks(generationOptions, this);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n getLabelForValue(value) {\n        return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n configure() {\n        const start = this.min;\n        super.configure();\n        this._startValue = log10(start);\n        this._valueRange = log10(this.max) - log10(start);\n    }\n    getPixelForValue(value) {\n        if (value === undefined || value === 0) {\n            value = this.min;\n        }\n        if (value === null || isNaN(value)) {\n            return NaN;\n        }\n        return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        const decimal = this.getDecimalForPixel(pixel);\n        return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n}\n\nfunction getTickBackdropHeight(opts) {\n    const tickOpts = opts.ticks;\n    if (tickOpts.display && opts.display) {\n        const padding = toPadding(tickOpts.backdropPadding);\n        return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n    }\n    return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n    label = isArray(label) ? label : [\n        label\n    ];\n    return {\n        w: _longestText(ctx, font.string, label),\n        h: label.length * font.lineHeight\n    };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n    if (angle === min || angle === max) {\n        return {\n            start: pos - size / 2,\n            end: pos + size / 2\n        };\n    } else if (angle < min || angle > max) {\n        return {\n            start: pos - size,\n            end: pos\n        };\n    }\n    return {\n        start: pos,\n        end: pos + size\n    };\n}\n function fitWithPointLabels(scale) {\n    const orig = {\n        l: scale.left + scale._padding.left,\n        r: scale.right - scale._padding.right,\n        t: scale.top + scale._padding.top,\n        b: scale.bottom - scale._padding.bottom\n    };\n    const limits = Object.assign({}, orig);\n    const labelSizes = [];\n    const padding = [];\n    const valueCount = scale._pointLabels.length;\n    const pointLabelOpts = scale.options.pointLabels;\n    const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n    for(let i = 0; i < valueCount; i++){\n        const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n        padding[i] = opts.padding;\n        const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n        const plFont = toFont(opts.font);\n        const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n        labelSizes[i] = textSize;\n        const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n        const angle = Math.round(toDegrees(angleRadians));\n        const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n        const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n        updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n    }\n    scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n    scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n    const sin = Math.abs(Math.sin(angle));\n    const cos = Math.abs(Math.cos(angle));\n    let x = 0;\n    let y = 0;\n    if (hLimits.start < orig.l) {\n        x = (orig.l - hLimits.start) / sin;\n        limits.l = Math.min(limits.l, orig.l - x);\n    } else if (hLimits.end > orig.r) {\n        x = (hLimits.end - orig.r) / sin;\n        limits.r = Math.max(limits.r, orig.r + x);\n    }\n    if (vLimits.start < orig.t) {\n        y = (orig.t - vLimits.start) / cos;\n        limits.t = Math.min(limits.t, orig.t - y);\n    } else if (vLimits.end > orig.b) {\n        y = (vLimits.end - orig.b) / cos;\n        limits.b = Math.max(limits.b, orig.b + y);\n    }\n}\nfunction createPointLabelItem(scale, index, itemOpts) {\n    const outerDistance = scale.drawingArea;\n    const { extra , additionalAngle , padding , size  } = itemOpts;\n    const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    return {\n        visible: true,\n        x: pointLabelPosition.x,\n        y,\n        textAlign,\n        left,\n        top: y,\n        right: left + size.w,\n        bottom: y + size.h\n    };\n}\nfunction isNotOverlapped(item, area) {\n    if (!area) {\n        return true;\n    }\n    const { left , top , right , bottom  } = item;\n    const apexesInArea = _isPointInArea({\n        x: left,\n        y: top\n    }, area) || _isPointInArea({\n        x: left,\n        y: bottom\n    }, area) || _isPointInArea({\n        x: right,\n        y: top\n    }, area) || _isPointInArea({\n        x: right,\n        y: bottom\n    }, area);\n    return !apexesInArea;\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n    const items = [];\n    const valueCount = scale._pointLabels.length;\n    const opts = scale.options;\n    const { centerPointLabels , display  } = opts.pointLabels;\n    const itemOpts = {\n        extra: getTickBackdropHeight(opts) / 2,\n        additionalAngle: centerPointLabels ? PI / valueCount : 0\n    };\n    let area;\n    for(let i = 0; i < valueCount; i++){\n        itemOpts.padding = padding[i];\n        itemOpts.size = labelSizes[i];\n        const item = createPointLabelItem(scale, i, itemOpts);\n        items.push(item);\n        if (display === 'auto') {\n            item.visible = isNotOverlapped(item, area);\n            if (item.visible) {\n                area = item;\n            }\n        }\n    }\n    return items;\n}\nfunction getTextAlignForAngle(angle) {\n    if (angle === 0 || angle === 180) {\n        return 'center';\n    } else if (angle < 180) {\n        return 'left';\n    }\n    return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n    if (align === 'right') {\n        x -= w;\n    } else if (align === 'center') {\n        x -= w / 2;\n    }\n    return x;\n}\nfunction yForAngle(y, h, angle) {\n    if (angle === 90 || angle === 270) {\n        y -= h / 2;\n    } else if (angle > 270 || angle < 90) {\n        y -= h;\n    }\n    return y;\n}\nfunction drawPointLabelBox(ctx, opts, item) {\n    const { left , top , right , bottom  } = item;\n    const { backdropColor  } = opts;\n    if (!isNullOrUndef(backdropColor)) {\n        const borderRadius = toTRBLCorners(opts.borderRadius);\n        const padding = toPadding(opts.backdropPadding);\n        ctx.fillStyle = backdropColor;\n        const backdropLeft = left - padding.left;\n        const backdropTop = top - padding.top;\n        const backdropWidth = right - left + padding.width;\n        const backdropHeight = bottom - top + padding.height;\n        if (Object.values(borderRadius).some((v)=>v !== 0)) {\n            ctx.beginPath();\n            addRoundedRectPath(ctx, {\n                x: backdropLeft,\n                y: backdropTop,\n                w: backdropWidth,\n                h: backdropHeight,\n                radius: borderRadius\n            });\n            ctx.fill();\n        } else {\n            ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n        }\n    }\n}\nfunction drawPointLabels(scale, labelCount) {\n    const { ctx , options: { pointLabels  }  } = scale;\n    for(let i = labelCount - 1; i >= 0; i--){\n        const item = scale._pointLabelItems[i];\n        if (!item.visible) {\n            continue;\n        }\n        const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n        drawPointLabelBox(ctx, optsAtIndex, item);\n        const plFont = toFont(optsAtIndex.font);\n        const { x , y , textAlign  } = item;\n        renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n            color: optsAtIndex.color,\n            textAlign: textAlign,\n            textBaseline: 'middle'\n        });\n    }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n    const { ctx  } = scale;\n    if (circular) {\n        ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n    } else {\n        let pointPosition = scale.getPointPosition(0, radius);\n        ctx.moveTo(pointPosition.x, pointPosition.y);\n        for(let i = 1; i < labelCount; i++){\n            pointPosition = scale.getPointPosition(i, radius);\n            ctx.lineTo(pointPosition.x, pointPosition.y);\n        }\n    }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n    const ctx = scale.ctx;\n    const circular = gridLineOpts.circular;\n    const { color , lineWidth  } = gridLineOpts;\n    if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n        return;\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.setLineDash(borderOpts.dash || []);\n    ctx.lineDashOffset = borderOpts.dashOffset;\n    ctx.beginPath();\n    pathRadiusLine(scale, radius, circular, labelCount);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n    return createContext(parent, {\n        label,\n        index,\n        type: 'pointLabel'\n    });\n}\nclass RadialLinearScale extends LinearScaleBase {\n    static id = 'radialLinear';\n static defaults = {\n        display: true,\n        animate: true,\n        position: 'chartArea',\n        angleLines: {\n            display: true,\n            lineWidth: 1,\n            borderDash: [],\n            borderDashOffset: 0.0\n        },\n        grid: {\n            circular: false\n        },\n        startAngle: 0,\n        ticks: {\n            showLabelBackdrop: true,\n            callback: Ticks.formatters.numeric\n        },\n        pointLabels: {\n            backdropColor: undefined,\n            backdropPadding: 2,\n            display: true,\n            font: {\n                size: 10\n            },\n            callback (label) {\n                return label;\n            },\n            padding: 5,\n            centerPointLabels: false\n        }\n    };\n    static defaultRoutes = {\n        'angleLines.color': 'borderColor',\n        'pointLabels.color': 'color',\n        'ticks.color': 'color'\n    };\n    static descriptors = {\n        angleLines: {\n            _fallback: 'grid'\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.xCenter = undefined;\n         this.yCenter = undefined;\n         this.drawingArea = undefined;\n         this._pointLabels = [];\n        this._pointLabelItems = [];\n    }\n    setDimensions() {\n        const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n        const w = this.width = this.maxWidth - padding.width;\n        const h = this.height = this.maxHeight - padding.height;\n        this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n        this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n        this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(false);\n        this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n        this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n    generateTickLabels(ticks) {\n        LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n        this._pointLabels = this.getLabels().map((value, index)=>{\n            const label = callback(this.options.pointLabels.callback, [\n                value,\n                index\n            ], this);\n            return label || label === 0 ? label : '';\n        }).filter((v, i)=>this.chart.getDataVisibility(i));\n    }\n    fit() {\n        const opts = this.options;\n        if (opts.display && opts.pointLabels.display) {\n            fitWithPointLabels(this);\n        } else {\n            this.setCenterPoint(0, 0, 0, 0);\n        }\n    }\n    setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n        this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n        this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n        this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n    getIndexAngle(index) {\n        const angleMultiplier = TAU / (this._pointLabels.length || 1);\n        const startAngle = this.options.startAngle || 0;\n        return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n    getDistanceFromCenterForValue(value) {\n        if (isNullOrUndef(value)) {\n            return NaN;\n        }\n        const scalingFactor = this.drawingArea / (this.max - this.min);\n        if (this.options.reverse) {\n            return (this.max - value) * scalingFactor;\n        }\n        return (value - this.min) * scalingFactor;\n    }\n    getValueForDistanceFromCenter(distance) {\n        if (isNullOrUndef(distance)) {\n            return NaN;\n        }\n        const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n        return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n    getPointLabelContext(index) {\n        const pointLabels = this._pointLabels || [];\n        if (index >= 0 && index < pointLabels.length) {\n            const pointLabel = pointLabels[index];\n            return createPointLabelContext(this.getContext(), index, pointLabel);\n        }\n    }\n    getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n        const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n        return {\n            x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n            y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n            angle\n        };\n    }\n    getPointPositionForValue(index, value) {\n        return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n    getBasePosition(index) {\n        return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n    getPointLabelPosition(index) {\n        const { left , top , right , bottom  } = this._pointLabelItems[index];\n        return {\n            left,\n            top,\n            right,\n            bottom\n        };\n    }\n drawBackground() {\n        const { backgroundColor , grid: { circular  }  } = this.options;\n        if (backgroundColor) {\n            const ctx = this.ctx;\n            ctx.save();\n            ctx.beginPath();\n            pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n            ctx.closePath();\n            ctx.fillStyle = backgroundColor;\n            ctx.fill();\n            ctx.restore();\n        }\n    }\n drawGrid() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const { angleLines , grid , border  } = opts;\n        const labelCount = this._pointLabels.length;\n        let i, offset, position;\n        if (opts.pointLabels.display) {\n            drawPointLabels(this, labelCount);\n        }\n        if (grid.display) {\n            this.ticks.forEach((tick, index)=>{\n                if (index !== 0 || index === 0 && this.min < 0) {\n                    offset = this.getDistanceFromCenterForValue(tick.value);\n                    const context = this.getContext(index);\n                    const optsAtIndex = grid.setContext(context);\n                    const optsAtIndexBorder = border.setContext(context);\n                    drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n                }\n            });\n        }\n        if (angleLines.display) {\n            ctx.save();\n            for(i = labelCount - 1; i >= 0; i--){\n                const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n                const { color , lineWidth  } = optsAtIndex;\n                if (!lineWidth || !color) {\n                    continue;\n                }\n                ctx.lineWidth = lineWidth;\n                ctx.strokeStyle = color;\n                ctx.setLineDash(optsAtIndex.borderDash);\n                ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n                offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n                position = this.getPointPosition(i, offset);\n                ctx.beginPath();\n                ctx.moveTo(this.xCenter, this.yCenter);\n                ctx.lineTo(position.x, position.y);\n                ctx.stroke();\n            }\n            ctx.restore();\n        }\n    }\n drawBorder() {}\n drawLabels() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        if (!tickOpts.display) {\n            return;\n        }\n        const startAngle = this.getIndexAngle(0);\n        let offset, width;\n        ctx.save();\n        ctx.translate(this.xCenter, this.yCenter);\n        ctx.rotate(startAngle);\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        this.ticks.forEach((tick, index)=>{\n            if (index === 0 && this.min >= 0 && !opts.reverse) {\n                return;\n            }\n            const optsAtIndex = tickOpts.setContext(this.getContext(index));\n            const tickFont = toFont(optsAtIndex.font);\n            offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n            if (optsAtIndex.showLabelBackdrop) {\n                ctx.font = tickFont.string;\n                width = ctx.measureText(tick.label).width;\n                ctx.fillStyle = optsAtIndex.backdropColor;\n                const padding = toPadding(optsAtIndex.backdropPadding);\n                ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n            }\n            renderText(ctx, tick.label, 0, -offset, tickFont, {\n                color: optsAtIndex.color,\n                strokeColor: optsAtIndex.textStrokeColor,\n                strokeWidth: optsAtIndex.textStrokeWidth\n            });\n        });\n        ctx.restore();\n    }\n drawTitle() {}\n}\n\nconst INTERVALS = {\n    millisecond: {\n        common: true,\n        size: 1,\n        steps: 1000\n    },\n    second: {\n        common: true,\n        size: 1000,\n        steps: 60\n    },\n    minute: {\n        common: true,\n        size: 60000,\n        steps: 60\n    },\n    hour: {\n        common: true,\n        size: 3600000,\n        steps: 24\n    },\n    day: {\n        common: true,\n        size: 86400000,\n        steps: 30\n    },\n    week: {\n        common: false,\n        size: 604800000,\n        steps: 4\n    },\n    month: {\n        common: true,\n        size: 2.628e9,\n        steps: 12\n    },\n    quarter: {\n        common: false,\n        size: 7.884e9,\n        steps: 4\n    },\n    year: {\n        common: true,\n        size: 3.154e10\n    }\n};\n const UNITS =  /* #__PURE__ */ Object.keys(INTERVALS);\n function sorter(a, b) {\n    return a - b;\n}\n function parse(scale, input) {\n    if (isNullOrUndef(input)) {\n        return null;\n    }\n    const adapter = scale._adapter;\n    const { parser , round , isoWeekday  } = scale._parseOpts;\n    let value = input;\n    if (typeof parser === 'function') {\n        value = parser(value);\n    }\n    if (!isNumberFinite(value)) {\n        value = typeof parser === 'string' ? adapter.parse(value, parser) : adapter.parse(value);\n    }\n    if (value === null) {\n        return null;\n    }\n    if (round) {\n        value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n    }\n    return +value;\n}\n function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    const ilen = UNITS.length;\n    for(let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i){\n        const interval = INTERVALS[UNITS[i]];\n        const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n        if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n            return UNITS[i];\n        }\n    }\n    return UNITS[ilen - 1];\n}\n function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n    for(let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--){\n        const unit = UNITS[i];\n        if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n            return unit;\n        }\n    }\n    return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n function determineMajorUnit(unit) {\n    for(let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i){\n        if (INTERVALS[UNITS[i]].common) {\n            return UNITS[i];\n        }\n    }\n}\n function addTick(ticks, time, timestamps) {\n    if (!timestamps) {\n        ticks[time] = true;\n    } else if (timestamps.length) {\n        const { lo , hi  } = _lookup(timestamps, time);\n        const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n        ticks[timestamp] = true;\n    }\n}\n function setMajorTicks(scale, ticks, map, majorUnit) {\n    const adapter = scale._adapter;\n    const first = +adapter.startOf(ticks[0].value, majorUnit);\n    const last = ticks[ticks.length - 1].value;\n    let major, index;\n    for(major = first; major <= last; major = +adapter.add(major, 1, majorUnit)){\n        index = map[major];\n        if (index >= 0) {\n            ticks[index].major = true;\n        }\n    }\n    return ticks;\n}\n function ticksFromTimestamps(scale, values, majorUnit) {\n    const ticks = [];\n     const map = {};\n    const ilen = values.length;\n    let i, value;\n    for(i = 0; i < ilen; ++i){\n        value = values[i];\n        map[value] = i;\n        ticks.push({\n            value,\n            major: false\n        });\n    }\n    return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n    static id = 'time';\n static defaults = {\n bounds: 'data',\n        adapters: {},\n        time: {\n            parser: false,\n            unit: false,\n            round: false,\n            isoWeekday: false,\n            minUnit: 'millisecond',\n            displayFormats: {}\n        },\n        ticks: {\n source: 'auto',\n            callback: false,\n            major: {\n                enabled: false\n            }\n        }\n    };\n constructor(props){\n        super(props);\n         this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n         this._unit = 'day';\n         this._majorUnit = undefined;\n        this._offsets = {};\n        this._normalized = false;\n        this._parseOpts = undefined;\n    }\n    init(scaleOpts, opts = {}) {\n        const time = scaleOpts.time || (scaleOpts.time = {});\n         const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n        adapter.init(opts);\n        mergeIf(time.displayFormats, adapter.formats());\n        this._parseOpts = {\n            parser: time.parser,\n            round: time.round,\n            isoWeekday: time.isoWeekday\n        };\n        super.init(scaleOpts);\n        this._normalized = opts.normalized;\n    }\n parse(raw, index) {\n        if (raw === undefined) {\n            return null;\n        }\n        return parse(this, raw);\n    }\n    beforeLayout() {\n        super.beforeLayout();\n        this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n    }\n    determineDataLimits() {\n        const options = this.options;\n        const adapter = this._adapter;\n        const unit = options.time.unit || 'day';\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n function _applyBounds(bounds) {\n            if (!minDefined && !isNaN(bounds.min)) {\n                min = Math.min(min, bounds.min);\n            }\n            if (!maxDefined && !isNaN(bounds.max)) {\n                max = Math.max(max, bounds.max);\n            }\n        }\n        if (!minDefined || !maxDefined) {\n            _applyBounds(this._getLabelBounds());\n            if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n                _applyBounds(this.getMinMax(false));\n            }\n        }\n        min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n        max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n        this.min = Math.min(min, max - 1);\n        this.max = Math.max(min + 1, max);\n    }\n _getLabelBounds() {\n        const arr = this.getLabelTimestamps();\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n        if (arr.length) {\n            min = arr[0];\n            max = arr[arr.length - 1];\n        }\n        return {\n            min,\n            max\n        };\n    }\n buildTicks() {\n        const options = this.options;\n        const timeOpts = options.time;\n        const tickOpts = options.ticks;\n        const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n        if (options.bounds === 'ticks' && timestamps.length) {\n            this.min = this._userMin || timestamps[0];\n            this.max = this._userMax || timestamps[timestamps.length - 1];\n        }\n        const min = this.min;\n        const max = this.max;\n        const ticks = _filterBetween(timestamps, min, max);\n        this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n        this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n        this.initOffsets(timestamps);\n        if (options.reverse) {\n            ticks.reverse();\n        }\n        return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n    afterAutoSkip() {\n        if (this.options.offsetAfterAutoskip) {\n            this.initOffsets(this.ticks.map((tick)=>+tick.value));\n        }\n    }\n initOffsets(timestamps = []) {\n        let start = 0;\n        let end = 0;\n        let first, last;\n        if (this.options.offset && timestamps.length) {\n            first = this.getDecimalForValue(timestamps[0]);\n            if (timestamps.length === 1) {\n                start = 1 - first;\n            } else {\n                start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n            }\n            last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n            if (timestamps.length === 1) {\n                end = last;\n            } else {\n                end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n            }\n        }\n        const limit = timestamps.length < 3 ? 0.5 : 0.25;\n        start = _limitValue(start, 0, limit);\n        end = _limitValue(end, 0, limit);\n        this._offsets = {\n            start,\n            end,\n            factor: 1 / (start + 1 + end)\n        };\n    }\n _generate() {\n        const adapter = this._adapter;\n        const min = this.min;\n        const max = this.max;\n        const options = this.options;\n        const timeOpts = options.time;\n        const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n        const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n        const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n        const hasWeekday = isNumber(weekday) || weekday === true;\n        const ticks = {};\n        let first = min;\n        let time, count;\n        if (hasWeekday) {\n            first = +adapter.startOf(first, 'isoWeek', weekday);\n        }\n        first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n        if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n            throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n        }\n        const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n        for(time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++){\n            addTick(ticks, time, timestamps);\n        }\n        if (time === max || options.bounds === 'ticks' || count === 1) {\n            addTick(ticks, time, timestamps);\n        }\n        return Object.keys(ticks).sort(sorter).map((x)=>+x);\n    }\n getLabelForValue(value) {\n        const adapter = this._adapter;\n        const timeOpts = this.options.time;\n        if (timeOpts.tooltipFormat) {\n            return adapter.format(value, timeOpts.tooltipFormat);\n        }\n        return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n format(value, format) {\n        const options = this.options;\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const fmt = format || formats[unit];\n        return this._adapter.format(value, fmt);\n    }\n _tickFormatFunction(time, index, ticks, format) {\n        const options = this.options;\n        const formatter = options.ticks.callback;\n        if (formatter) {\n            return callback(formatter, [\n                time,\n                index,\n                ticks\n            ], this);\n        }\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const majorUnit = this._majorUnit;\n        const minorFormat = unit && formats[unit];\n        const majorFormat = majorUnit && formats[majorUnit];\n        const tick = ticks[index];\n        const major = majorUnit && majorFormat && tick && tick.major;\n        return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    }\n generateTickLabels(ticks) {\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            tick.label = this._tickFormatFunction(tick.value, i, ticks);\n        }\n    }\n getDecimalForValue(value) {\n        return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n getPixelForValue(value) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForValue(value);\n        return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return this.min + pos * (this.max - this.min);\n    }\n _getLabelSize(label) {\n        const ticksOpts = this.options.ticks;\n        const tickLabelWidth = this.ctx.measureText(label).width;\n        const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n        const cosRotation = Math.cos(angle);\n        const sinRotation = Math.sin(angle);\n        const tickFontSize = this._resolveTickFontOptions(0).size;\n        return {\n            w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n            h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n        };\n    }\n _getLabelCapacity(exampleTime) {\n        const timeOpts = this.options.time;\n        const displayFormats = timeOpts.displayFormats;\n        const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n        const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [\n            exampleTime\n        ], this._majorUnit), format);\n        const size = this._getLabelSize(exampleLabel);\n        const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n        return capacity > 0 ? capacity : 1;\n    }\n getDataTimestamps() {\n        let timestamps = this._cache.data || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const metas = this.getMatchingVisibleMetas();\n        if (this._normalized && metas.length) {\n            return this._cache.data = metas[0].controller.getAllParsedValues(this);\n        }\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n        }\n        return this._cache.data = this.normalize(timestamps);\n    }\n getLabelTimestamps() {\n        const timestamps = this._cache.labels || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const labels = this.getLabels();\n        for(i = 0, ilen = labels.length; i < ilen; ++i){\n            timestamps.push(parse(this, labels[i]));\n        }\n        return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n normalize(values) {\n        return _arrayUnique(values.sort(sorter));\n    }\n}\n\nfunction interpolate(table, val, reverse) {\n    let lo = 0;\n    let hi = table.length - 1;\n    let prevSource, nextSource, prevTarget, nextTarget;\n    if (reverse) {\n        if (val >= table[lo].pos && val <= table[hi].pos) {\n            ({ lo , hi  } = _lookupByKey(table, 'pos', val));\n        }\n        ({ pos: prevSource , time: prevTarget  } = table[lo]);\n        ({ pos: nextSource , time: nextTarget  } = table[hi]);\n    } else {\n        if (val >= table[lo].time && val <= table[hi].time) {\n            ({ lo , hi  } = _lookupByKey(table, 'time', val));\n        }\n        ({ time: prevSource , pos: prevTarget  } = table[lo]);\n        ({ time: nextSource , pos: nextTarget  } = table[hi]);\n    }\n    const span = nextSource - prevSource;\n    return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n    static id = 'timeseries';\n static defaults = TimeScale.defaults;\n constructor(props){\n        super(props);\n         this._table = [];\n         this._minPos = undefined;\n         this._tableRange = undefined;\n    }\n initOffsets() {\n        const timestamps = this._getTimestampsForTable();\n        const table = this._table = this.buildLookupTable(timestamps);\n        this._minPos = interpolate(table, this.min);\n        this._tableRange = interpolate(table, this.max) - this._minPos;\n        super.initOffsets(timestamps);\n    }\n buildLookupTable(timestamps) {\n        const { min , max  } = this;\n        const items = [];\n        const table = [];\n        let i, ilen, prev, curr, next;\n        for(i = 0, ilen = timestamps.length; i < ilen; ++i){\n            curr = timestamps[i];\n            if (curr >= min && curr <= max) {\n                items.push(curr);\n            }\n        }\n        if (items.length < 2) {\n            return [\n                {\n                    time: min,\n                    pos: 0\n                },\n                {\n                    time: max,\n                    pos: 1\n                }\n            ];\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            next = items[i + 1];\n            prev = items[i - 1];\n            curr = items[i];\n            if (Math.round((next + prev) / 2) !== curr) {\n                table.push({\n                    time: curr,\n                    pos: i / (ilen - 1)\n                });\n            }\n        }\n        return table;\n    }\n _generate() {\n        const min = this.min;\n        const max = this.max;\n        let timestamps = super.getDataTimestamps();\n        if (!timestamps.includes(min) || !timestamps.length) {\n            timestamps.splice(0, 0, min);\n        }\n        if (!timestamps.includes(max) || timestamps.length === 1) {\n            timestamps.push(max);\n        }\n        return timestamps.sort((a, b)=>a - b);\n    }\n _getTimestampsForTable() {\n        let timestamps = this._cache.all || [];\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const data = this.getDataTimestamps();\n        const label = this.getLabelTimestamps();\n        if (data.length && label.length) {\n            timestamps = this.normalize(data.concat(label));\n        } else {\n            timestamps = data.length ? data : label;\n        }\n        timestamps = this._cache.all = timestamps;\n        return timestamps;\n    }\n getDecimalForValue(value) {\n        return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n}\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n    controllers,\n    elements,\n    plugins,\n    scales\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, plugin_colors as Colors, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, defaults, elements, layouts, plugins, registerables, registry, scales };\n//# sourceMappingURL=chart.js.map\n","// Shared utility functions for Bookmark Insight\n\n/**\n * Format a timestamp to a localized date string\n * @param {number} timestamp - Unix timestamp in milliseconds\n * @returns {string} Formatted date string\n */\nexport function formatDate(timestamp) {\n  return new Date(timestamp).toLocaleDateString();\n}\n\n/**\n * Format a timestamp to a relative time string (e.g., \"2 days ago\")\n * @param {number} timestamp - Unix timestamp in milliseconds\n * @returns {string} Relative time string\n */\nexport function formatTimeAgo(timestamp) {\n  const now = Date.now();\n  const diff = now - timestamp;\n  const seconds = Math.floor(diff / 1000);\n  const minutes = Math.floor(seconds / 60);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n  const weeks = Math.floor(days / 7);\n  const months = Math.floor(days / 30);\n  const years = Math.floor(days / 365);\n\n  if (seconds < 60) return 'Just now';\n  if (minutes < 60) return `${minutes} minute${minutes !== 1 ? 's' : ''} ago`;\n  if (hours < 24) return `${hours} hour${hours !== 1 ? 's' : ''} ago`;\n  if (days === 0) return 'Today';\n  if (days === 1) return '1 day ago';\n  if (days < 7) return `${days} days ago`;\n  if (weeks < 4) return `${weeks} week${weeks !== 1 ? 's' : ''} ago`;\n  if (months < 12) return `${months} month${months !== 1 ? 's' : ''} ago`;\n  return `${years} year${years !== 1 ? 's' : ''} ago`;\n}\n\n/**\n * Generate a favicon URL for a bookmark\n * Uses letter-based SVG icons for reliability\n * @param {Object} bookmark - Bookmark object with url and domain properties\n * @returns {string} Data URL for the favicon SVG\n */\nexport function getFaviconUrl(bookmark) {\n  // For HTTP/HTTPS URLs, create a simple domain-based icon\n  if (bookmark.url.startsWith('http://') || bookmark.url.startsWith('https://')) {\n    const firstLetter = bookmark.domain.charAt(0).toUpperCase();\n    const colors = ['#3B82F6', '#EF4444', '#10B981', '#F59E0B', '#8B5CF6', '#EC4899'];\n    const colorIndex = bookmark.domain.length % colors.length;\n    const color = colors[colorIndex];\n\n    return `data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><rect width=\"16\" height=\"16\" fill=\"${color}\"/><text x=\"8\" y=\"12\" font-family=\"Arial\" font-size=\"10\" text-anchor=\"middle\" fill=\"white\" font-weight=\"bold\">${firstLetter}</text></svg>`;\n  }\n\n  // Return specific icons for different URL types\n  switch (bookmark.domain) {\n    case 'chrome-internal':\n      return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><rect width=\"16\" height=\"16\" fill=\"%23EA4335\"/><circle cx=\"8\" cy=\"8\" r=\"3\" fill=\"white\"/></svg>';\n    case 'local-file':\n      return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><rect width=\"16\" height=\"16\" fill=\"%23F59E0B\"/><text x=\"8\" y=\"12\" font-family=\"Arial\" font-size=\"10\" text-anchor=\"middle\" fill=\"white\"></text></svg>';\n    case 'javascript-bookmarklet':\n      return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><rect width=\"16\" height=\"16\" fill=\"%23F7DF1E\"/><text x=\"8\" y=\"12\" font-family=\"Arial\" font-size=\"8\" text-anchor=\"middle\" fill=\"black\" font-weight=\"bold\">JS</text></svg>';\n    case 'data-uri':\n      return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><rect width=\"16\" height=\"16\" fill=\"%2310B981\"/><text x=\"8\" y=\"12\" font-family=\"Arial\" font-size=\"8\" text-anchor=\"middle\" fill=\"white\" font-weight=\"bold\">D</text></svg>';\n    case 'contact-link':\n      return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><rect width=\"16\" height=\"16\" fill=\"%238B5CF6\"/><text x=\"8\" y=\"12\" font-family=\"Arial\" font-size=\"10\" text-anchor=\"middle\" fill=\"white\">@</text></svg>';\n    case 'other-protocol':\n      return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><rect width=\"16\" height=\"16\" fill=\"%236B7280\"/><text x=\"8\" y=\"12\" font-family=\"Arial\" font-size=\"10\" text-anchor=\"middle\" fill=\"white\"></text></svg>';\n    default:\n      return 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><rect width=\"16\" height=\"16\" fill=\"%23E5E7EB\"/><text x=\"8\" y=\"12\" font-family=\"Arial\" font-size=\"10\" text-anchor=\"middle\" fill=\"%236B7280\">?</text></svg>';\n  }\n}\n\n/**\n * Get a human-readable label for a bookmark's domain type\n * @param {Object} bookmark - Bookmark object with domain property\n * @returns {string} Human-readable domain label\n */\nexport function getDomainLabel(bookmark) {\n  switch (bookmark.domain) {\n    case 'chrome-internal':\n      return 'Chrome';\n    case 'local-file':\n      return 'Local File';\n    case 'javascript-bookmarklet':\n      return 'Bookmarklet';\n    case 'data-uri':\n      return 'Data URI';\n    case 'contact-link':\n      return 'Contact';\n    case 'other-protocol':\n      return 'Other';\n    case 'invalid-url':\n      return 'Invalid URL';\n    default:\n      return bookmark.domain;\n  }\n}\n\n/**\n * Truncate a string to a maximum length with ellipsis\n * @param {string} str - String to truncate\n * @param {number} maxLength - Maximum length\n * @returns {string} Truncated string\n */\nexport function truncateString(str, maxLength = 50) {\n  if (!str || str.length <= maxLength) return str;\n  return str.substring(0, maxLength - 3) + '...';\n}\n\n/**\n * Copy text to clipboard\n * @param {string} text - Text to copy\n * @returns {Promise<boolean>} Success status\n */\nexport async function copyToClipboard(text) {\n  try {\n    await navigator.clipboard.writeText(text);\n    return true;\n  } catch (err) {\n    console.error('Failed to copy to clipboard:', err);\n    return false;\n  }\n}\n\n/**\n * Debounce a function\n * @param {Function} func - Function to debounce\n * @param {number} wait - Wait time in milliseconds\n * @returns {Function} Debounced function\n */\nexport function debounce(func, wait = 300) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n/**\n * Sort options for bookmarks\n */\nexport const SORT_OPTIONS = {\n  DATE_DESC: { key: 'date_desc', label: 'Newest First', sort: (a, b) => b.dateAdded - a.dateAdded },\n  DATE_ASC: { key: 'date_asc', label: 'Oldest First', sort: (a, b) => a.dateAdded - b.dateAdded },\n  TITLE_ASC: { key: 'title_asc', label: 'Title A-Z', sort: (a, b) => a.title.localeCompare(b.title) },\n  TITLE_DESC: { key: 'title_desc', label: 'Title Z-A', sort: (a, b) => b.title.localeCompare(a.title) },\n  DOMAIN_ASC: { key: 'domain_asc', label: 'Domain A-Z', sort: (a, b) => a.domain.localeCompare(b.domain) },\n};\n\n/**\n * Get sort function by key\n * @param {string} key - Sort option key\n * @returns {Function} Sort function\n */\nexport function getSortFunction(key) {\n  const option = Object.values(SORT_OPTIONS).find(opt => opt.key === key);\n  return option ? option.sort : SORT_OPTIONS.DATE_DESC.sort;\n}\n","<script>\n  import { createEventDispatcher } from 'svelte';\n  import { formatDate, getFaviconUrl, getDomainLabel, copyToClipboard } from './utils.js';\n  \n  export let bookmark;\n  \n  const dispatch = createEventDispatcher();\n  \n  let showCopied = false;\n  \n  function openBookmark(url) {\n    chrome.tabs.create({ url });\n  }\n  \n  async function handleCopyUrl(event) {\n    event.stopPropagation();\n    const success = await copyToClipboard(bookmark.url);\n    if (success) {\n      showCopied = true;\n      setTimeout(() => showCopied = false, 2000);\n    }\n  }\n</script>\n\n<div class=\"bookmark-card bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow cursor-pointer border border-gray-200\"\n     role=\"button\"\n     tabindex=\"0\"\n     on:click={() => openBookmark(bookmark.url)}\n     on:keydown={(e) => e.key === 'Enter' && openBookmark(bookmark.url)}>\n  <div class=\"flex items-start space-x-3\">\n    <img \n      src=\"{getFaviconUrl(bookmark)}\"\n      alt=\"Favicon\"\n      class=\"w-4 h-4 mt-1 flex-shrink-0\"\n    />\n    <div class=\"flex-1 min-w-0\">\n      <h3 class=\"text-sm font-medium text-gray-900 truncate\" title={bookmark.title}>\n        {bookmark.title}\n      </h3>\n      <p class=\"text-xs text-gray-500 truncate mt-1\" title={bookmark.url}>\n        {bookmark.url}\n      </p>\n      <div class=\"flex items-center justify-between mt-2\">\n        <span class=\"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded\">\n          {getDomainLabel(bookmark)}\n        </span>\n        <div class=\"flex items-center space-x-2\">\n          <button\n            on:click={handleCopyUrl}\n            class=\"p-1 text-gray-400 hover:text-blue-600 transition-colors\"\n            title=\"Copy URL\"\n          >\n            {#if showCopied}\n              <svg class=\"w-4 h-4 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\n              </svg>\n            {:else}\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3\"></path>\n              </svg>\n            {/if}\n          </button>\n          <span class=\"text-xs text-gray-400\">\n            {formatDate(bookmark.dateAdded)}\n          </span>\n        </div>\n      </div>\n      {#if bookmark.folderPath}\n        <p class=\"text-xs text-gray-400 mt-1 truncate\" title={bookmark.folderPath}>\n           {bookmark.folderPath}\n        </p>\n      {/if}\n    </div>\n  </div>\n</div>\n\n<style>\n  .bookmark-card:hover {\n    transform: translateY(-1px);\n  }\n</style>\n","<script>\n  import { createEventDispatcher } from 'svelte';\n  import { formatDate, getFaviconUrl, getDomainLabel, copyToClipboard } from './utils.js';\n  \n  export let bookmark;\n  export let isSelected = false;\n  export let multiSelectMode = false;\n  \n  const dispatch = createEventDispatcher();\n  \n  let showCopied = false;\n  \n  function openBookmark(url) {\n    chrome.tabs.create({ url });\n  }\n  \n  function handleCheckboxChange(event) {\n    dispatch('toggle-select', {\n      bookmarkId: bookmark.id,\n      selected: event.target.checked\n    });\n  }\n  \n  function handleTitleClick() {\n    if (!multiSelectMode) {\n      openBookmark(bookmark.url);\n    }\n  }\n  \n  function handleDeleteClick(event) {\n    event.stopPropagation();\n    dispatch('delete', { bookmarkId: bookmark.id });\n  }\n  \n  async function handleCopyUrl(event) {\n    event.stopPropagation();\n    const success = await copyToClipboard(bookmark.url);\n    if (success) {\n      showCopied = true;\n      setTimeout(() => showCopied = false, 2000);\n    }\n  }\n</script>\n\n<div class=\"bookmark-list-item group bg-white border-b border-gray-200 hover:bg-gray-50 transition-colors\"\n     class:selected={isSelected}>\n  <div class=\"flex items-center px-4 py-3\">\n    <!-- Checkbox for multi-select -->\n    {#if multiSelectMode}\n      <input \n        type=\"checkbox\" \n        checked={isSelected}\n        on:change={handleCheckboxChange}\n        class=\"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n      />\n    {/if}\n    \n    <!-- Favicon -->\n    <img \n      src=\"{getFaviconUrl(bookmark)}\"\n      alt=\"Favicon\"\n      class=\"w-4 h-4 mr-3 flex-shrink-0\"\n    />\n    \n    <!-- Content -->\n    <div class=\"flex-1 min-w-0 cursor-pointer\" \n         role=\"button\" \n         tabindex=\"0\"\n         on:click={handleTitleClick}\n         on:keydown={(e) => e.key === 'Enter' && handleTitleClick()}>\n      <div class=\"flex items-center justify-between\">\n        <div class=\"flex-1 min-w-0\">\n          <h3 class=\"text-sm font-medium text-gray-900 truncate hover:text-blue-600\" title={bookmark.title}>\n            {bookmark.title}\n          </h3>\n          <div class=\"flex items-center mt-1 space-x-2 sm:space-x-4\">\n            <p class=\"text-xs text-gray-500 flex-1 min-w-0\" title={bookmark.url}>\n              <span class=\"truncate block\">{bookmark.url}</span>\n            </p>\n            <span class=\"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded whitespace-nowrap flex-shrink-0\">\n              {getDomainLabel(bookmark)}\n            </span>\n          </div>\n          {#if bookmark.folderPath}\n            <p class=\"text-xs text-gray-400 mt-1 truncate\" title={bookmark.folderPath}>\n               {bookmark.folderPath}\n            </p>\n          {/if}\n        </div>\n        \n        <!-- Date and Actions -->\n        <div class=\"flex items-center ml-2 sm:ml-4 space-x-2 flex-shrink-0\">\n          <span class=\"text-xs text-gray-400 whitespace-nowrap hidden sm:block\">\n            {formatDate(bookmark.dateAdded)}\n          </span>\n          <button\n            on:click={handleCopyUrl}\n            class=\"p-1 text-gray-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity\"\n            title=\"Copy URL\"\n          >\n            {#if showCopied}\n              <svg class=\"w-4 h-4 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\n              </svg>\n            {:else}\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3\"></path>\n              </svg>\n            {/if}\n          </button>\n          <button\n            on:click={handleDeleteClick}\n            class=\"p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity\"\n            title=\"Delete bookmark\"\n          >\n            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n  .bookmark-list-item {\n    transition: all 0.15s ease;\n  }\n  \n  .bookmark-list-item:hover .group-hover\\:opacity-100 {\n    opacity: 1;\n  }\n  \n  .bookmark-list-item.selected {\n    background-color: #dbeafe;\n    border-left: 4px solid #3b82f6;\n  }\n</style>\n","/**!\r\n * FlexSearch.js v0.8.212 (Bundle/Module)\r\n * Author and Copyright: Thomas Wilkerling\r\n * Licence: Apache-2.0\r\n * Hosted by Nextapps GmbH\r\n * https://github.com/nextapps-de/flexsearch\r\n */\nvar w;function H(a,c,b){const e=typeof b,d=typeof a;if(e!==\"undefined\"){if(d!==\"undefined\"){if(b){if(d===\"function\"&&e===d)return function(k){return a(b(k))};c=a.constructor;if(c===b.constructor){if(c===Array)return b.concat(a);if(c===Map){var f=new Map(b);for(var g of a)f.set(g[0],g[1]);return f}if(c===Set){g=new Set(b);for(f of a.values())g.add(f);return g}}}return a}return b}return d===\"undefined\"?c:a}function aa(a,c){return typeof a===\"undefined\"?c:a}function I(){return Object.create(null)}\nfunction M(a){return typeof a===\"string\"}function ba(a){return typeof a===\"object\"}function ca(a,c){if(M(c))a=a[c];else for(let b=0;a&&b<c.length;b++)a=a[c[b]];return a};const ea=/[^\\p{L}\\p{N}]+/u,fa=/(\\d{3})/g,ha=/(\\D)(\\d{3})/g,ia=/(\\d{3})(\\D)/g,ja=/[\\u0300-\\u036f]/g;function ka(a={}){if(!this||this.constructor!==ka)return new ka(...arguments);if(arguments.length)for(a=0;a<arguments.length;a++)this.assign(arguments[a]);else this.assign(a)}w=ka.prototype;\nw.assign=function(a){this.normalize=H(a.normalize,!0,this.normalize);let c=a.include,b=c||a.exclude||a.split,e;if(b||b===\"\"){if(typeof b===\"object\"&&b.constructor!==RegExp){let d=\"\";e=!c;c||(d+=\"\\\\p{Z}\");b.letter&&(d+=\"\\\\p{L}\");b.number&&(d+=\"\\\\p{N}\",e=!!c);b.symbol&&(d+=\"\\\\p{S}\");b.punctuation&&(d+=\"\\\\p{P}\");b.control&&(d+=\"\\\\p{C}\");if(b=b.char)d+=typeof b===\"object\"?b.join(\"\"):b;try{this.split=new RegExp(\"[\"+(c?\"^\":\"\")+d+\"]+\",\"u\")}catch(f){this.split=/\\s+/}}else this.split=b,e=b===!1||\"a1a\".split(b).length<\n2;this.numeric=H(a.numeric,e)}else{try{this.split=H(this.split,ea)}catch(d){this.split=/\\s+/}this.numeric=H(a.numeric,H(this.numeric,!0))}this.prepare=H(a.prepare,null,this.prepare);this.finalize=H(a.finalize,null,this.finalize);b=a.filter;this.filter=typeof b===\"function\"?b:H(b&&new Set(b),null,this.filter);this.dedupe=H(a.dedupe,!0,this.dedupe);this.matcher=H((b=a.matcher)&&new Map(b),null,this.matcher);this.mapper=H((b=a.mapper)&&new Map(b),null,this.mapper);this.stemmer=H((b=a.stemmer)&&new Map(b),\nnull,this.stemmer);this.replacer=H(a.replacer,null,this.replacer);this.minlength=H(a.minlength,1,this.minlength);this.maxlength=H(a.maxlength,1024,this.maxlength);this.rtl=H(a.rtl,!1,this.rtl);if(this.cache=b=H(a.cache,!0,this.cache))this.F=null,this.L=typeof b===\"number\"?b:2E5,this.B=new Map,this.D=new Map,this.I=this.H=128;this.h=\"\";this.J=null;this.A=\"\";this.K=null;if(this.matcher)for(const d of this.matcher.keys())this.h+=(this.h?\"|\":\"\")+d;if(this.stemmer)for(const d of this.stemmer.keys())this.A+=\n(this.A?\"|\":\"\")+d;return this};w.addStemmer=function(a,c){this.stemmer||(this.stemmer=new Map);this.stemmer.set(a,c);this.A+=(this.A?\"|\":\"\")+a;this.K=null;this.cache&&Q(this);return this};w.addFilter=function(a){typeof a===\"function\"?this.filter=a:(this.filter||(this.filter=new Set),this.filter.add(a));this.cache&&Q(this);return this};\nw.addMapper=function(a,c){if(typeof a===\"object\")return this.addReplacer(a,c);if(a.length>1)return this.addMatcher(a,c);this.mapper||(this.mapper=new Map);this.mapper.set(a,c);this.cache&&Q(this);return this};w.addMatcher=function(a,c){if(typeof a===\"object\")return this.addReplacer(a,c);if(a.length<2&&(this.dedupe||this.mapper))return this.addMapper(a,c);this.matcher||(this.matcher=new Map);this.matcher.set(a,c);this.h+=(this.h?\"|\":\"\")+a;this.J=null;this.cache&&Q(this);return this};\nw.addReplacer=function(a,c){if(typeof a===\"string\")return this.addMatcher(a,c);this.replacer||(this.replacer=[]);this.replacer.push(a,c);this.cache&&Q(this);return this};\nw.encode=function(a,c){if(this.cache&&a.length<=this.H)if(this.F){if(this.B.has(a))return this.B.get(a)}else this.F=setTimeout(Q,50,this);this.normalize&&(typeof this.normalize===\"function\"?a=this.normalize(a):a=ja?a.normalize(\"NFKD\").replace(ja,\"\").toLowerCase():a.toLowerCase());this.prepare&&(a=this.prepare(a));this.numeric&&a.length>3&&(a=a.replace(ha,\"$1 $2\").replace(ia,\"$1 $2\").replace(fa,\"$1 \"));const b=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer);let e=\n[],d=I(),f,g,k=this.split||this.split===\"\"?a.split(this.split):[a];for(let l=0,m,p;l<k.length;l++)if((m=p=k[l])&&!(m.length<this.minlength||m.length>this.maxlength)){if(c){if(d[m])continue;d[m]=1}else{if(f===m)continue;f=m}if(b)e.push(m);else if(!this.filter||(typeof this.filter===\"function\"?this.filter(m):!this.filter.has(m))){if(this.cache&&m.length<=this.I)if(this.F){var h=this.D.get(m);if(h||h===\"\"){h&&e.push(h);continue}}else this.F=setTimeout(Q,50,this);if(this.stemmer){this.K||(this.K=new RegExp(\"(?!^)(\"+\nthis.A+\")$\"));let u;for(;u!==m&&m.length>2;)u=m,m=m.replace(this.K,r=>this.stemmer.get(r))}if(m&&(this.mapper||this.dedupe&&m.length>1)){h=\"\";for(let u=0,r=\"\",t,n;u<m.length;u++)t=m.charAt(u),t===r&&this.dedupe||((n=this.mapper&&this.mapper.get(t))||n===\"\"?n===r&&this.dedupe||!(r=n)||(h+=n):h+=r=t);m=h}this.matcher&&m.length>1&&(this.J||(this.J=new RegExp(\"(\"+this.h+\")\",\"g\")),m=m.replace(this.J,u=>this.matcher.get(u)));if(m&&this.replacer)for(h=0;m&&h<this.replacer.length;h+=2)m=m.replace(this.replacer[h],\nthis.replacer[h+1]);this.cache&&p.length<=this.I&&(this.D.set(p,m),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0));if(m){if(m!==p)if(c){if(d[m])continue;d[m]=1}else{if(g===m)continue;g=m}e.push(m)}}}this.finalize&&(e=this.finalize(e)||e);this.cache&&a.length<=this.H&&(this.B.set(a,e),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0));return e};function Q(a){a.F=null;a.B.clear();a.D.clear()};function la(a,c,b){b||(c||typeof a!==\"object\"?typeof c===\"object\"&&(b=c,c=0):b=a);b&&(a=b.query||a,c=b.limit||c);let e=\"\"+(c||0);b&&(e+=(b.offset||0)+!!b.context+!!b.suggest+(b.resolve!==!1)+(b.resolution||this.resolution)+(b.boost||0));a=(\"\"+a).toLowerCase();this.cache||(this.cache=new ma);let d=this.cache.get(a+e);if(!d){const f=b&&b.cache;f&&(b.cache=!1);d=this.search(a,c,b);f&&(b.cache=f);this.cache.set(a+e,d)}return d}function ma(a){this.limit=a&&a!==!0?a:1E3;this.cache=new Map;this.h=\"\"}\nma.prototype.set=function(a,c){this.cache.set(this.h=a,c);this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)};ma.prototype.get=function(a){const c=this.cache.get(a);c&&this.h!==a&&(this.cache.delete(a),this.cache.set(this.h=a,c));return c};ma.prototype.remove=function(a){for(const c of this.cache){const b=c[0];c[1].includes(a)&&this.cache.delete(b)}};ma.prototype.clear=function(){this.cache.clear();this.h=\"\"};const na={normalize:!1,numeric:!1,dedupe:!1};const oa={};const ra=new Map([[\"b\",\"p\"],[\"v\",\"f\"],[\"w\",\"f\"],[\"z\",\"s\"],[\"x\",\"s\"],[\"d\",\"t\"],[\"n\",\"m\"],[\"c\",\"k\"],[\"g\",\"k\"],[\"j\",\"k\"],[\"q\",\"k\"],[\"i\",\"e\"],[\"y\",\"e\"],[\"u\",\"o\"]]);const sa=new Map([[\"ae\",\"a\"],[\"oe\",\"o\"],[\"sh\",\"s\"],[\"kh\",\"k\"],[\"th\",\"t\"],[\"ph\",\"f\"],[\"pf\",\"f\"]]),ta=[/([^aeo])h(.)/g,\"$1$2\",/([aeo])h([^aeo]|$)/g,\"$1$2\",/(.)\\1+/g,\"$1\"];const ua={a:\"\",e:\"\",i:\"\",o:\"\",u:\"\",y:\"\",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,\"\\u00df\":2,d:3,t:3,l:4,m:5,n:5,r:6};var va={Exact:na,Default:oa,Normalize:oa,LatinBalance:{mapper:ra},LatinAdvanced:{mapper:ra,matcher:sa,replacer:ta},LatinExtra:{mapper:ra,replacer:ta.concat([/(?!^)[aeo]/g,\"\"]),matcher:sa},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(a){for(let b=0;b<a.length;b++){var c=a[b];let e=c.charAt(0),d=ua[e];for(let f=1,g;f<c.length&&(g=c.charAt(f),g===\"h\"||g===\"w\"||!(g=ua[g])||g===d||(e+=g,d=g,e.length!==4));f++);a[b]=e}}},CJK:{split:\"\"},LatinExact:na,LatinDefault:oa,LatinSimple:oa};function wa(a,c,b,e){let d=[];for(let f=0,g;f<a.index.length;f++)if(g=a.index[f],c>=g.length)c-=g.length;else{c=g[e?\"splice\":\"slice\"](c,b);const k=c.length;if(k&&(d=d.length?d.concat(c):c,b-=k,e&&(a.length-=k),!b))break;c=0}return d}\nfunction xa(a){if(!this||this.constructor!==xa)return new xa(a);this.index=a?[a]:[];this.length=a?a.length:0;const c=this;return new Proxy([],{get(b,e){if(e===\"length\")return c.length;if(e===\"push\")return function(d){c.index[c.index.length-1].push(d);c.length++};if(e===\"pop\")return function(){if(c.length)return c.length--,c.index[c.index.length-1].pop()};if(e===\"indexOf\")return function(d){let f=0;for(let g=0,k,h;g<c.index.length;g++){k=c.index[g];h=k.indexOf(d);if(h>=0)return f+h;f+=k.length}return-1};\nif(e===\"includes\")return function(d){for(let f=0;f<c.index.length;f++)if(c.index[f].includes(d))return!0;return!1};if(e===\"slice\")return function(d,f){return wa(c,d||0,f||c.length,!1)};if(e===\"splice\")return function(d,f){return wa(c,d||0,f||c.length,!0)};if(e===\"constructor\")return Array;if(typeof e!==\"symbol\")return(b=c.index[e/2**31|0])&&b[e]},set(b,e,d){b=e/2**31|0;(c.index[b]||(c.index[b]=[]))[e]=d;c.length++;return!0}})}xa.prototype.clear=function(){this.index.length=0};xa.prototype.push=function(){};\nfunction R(a=8){if(!this||this.constructor!==R)return new R(a);this.index=I();this.h=[];this.size=0;a>32?(this.B=Aa,this.A=BigInt(a)):(this.B=Ba,this.A=a)}R.prototype.get=function(a){const c=this.index[this.B(a)];return c&&c.get(a)};R.prototype.set=function(a,c){var b=this.B(a);let e=this.index[b];e?(b=e.size,e.set(a,c),(b-=e.size)&&this.size++):(this.index[b]=e=new Map([[a,c]]),this.h.push(e),this.size++)};\nfunction S(a=8){if(!this||this.constructor!==S)return new S(a);this.index=I();this.h=[];this.size=0;a>32?(this.B=Aa,this.A=BigInt(a)):(this.B=Ba,this.A=a)}S.prototype.add=function(a){var c=this.B(a);let b=this.index[c];b?(c=b.size,b.add(a),(c-=b.size)&&this.size++):(this.index[c]=b=new Set([a]),this.h.push(b),this.size++)};w=R.prototype;w.has=S.prototype.has=function(a){const c=this.index[this.B(a)];return c&&c.has(a)};\nw.delete=S.prototype.delete=function(a){const c=this.index[this.B(a)];c&&c.delete(a)&&this.size--};w.clear=S.prototype.clear=function(){this.index=I();this.h=[];this.size=0};w.values=S.prototype.values=function*(){for(let a=0;a<this.h.length;a++)for(let c of this.h[a].values())yield c};w.keys=S.prototype.keys=function*(){for(let a=0;a<this.h.length;a++)for(let c of this.h[a].keys())yield c};w.entries=S.prototype.entries=function*(){for(let a=0;a<this.h.length;a++)for(let c of this.h[a].entries())yield c};\nfunction Ba(a){let c=2**this.A-1;if(typeof a==\"number\")return a&c;let b=0,e=this.A+1;for(let d=0;d<a.length;d++)b=(b*e^a.charCodeAt(d))&c;return this.A===32?b+2**31:b}function Aa(a){let c=BigInt(2)**this.A-BigInt(1);var b=typeof a;if(b===\"bigint\")return a&c;if(b===\"number\")return BigInt(a)&c;b=BigInt(0);let e=this.A+BigInt(1);for(let d=0;d<a.length;d++)b=(b*e^BigInt(a.charCodeAt(d)))&c;return b};let Ca,Da;\nasync function Ea(a){a=a.data;var c=a.task;const b=a.id;let e=a.args;switch(c){case \"init\":Da=a.options||{};(c=a.factory)?(Function(\"return \"+c)()(self),Ca=new self.FlexSearch.Index(Da),delete self.FlexSearch):Ca=new T(Da);postMessage({id:b});break;default:let d;c===\"export\"&&(e[1]?(e[0]=Da.export,e[2]=0,e[3]=1):e=null);c===\"import\"?e[0]&&(a=await Da.import.call(Ca,e[0]),Ca.import(e[0],a)):((d=e&&Ca[c].apply(Ca,e))&&d.then&&(d=await d),d&&d.await&&(d=await d.await),c===\"search\"&&d.result&&(d=d.result));\npostMessage(c===\"search\"?{id:b,msg:d}:{id:b})}};function Fa(a){Ga.call(a,\"add\");Ga.call(a,\"append\");Ga.call(a,\"search\");Ga.call(a,\"update\");Ga.call(a,\"remove\");Ga.call(a,\"searchCache\")}let Ha,Ia,Ja;function Ka(){Ha=Ja=0}\nfunction Ga(a){this[a+\"Async\"]=function(){const c=arguments;var b=c[c.length-1];let e;typeof b===\"function\"&&(e=b,delete c[c.length-1]);Ha?Ja||(Ja=Date.now()-Ia>=this.priority*this.priority*3):(Ha=setTimeout(Ka,0),Ia=Date.now());if(Ja){const f=this;return new Promise(g=>{setTimeout(function(){g(f[a+\"Async\"].apply(f,c))},0)})}const d=this[a].apply(this,c);b=d.then?d:new Promise(f=>f(d));e&&b.then(e);return b}};let V=0;\nfunction La(a={},c){function b(k){function h(l){l=l.data||l;const m=l.id,p=m&&f.h[m];p&&(p(l.msg),delete f.h[m])}this.worker=k;this.h=I();if(this.worker){d?this.worker.on(\"message\",h):this.worker.onmessage=h;if(a.config)return new Promise(function(l){V>1E9&&(V=0);f.h[++V]=function(){l(f)};f.worker.postMessage({id:V,task:\"init\",factory:e,options:a})});this.priority=a.priority||4;this.encoder=c||null;this.worker.postMessage({task:\"init\",factory:e,options:a});return this}}if(!this||this.constructor!==La)return new La(a);\nlet e=typeof self!==\"undefined\"?self._factory:typeof window!==\"undefined\"?window._factory:null;e&&(e=e.toString());const d=typeof window===\"undefined\",f=this,g=Ma(e,d,a.worker);return g.then?g.then(function(k){return b.call(f,k)}):b.call(this,g)}W(\"add\");W(\"append\");W(\"search\");W(\"update\");W(\"remove\");W(\"clear\");W(\"export\");W(\"import\");La.prototype.searchCache=la;Fa(La.prototype);\nfunction W(a){La.prototype[a]=function(){const c=this,b=[].slice.call(arguments);var e=b[b.length-1];let d;typeof e===\"function\"&&(d=e,b.pop());e=new Promise(function(f){a===\"export\"&&typeof b[0]===\"function\"&&(b[0]=null);V>1E9&&(V=0);c.h[++V]=f;c.worker.postMessage({task:a,id:V,args:b})});return d?(e.then(d),this):e}}\nfunction Ma(a,c,b){return c?typeof module!==\"undefined\"?new(require(\"worker_threads\")[\"Worker\"])(__dirname+\"/worker/node.js\"):import(\"worker_threads\").then(function(worker){return new worker[\"Worker\"](import.meta.dirname+\"/node/node.mjs\")}):a?new window.Worker(URL.createObjectURL(new Blob([\"onmessage=\"+Ea.toString()],{type:\"text/javascript\"}))):new window.Worker(typeof b===\"string\"?b:import.meta.url.replace(\"/worker.js\",\"/worker/worker.js\").replace(\"flexsearch.bundle.module.min.js\",\n\"module/worker/worker.js\").replace(\"flexsearch.bundle.module.min.mjs\",\"module/worker/worker.js\"),{type:\"module\"})};Na.prototype.add=function(a,c,b){ba(a)&&(c=a,a=ca(c,this.key));if(c&&(a||a===0)){if(!b&&this.reg.has(a))return this.update(a,c);for(let k=0,h;k<this.field.length;k++){h=this.B[k];var e=this.index.get(this.field[k]);if(typeof h===\"function\"){var d=h(c);d&&e.add(a,d,b,!0)}else if(d=h.G,!d||d(c))h.constructor===String?h=[\"\"+h]:M(h)&&(h=[h]),Qa(c,h,this.D,0,e,a,h[0],b)}if(this.tag)for(e=0;e<this.A.length;e++){var f=this.A[e];d=this.tag.get(this.F[e]);let k=I();if(typeof f===\"function\"){if(f=f(c),!f)continue}else{var g=\nf.G;if(g&&!g(c))continue;f.constructor===String&&(f=\"\"+f);f=ca(c,f)}if(d&&f){M(f)&&(f=[f]);for(let h=0,l,m;h<f.length;h++)if(l=f[h],!k[l]&&(k[l]=1,(g=d.get(l))?m=g:d.set(l,m=[]),!b||!m.includes(a))){if(m.length===2**31-1){g=new xa(m);if(this.fastupdate)for(let p of this.reg.values())p.includes(m)&&(p[p.indexOf(m)]=g);d.set(l,m=g)}m.push(a);this.fastupdate&&((g=this.reg.get(a))?g.push(m):this.reg.set(a,[m]))}}}if(this.store&&(!b||!this.store.has(a))){let k;if(this.h){k=I();for(let h=0,l;h<this.h.length;h++){l=\nthis.h[h];if((b=l.G)&&!b(c))continue;let m;if(typeof l===\"function\"){m=l(c);if(!m)continue;l=[l.O]}else if(M(l)||l.constructor===String){k[l]=c[l];continue}Ra(c,k,l,0,l[0],m)}}this.store.set(a,k||c)}this.worker&&(this.fastupdate||this.reg.add(a))}return this};function Ra(a,c,b,e,d,f){a=a[d];if(e===b.length-1)c[d]=f||a;else if(a)if(a.constructor===Array)for(c=c[d]=Array(a.length),d=0;d<a.length;d++)Ra(a,c,b,e,d);else c=c[d]||(c[d]=I()),d=b[++e],Ra(a,c,b,e,d)}\nfunction Qa(a,c,b,e,d,f,g,k){if(a=a[g])if(e===c.length-1){if(a.constructor===Array){if(b[e]){for(c=0;c<a.length;c++)d.add(f,a[c],!0,!0);return}a=a.join(\" \")}d.add(f,a,k,!0)}else if(a.constructor===Array)for(g=0;g<a.length;g++)Qa(a,c,b,e,d,f,g,k);else g=c[++e],Qa(a,c,b,e,d,f,g,k)};function Sa(a,c,b,e){if(!a.length)return a;if(a.length===1)return a=a[0],a=b||a.length>c?a.slice(b,b+c):a,e?Ta.call(this,a):a;let d=[];for(let f=0,g,k;f<a.length;f++)if((g=a[f])&&(k=g.length)){if(b){if(b>=k){b-=k;continue}g=g.slice(b,b+c);k=g.length;b=0}k>c&&(g=g.slice(0,c),k=c);if(!d.length&&k>=c)return e?Ta.call(this,g):g;d.push(g);c-=k;if(!c)break}d=d.length>1?[].concat.apply([],d):d[0];return e?Ta.call(this,d):d};function Ua(a,c,b,e){var d=e[0];if(d[0]&&d[0].query)return a[c].apply(a,d);if(!(c!==\"and\"&&c!==\"not\"||a.result.length||a.await||d.suggest))return e.length>1&&(d=e[e.length-1]),(e=d.resolve)?a.await||a.result:a;let f=[],g=0,k=0,h,l,m,p,u;for(c=0;c<e.length;c++)if(d=e[c]){var r=void 0;if(d.constructor===X)r=d.await||d.result;else if(d.then||d.constructor===Array)r=d;else{g=d.limit||0;k=d.offset||0;m=d.suggest;l=d.resolve;h=((p=d.highlight||a.highlight)||d.enrich)&&l;r=d.queue;let t=d.async||r,n=d.index,\nq=d.query;n?a.index||(a.index=n):n=a.index;if(q||d.tag){const x=d.field||d.pluck;x&&(!q||a.query&&!p||(a.query=q,a.field=x,a.highlight=p),n=n.index.get(x));if(r&&(u||a.await)){u=1;let v;const A=a.C.length,D=new Promise(function(F){v=F});(function(F,E){D.h=function(){E.index=null;E.resolve=!1;let B=t?F.searchAsync(E):F.search(E);if(B.then)return B.then(function(z){a.C[A]=z=z.result||z;v(z);return z});B=B.result||B;v(B);return B}})(n,Object.assign({},d));a.C.push(D);f[c]=D;continue}else d.resolve=!1,\nd.index=null,r=t?n.searchAsync(d):n.search(d),d.resolve=l,d.index=n}else if(d.and)r=Va(d,\"and\",n);else if(d.or)r=Va(d,\"or\",n);else if(d.not)r=Va(d,\"not\",n);else if(d.xor)r=Va(d,\"xor\",n);else continue}r.await?(u=1,r=r.await):r.then?(u=1,r=r.then(function(t){return t.result||t})):r=r.result||r;f[c]=r}u&&!a.await&&(a.await=new Promise(function(t){a.return=t}));if(u){const t=Promise.all(f).then(function(n){for(let q=0;q<a.C.length;q++)if(a.C[q]===t){a.C[q]=function(){return b.call(a,n,g,k,h,l,m,p)};break}Wa(a)});\na.C.push(t)}else if(a.await)a.C.push(function(){return b.call(a,f,g,k,h,l,m,p)});else return b.call(a,f,g,k,h,l,m,p);return l?a.await||a.result:a}function Va(a,c,b){a=a[c];const e=a[0]||a;e.index||(e.index=b);b=new X(e);a.length>1&&(b=b[c].apply(b,a.slice(1)));return b};X.prototype.or=function(){return Ua(this,\"or\",Xa,arguments)};function Xa(a,c,b,e,d,f,g){a.length&&(this.result.length&&a.push(this.result),a.length<2?this.result=a[0]:(this.result=Ya(a,c,b,!1,this.h),b=0));d&&(this.await=null);return d?this.resolve(c,b,e,g):this};X.prototype.and=function(){return Ua(this,\"and\",Za,arguments)};function Za(a,c,b,e,d,f,g){if(!f&&!this.result.length)return d?this.result:this;let k;if(a.length)if(this.result.length&&a.unshift(this.result),a.length<2)this.result=a[0];else{let h=0;for(let l=0,m,p;l<a.length;l++)if((m=a[l])&&(p=m.length))h<p&&(h=p);else if(!f){h=0;break}h?(this.result=$a(a,h,c,b,f,this.h,d),k=!0):this.result=[]}else f||(this.result=a);d&&(this.await=null);return d?this.resolve(c,b,e,g,k):this};X.prototype.xor=function(){return Ua(this,\"xor\",ab,arguments)};\nfunction ab(a,c,b,e,d,f,g){if(a.length)if(this.result.length&&a.unshift(this.result),a.length<2)this.result=a[0];else{a:{f=b;var k=this.h;const h=[],l=I();let m=0;for(let p=0,u;p<a.length;p++)if(u=a[p]){m<u.length&&(m=u.length);for(let r=0,t;r<u.length;r++)if(t=u[r])for(let n=0,q;n<t.length;n++)q=t[n],l[q]=l[q]?2:1}for(let p=0,u,r=0;p<m;p++)for(let t=0,n;t<a.length;t++)if(n=a[t])if(u=n[p])for(let q=0,x;q<u.length;q++)if(x=u[q],l[x]===1)if(f)f--;else if(d){if(h.push(x),h.length===c){a=h;break a}}else{const v=\np+(t?k:0);h[v]||(h[v]=[]);h[v].push(x);if(++r===c){a=h;break a}}a=h}this.result=a;k=!0}else f||(this.result=a);d&&(this.await=null);return d?this.resolve(c,b,e,g,k):this};X.prototype.not=function(){return Ua(this,\"not\",bb,arguments)};\nfunction bb(a,c,b,e,d,f,g){if(!f&&!this.result.length)return d?this.result:this;if(a.length&&this.result.length){a:{f=b;var k=[];a=new Set(a.flat().flat());for(let h=0,l,m=0;h<this.result.length;h++)if(l=this.result[h])for(let p=0,u;p<l.length;p++)if(u=l[p],!a.has(u))if(f)f--;else if(d){if(k.push(u),k.length===c){a=k;break a}}else if(k[h]||(k[h]=[]),k[h].push(u),++m===c){a=k;break a}a=k}this.result=a;k=!0}d&&(this.await=null);return d?this.resolve(c,b,e,g,k):this};function cb(a,c,b,e,d){let f,g,k;typeof d===\"string\"?(f=d,d=\"\"):f=d.template;g=f.indexOf(\"$1\");k=f.substring(g+2);g=f.substring(0,g);let h=d&&d.boundary,l=!d||d.clip!==!1,m=d&&d.merge&&k&&g&&new RegExp(k+\" \"+g,\"g\");d=d&&d.ellipsis;var p=0;if(typeof d===\"object\"){var u=d.template;p=u.length-2;d=d.pattern}typeof d!==\"string\"&&(d=d===!1?\"\":\"...\");p&&(d=u.replace(\"$1\",d));u=d.length-p;let r,t;typeof h===\"object\"&&(r=h.before,r===0&&(r=-1),t=h.after,t===0&&(t=-1),h=h.total||9E5);p=new Map;for(let Oa=0,\nda,db,pa;Oa<c.length;Oa++){let qa;if(e)qa=c,pa=e;else{var n=c[Oa];pa=n.field;if(!pa)continue;qa=n.result}db=b.get(pa);da=db.encoder;n=p.get(da);typeof n!==\"string\"&&(n=da.encode(a),p.set(da,n));for(let ya=0;ya<qa.length;ya++){var q=qa[ya].doc;if(!q)continue;q=ca(q,pa);if(!q)continue;var x=q.trim().split(/\\s+/);if(!x.length)continue;q=\"\";var v=[];let za=[];var A=-1,D=-1,F=0;for(var E=0;E<x.length;E++){var B=x[E],z=da.encode(B);z=z.length>1?z.join(\" \"):z[0];let y;if(z&&B){var C=B.length,J=(da.split?\nB.replace(da.split,\"\"):B).length-z.length,G=\"\",N=0;for(var O=0;O<n.length;O++){var P=n[O];if(P){var L=P.length;L+=J<0?0:J;N&&L<=N||(P=z.indexOf(P),P>-1&&(G=(P?B.substring(0,P):\"\")+g+B.substring(P,P+L)+k+(P+L<C?B.substring(P+L):\"\"),N=L,y=!0))}}G&&(h&&(A<0&&(A=q.length+(q?1:0)),D=q.length+(q?1:0)+G.length,F+=C,za.push(v.length),v.push({match:G})),q+=(q?\" \":\"\")+G)}if(!y)B=x[E],q+=(q?\" \":\"\")+B,h&&v.push({text:B});else if(h&&F>=h)break}F=za.length*(f.length-2);if(r||t||h&&q.length-F>h)if(F=h+F-u*2,E=D-\nA,r>0&&(E+=r),t>0&&(E+=t),E<=F)x=r?A-(r>0?r:0):A-((F-E)/2|0),v=t?D+(t>0?t:0):x+F,l||(x>0&&q.charAt(x)!==\" \"&&q.charAt(x-1)!==\" \"&&(x=q.indexOf(\" \",x),x<0&&(x=0)),v<q.length&&q.charAt(v-1)!==\" \"&&q.charAt(v)!==\" \"&&(v=q.lastIndexOf(\" \",v),v<D?v=D:++v)),q=(x?d:\"\")+q.substring(x,v)+(v<q.length?d:\"\");else{D=[];A={};F={};E={};B={};z={};G=J=C=0;for(O=N=1;;){var U=void 0;for(let y=0,K;y<za.length;y++){K=za[y];if(G)if(J!==G){if(E[y+1])continue;K+=G;if(A[K]){C-=u;F[y+1]=1;E[y+1]=1;continue}if(K>=v.length-\n1){if(K>=v.length){E[y+1]=1;K>=x.length&&(F[y+1]=1);continue}C-=u}q=v[K].text;if(L=t&&z[y])if(L>0){if(q.length>L)if(E[y+1]=1,l)q=q.substring(0,L);else continue;(L-=q.length)||(L=-1);z[y]=L}else{E[y+1]=1;continue}if(C+q.length+1<=h)q=\" \"+q,D[y]+=q;else if(l)U=h-C-1,U>0&&(q=\" \"+q.substring(0,U),D[y]+=q),E[y+1]=1;else{E[y+1]=1;continue}}else{if(E[y])continue;K-=J;if(A[K]){C-=u;E[y]=1;F[y]=1;continue}if(K<=0){if(K<0){E[y]=1;F[y]=1;continue}C-=u}q=v[K].text;if(L=r&&B[y])if(L>0){if(q.length>L)if(E[y]=1,\nl)q=q.substring(q.length-L);else continue;(L-=q.length)||(L=-1);B[y]=L}else{E[y]=1;continue}if(C+q.length+1<=h)q+=\" \",D[y]=q+D[y];else if(l)U=q.length+1-(h-C),U>=0&&U<q.length&&(q=q.substring(U)+\" \",D[y]=q+D[y]),E[y]=1;else{E[y]=1;continue}}else{q=v[K].match;r&&(B[y]=r);t&&(z[y]=t);y&&C++;let Pa;K?!y&&u&&(C+=u):(F[y]=1,E[y]=1);K>=x.length-1?Pa=1:K<v.length-1&&v[K+1].match?Pa=1:u&&(C+=u);C-=f.length-2;if(!y||C+q.length<=h)D[y]=q;else{U=N=O=F[y]=0;break}Pa&&(F[y+1]=1,E[y+1]=1)}C+=q.length;U=A[K]=1}if(U)J===\nG?G++:J++;else{J===G?N=0:O=0;if(!N&&!O)break;N?(J++,G=J):G++}}q=\"\";for(let y=0,K;y<D.length;y++)K=(F[y]?y?\" \":\"\":(y&&!d?\" \":\"\")+d)+D[y],q+=K;d&&!F[D.length]&&(q+=d)}m&&(q=q.replace(m,\" \"));qa[ya].highlight=q}if(e)break}return c};function X(a,c){if(!this||this.constructor!==X)return new X(a,c);let b=0,e,d,f,g,k,h;if(a&&a.index){const l=a;c=l.index;b=l.boost||0;if(d=l.query){f=l.field||l.pluck;g=l.highlight;const m=l.resolve;a=l.async||l.queue;l.resolve=!1;l.index=null;a=a?c.searchAsync(l):c.search(l);l.resolve=m;l.index=c;a=a.result||a}else a=[]}if(a&&a.then){const l=this;a=a.then(function(m){l.C[0]=l.result=m.result||m;Wa(l)});e=[a];a=[];k=new Promise(function(m){h=m})}this.index=c||null;this.result=a||[];this.h=b;this.C=\ne||[];this.await=k||null;this.return=h||null;this.highlight=g||null;this.query=d||\"\";this.field=f||\"\"}w=X.prototype;w.limit=function(a){if(this.await){const c=this;this.C.push(function(){return c.limit(a).result})}else if(this.result.length){const c=[];for(let b=0,e;b<this.result.length;b++)if(e=this.result[b])if(e.length<=a){if(c[b]=e,a-=e.length,!a)break}else{c[b]=e.slice(0,a);break}this.result=c}return this};\nw.offset=function(a){if(this.await){const c=this;this.C.push(function(){return c.offset(a).result})}else if(this.result.length){const c=[];for(let b=0,e;b<this.result.length;b++)if(e=this.result[b])e.length<=a?a-=e.length:(c[b]=e.slice(a),a=0);this.result=c}return this};w.boost=function(a){if(this.await){const c=this;this.C.push(function(){return c.boost(a).result})}else this.h+=a;return this};\nfunction Wa(a,c){let b=a.result;var e=a.await;a.await=null;for(let d=0,f;d<a.C.length;d++)if(f=a.C[d])if(typeof f===\"function\")b=f(),a.C[d]=b=b.result||b,d--;else if(f.h)b=f.h(),a.C[d]=b=b.result||b,d--;else if(f.then)return a.await=e;e=a.return;a.C=[];a.return=null;c||e(b);return b}\nw.resolve=function(a,c,b,e,d){let f=this.await?Wa(this,!0):this.result;if(f.then){const g=this;return f.then(function(){return g.resolve(a,c,b,e,d)})}f.length&&(typeof a===\"object\"?(e=a.highlight||this.highlight,b=!!e||a.enrich,c=a.offset,a=a.limit):(e=e||this.highlight,b=!!e||b),f=d?b?Ta.call(this.index,f):f:Sa.call(this.index,f,a||100,c,b));return this.finalize(f,e)};\nw.finalize=function(a,c){if(a.then){const e=this;return a.then(function(d){return e.finalize(d,c)})}c&&a.length&&this.query&&(a=cb(this.query,a,this.index.index,this.field,c));const b=this.return;this.highlight=this.index=this.result=this.C=this.await=this.return=null;this.query=this.field=\"\";b&&b(a);return a};function $a(a,c,b,e,d,f,g){const k=a.length;let h=[],l,m;l=I();for(let p=0,u,r,t,n;p<c;p++)for(let q=0;q<k;q++)if(t=a[q],p<t.length&&(u=t[p]))for(let x=0;x<u.length;x++){r=u[x];(m=l[r])?l[r]++:(m=0,l[r]=1);n=h[m]||(h[m]=[]);if(!g){let v=p+(q||!d?0:f||0);n=n[v]||(n[v]=[])}n.push(r);if(g&&b&&m===k-1&&n.length-e===b)return e?n.slice(e):n}if(a=h.length)if(d)h=h.length>1?Ya(h,b,e,g,f):(h=h[0])&&b&&h.length>b||e?h.slice(e,b+e):h;else{if(a<k)return[];h=h[a-1];if(b||e)if(g){if(h.length>b||e)h=h.slice(e,b+\ne)}else{d=[];for(let p=0,u;p<h.length;p++)if(u=h[p])if(e&&u.length>e)e-=u.length;else{if(b&&u.length>b||e)u=u.slice(e,b+e),b-=u.length,e&&(e-=u.length);d.push(u);if(!b)break}h=d}}return h}\nfunction Ya(a,c,b,e,d){const f=[],g=I();let k;var h=a.length;let l;if(e)for(d=h-1;d>=0;d--){if(l=(e=a[d])&&e.length)for(h=0;h<l;h++)if(k=e[h],!g[k])if(g[k]=1,b)b--;else if(f.push(k),f.length===c)return f}else for(let m=h-1,p,u=0;m>=0;m--){p=a[m];for(let r=0;r<p.length;r++)if(l=(e=p[r])&&e.length)for(let t=0;t<l;t++)if(k=e[t],!g[k])if(g[k]=1,b)b--;else{let n=(r+(m<h-1?d||0:0))/(m+1)|0;(f[n]||(f[n]=[])).push(k);if(++u===c)return f}}return f}\nfunction eb(a,c,b,e,d){const f=I(),g=[];for(let k=0,h;k<c.length;k++){h=c[k];for(let l=0;l<h.length;l++)f[h[l]]=1}if(d)for(let k=0,h;k<a.length;k++){if(h=a[k],f[h])if(e)e--;else if(g.push(h),f[h]=0,b&&--b===0)break}else for(let k=0,h,l;k<a.result.length;k++)for(h=a.result[k],c=0;c<h.length;c++)l=h[c],f[l]&&((g[k]||(g[k]=[])).push(l),f[l]=0);return g};I();Na.prototype.search=function(a,c,b,e){b||(!c&&ba(a)?(b=a,a=\"\"):ba(c)&&(b=c,c=0));let d=[];var f=[];let g;let k,h,l,m,p;let u=0,r=!0,t;if(b){b.constructor===Array&&(b={index:b});a=b.query||a;g=b.pluck;k=b.merge;l=b.boost;p=g||b.field||(p=b.index)&&(p.index?null:p);var n=this.tag&&b.tag;h=b.suggest;r=b.resolve!==!1;m=b.cache;t=r&&this.store&&b.highlight;var q=!!t||r&&this.store&&b.enrich;c=b.limit||c;var x=b.offset||0;c||(c=r?100:0);if(n&&(!this.db||!e)){n.constructor!==Array&&(n=[n]);var v=[];for(let B=\n0,z;B<n.length;B++)if(z=n[B],z.field&&z.tag){var A=z.tag;if(A.constructor===Array)for(var D=0;D<A.length;D++)v.push(z.field,A[D]);else v.push(z.field,A)}else{A=Object.keys(z);for(let C=0,J,G;C<A.length;C++)if(J=A[C],G=z[J],G.constructor===Array)for(D=0;D<G.length;D++)v.push(J,G[D]);else v.push(J,G)}n=v;if(!a){f=[];if(v.length)for(n=0;n<v.length;n+=2){if(this.db){e=this.index.get(v[n]);if(!e)continue;f.push(e=e.db.tag(v[n+1],c,x,q))}else e=fb.call(this,v[n],v[n+1],c,x,q);d.push(r?{field:v[n],tag:v[n+\n1],result:e}:[e])}if(f.length){const B=this;return Promise.all(f).then(function(z){for(let C=0;C<z.length;C++)r?d[C].result=z[C]:d[C]=z[C];return r?d:new X(d.length>1?$a(d,1,0,0,h,l):d[0],B)})}return r?d:new X(d.length>1?$a(d,1,0,0,h,l):d[0],this)}}r||g||!(p=p||this.field)||(M(p)?g=p:(p.constructor===Array&&p.length===1&&(p=p[0]),g=p.field||p.index));p&&p.constructor!==Array&&(p=[p])}p||(p=this.field);let F;v=(this.worker||this.db)&&!e&&[];for(let B=0,z,C,J;B<p.length;B++){C=p[B];if(this.db&&this.tag&&\n!this.B[B])continue;let G;M(C)||(G=C,C=G.field,a=G.query||a,c=aa(G.limit,c),x=aa(G.offset,x),h=aa(G.suggest,h),t=r&&this.store&&aa(G.highlight,t),q=!!t||r&&this.store&&aa(G.enrich,q),m=aa(G.cache,m));if(e)z=e[B];else{A=G||b||{};D=A.enrich;var E=this.index.get(C);n&&(this.db&&(A.tag=n,A.field=p,F=E.db.support_tag_search),!F&&D&&(A.enrich=!1),F||(A.limit=0,A.offset=0));z=m?E.searchCache(a,n&&!F?0:c,A):E.search(a,n&&!F?0:c,A);n&&!F&&(A.limit=c,A.offset=x);D&&(A.enrich=D);if(v){v[B]=z;continue}}J=(z=\nz.result||z)&&z.length;if(n&&J){A=[];D=0;if(this.db&&e){if(!F)for(E=p.length;E<e.length;E++){let N=e[E];if(N&&N.length)D++,A.push(N);else if(!h)return r?d:new X(d,this)}}else for(let N=0,O,P;N<n.length;N+=2){O=this.tag.get(n[N]);if(!O)if(h)continue;else return r?d:new X(d,this);if(P=(O=O&&O.get(n[N+1]))&&O.length)D++,A.push(O);else if(!h)return r?d:new X(d,this)}if(D){z=eb(z,A,c,x,r);J=z.length;if(!J&&!h)return r?z:new X(z,this);D--}}if(J)f[u]=C,d.push(z),u++;else if(p.length===1)return r?d:new X(d,\nthis)}if(v){if(this.db&&n&&n.length&&!F)for(q=0;q<n.length;q+=2){f=this.index.get(n[q]);if(!f)if(h)continue;else return r?d:new X(d,this);v.push(f.db.tag(n[q+1],c,x,!1))}const B=this;return Promise.all(v).then(function(z){b&&(b.resolve=r);z.length&&(z=B.search(a,c,b,z));return z})}if(!u)return r?d:new X(d,this);if(g&&(!q||!this.store))return d=d[0],r?d:new X(d,this);v=[];for(x=0;x<f.length;x++){n=d[x];q&&n.length&&typeof n[0].doc===\"undefined\"&&(this.db?v.push(n=this.index.get(this.field[0]).db.enrich(n)):\nn=Ta.call(this,n));if(g)return r?t?cb(a,n,this.index,g,t):n:new X(n,this);d[x]={field:f[x],result:n}}if(q&&this.db&&v.length){const B=this;return Promise.all(v).then(function(z){for(let C=0;C<z.length;C++)d[C].result=z[C];t&&(d=cb(a,d,B.index,g,t));return k?gb(d):d})}t&&(d=cb(a,d,this.index,g,t));return k?gb(d):d};\nfunction gb(a){const c=[],b=I(),e=I();for(let d=0,f,g,k,h,l,m,p;d<a.length;d++){f=a[d];g=f.field;k=f.result;for(let u=0;u<k.length;u++)if(l=k[u],typeof l!==\"object\"?l={id:h=l}:h=l.id,(m=b[h])?m.push(g):(l.field=b[h]=[g],c.push(l)),p=l.highlight)m=e[h],m||(e[h]=m={},l.highlight=m),m[g]=p}return c}function fb(a,c,b,e,d){a=this.tag.get(a);if(!a)return[];a=a.get(c);if(!a)return[];c=a.length-e;if(c>0){if(b&&c>b||e)a=a.slice(e,e+b);d&&(a=Ta.call(this,a))}return a}\nfunction Ta(a){if(!this||!this.store)return a;if(this.db)return this.index.get(this.field[0]).db.enrich(a);const c=Array(a.length);for(let b=0,e;b<a.length;b++)e=a[b],c[b]={id:e,doc:this.store.get(e)};return c};function Na(a){if(!this||this.constructor!==Na)return new Na(a);const c=a.document||a.doc||a;let b,e;this.B=[];this.field=[];this.D=[];this.key=(b=c.key||c.id)&&hb(b,this.D)||\"id\";(e=a.keystore||0)&&(this.keystore=e);this.fastupdate=!!a.fastupdate;this.reg=!this.fastupdate||a.worker||a.db?e?new S(e):new Set:e?new R(e):new Map;this.h=(b=c.store||null)&&b&&b!==!0&&[];this.store=b?e?new R(e):new Map:null;this.cache=(b=a.cache||null)&&new ma(b);a.cache=!1;this.worker=a.worker||!1;this.priority=a.priority||\n4;this.index=ib.call(this,a,c);this.tag=null;if(b=c.tag)if(typeof b===\"string\"&&(b=[b]),b.length){this.tag=new Map;this.A=[];this.F=[];for(let d=0,f,g;d<b.length;d++){f=b[d];g=f.field||f;if(!g)throw Error(\"The tag field from the document descriptor is undefined.\");f.custom?this.A[d]=f.custom:(this.A[d]=hb(g,this.D),f.filter&&(typeof this.A[d]===\"string\"&&(this.A[d]=new String(this.A[d])),this.A[d].G=f.filter));this.F[d]=g;this.tag.set(g,new Map)}}if(this.worker){this.fastupdate=!1;a=[];for(const d of this.index.values())d.then&&\na.push(d);if(a.length){const d=this;return Promise.all(a).then(function(f){let g=0;for(const k of d.index.entries()){const h=k[0];let l=k[1];l.then&&(l=f[g],d.index.set(h,l),g++)}return d})}}else a.db&&(this.fastupdate=!1,this.mount(a.db))}w=Na.prototype;\nw.mount=function(a){let c=this.field;if(this.tag)for(let f=0,g;f<this.F.length;f++){g=this.F[f];var b=void 0;this.index.set(g,b=new T({},this.reg));c===this.field&&(c=c.slice(0));c.push(g);b.tag=this.tag.get(g)}b=[];const e={db:a.db,type:a.type,fastupdate:a.fastupdate};for(let f=0,g,k;f<c.length;f++){e.field=k=c[f];g=this.index.get(k);const h=new a.constructor(a.id,e);h.id=a.id;b[f]=h.mount(g);g.document=!0;f?g.bypass=!0:g.store=this.store}const d=this;return this.db=Promise.all(b).then(function(){d.db=\n!0})};w.commit=async function(){const a=[];for(const c of this.index.values())a.push(c.commit());await Promise.all(a);this.reg.clear()};w.destroy=function(){const a=[];for(const c of this.index.values())a.push(c.destroy());return Promise.all(a)};\nfunction ib(a,c){const b=new Map;let e=c.index||c.field||c;M(e)&&(e=[e]);for(let f=0,g,k;f<e.length;f++){g=e[f];M(g)||(k=g,g=g.field);k=ba(k)?Object.assign({},a,k):a;if(this.worker){var d=void 0;d=(d=k.encoder)&&d.encode?d:new ka(typeof d===\"string\"?va[d]:d||{});d=new La(k,d);b.set(g,d)}this.worker||b.set(g,new T(k,this.reg));k.custom?this.B[f]=k.custom:(this.B[f]=hb(g,this.D),k.filter&&(typeof this.B[f]===\"string\"&&(this.B[f]=new String(this.B[f])),this.B[f].G=k.filter));this.field[f]=g}if(this.h){a=\nc.store;M(a)&&(a=[a]);for(let f=0,g,k;f<a.length;f++)g=a[f],k=g.field||g,g.custom?(this.h[f]=g.custom,g.custom.O=k):(this.h[f]=hb(k,this.D),g.filter&&(typeof this.h[f]===\"string\"&&(this.h[f]=new String(this.h[f])),this.h[f].G=g.filter))}return b}function hb(a,c){const b=a.split(\":\");let e=0;for(let d=0;d<b.length;d++)a=b[d],a[a.length-1]===\"]\"&&(a=a.substring(0,a.length-2))&&(c[e]=!0),a&&(b[e++]=a);e<b.length&&(b.length=e);return e>1?b:b[0]}w.append=function(a,c){return this.add(a,c,!0)};\nw.update=function(a,c){return this.remove(a).add(a,c)};w.remove=function(a){ba(a)&&(a=ca(a,this.key));for(var c of this.index.values())c.remove(a,!0);if(this.reg.has(a)){if(this.tag&&!this.fastupdate)for(let b of this.tag.values())for(let e of b){c=e[0];const d=e[1],f=d.indexOf(a);f>-1&&(d.length>1?d.splice(f,1):b.delete(c))}this.store&&this.store.delete(a);this.reg.delete(a)}this.cache&&this.cache.remove(a);return this};\nw.clear=function(){const a=[];for(const c of this.index.values()){const b=c.clear();b.then&&a.push(b)}if(this.tag)for(const c of this.tag.values())c.clear();this.store&&this.store.clear();this.cache&&this.cache.clear();return a.length?Promise.all(a):this};w.contain=function(a){return this.db?this.index.get(this.field[0]).db.has(a):this.reg.has(a)};w.cleanup=function(){for(const a of this.index.values())a.cleanup();return this};\nw.get=function(a){return this.db?this.index.get(this.field[0]).db.enrich(a).then(function(c){return c[0]&&c[0].doc||null}):this.store.get(a)||null};w.set=function(a,c){typeof a===\"object\"&&(c=a,a=ca(c,this.key));this.store.set(a,c);return this};w.searchCache=la;w.export=jb;w.import=kb;Fa(Na.prototype);function lb(a,c=0){let b=[],e=[];c&&(c=25E4/c*5E3|0);for(const d of a.entries())e.push(d),e.length===c&&(b.push(e),e=[]);e.length&&b.push(e);return b}function mb(a,c){c||(c=new Map);for(let b=0,e;b<a.length;b++)e=a[b],c.set(e[0],e[1]);return c}function nb(a,c=0){let b=[],e=[];c&&(c=25E4/c*1E3|0);for(const d of a.entries())e.push([d[0],lb(d[1])[0]||[]]),e.length===c&&(b.push(e),e=[]);e.length&&b.push(e);return b}\nfunction ob(a,c){c||(c=new Map);for(let b=0,e,d;b<a.length;b++)e=a[b],d=c.get(e[0]),c.set(e[0],mb(e[1],d));return c}function pb(a){let c=[],b=[];for(const e of a.keys())b.push(e),b.length===25E4&&(c.push(b),b=[]);b.length&&c.push(b);return c}function qb(a,c){c||(c=new Set);for(let b=0;b<a.length;b++)c.add(a[b]);return c}\nfunction rb(a,c,b,e,d,f,g=0){const k=e&&e.constructor===Array;var h=k?e.shift():e;if(!h)return this.export(a,c,d,f+1);if((h=a((c?c+\".\":\"\")+(g+1)+\".\"+b,JSON.stringify(h)))&&h.then){const l=this;return h.then(function(){return rb.call(l,a,c,b,k?e:null,d,f,g+1)})}return rb.call(this,a,c,b,k?e:null,d,f,g+1)}\nfunction jb(a,c,b=0,e=0){if(b<this.field.length){const g=this.field[b];if((c=this.index.get(g).export(a,g,b,e=1))&&c.then){const k=this;return c.then(function(){return k.export(a,g,b+1)})}return this.export(a,g,b+1)}let d,f;switch(e){case 0:d=\"reg\";f=pb(this.reg);c=null;break;case 1:d=\"tag\";f=this.tag&&nb(this.tag,this.reg.size);c=null;break;case 2:d=\"doc\";f=this.store&&lb(this.store);c=null;break;default:return}return rb.call(this,a,c,d,f||null,b,e)}\nfunction kb(a,c){var b=a.split(\".\");b[b.length-1]===\"json\"&&b.pop();const e=b.length>2?b[0]:\"\";b=b.length>2?b[2]:b[1];if(this.worker&&e)return this.index.get(e).import(a);if(c){typeof c===\"string\"&&(c=JSON.parse(c));if(e)return this.index.get(e).import(b,c);switch(b){case \"reg\":this.fastupdate=!1;this.reg=qb(c,this.reg);for(let d=0,f;d<this.field.length;d++)f=this.index.get(this.field[d]),f.fastupdate=!1,f.reg=this.reg;if(this.worker){c=[];for(const d of this.index.values())c.push(d.import(a));return Promise.all(c)}break;\ncase \"tag\":this.tag=ob(c,this.tag);break;case \"doc\":this.store=mb(c,this.store)}}}function sb(a,c){let b=\"\";for(const e of a.entries()){a=e[0];const d=e[1];let f=\"\";for(let g=0,k;g<d.length;g++){k=d[g]||[\"\"];let h=\"\";for(let l=0;l<k.length;l++)h+=(h?\",\":\"\")+(c===\"string\"?'\"'+k[l]+'\"':k[l]);h=\"[\"+h+\"]\";f+=(f?\",\":\"\")+h}f='[\"'+a+'\",['+f+\"]]\";b+=(b?\",\":\"\")+f}return b};T.prototype.remove=function(a,c){const b=this.reg.size&&(this.fastupdate?this.reg.get(a):this.reg.has(a));if(b){if(this.fastupdate)for(let e=0,d,f;e<b.length;e++){if((d=b[e])&&(f=d.length))if(d[f-1]===a)d.pop();else{const g=d.indexOf(a);g>=0&&d.splice(g,1)}}else tb(this.map,a),this.depth&&tb(this.ctx,a);c||this.reg.delete(a)}this.db&&(this.commit_task.push({del:a}),this.M&&ub(this));this.cache&&this.cache.remove(a);return this};\nfunction tb(a,c){let b=0;var e=typeof c===\"undefined\";if(a.constructor===Array)for(let d=0,f,g,k;d<a.length;d++){if((f=a[d])&&f.length){if(e)return 1;g=f.indexOf(c);if(g>=0){if(f.length>1)return f.splice(g,1),1;delete a[d];if(b)return 1;k=1}else{if(k)return 1;b++}}}else for(let d of a.entries())e=d[0],tb(d[1],c)?b++:a.delete(e);return b};const vb={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:\"forward\"},score:{resolution:9,context:{depth:2,resolution:3}}};T.prototype.add=function(a,c,b,e){if(c&&(a||a===0)){if(!e&&!b&&this.reg.has(a))return this.update(a,c);e=this.depth;c=this.encoder.encode(c,!e);const l=c.length;if(l){const m=I(),p=I(),u=this.resolution;for(let r=0;r<l;r++){let t=c[this.rtl?l-1-r:r];var d=t.length;if(d&&(e||!p[t])){var f=this.score?this.score(c,t,r,null,0):wb(u,l,r),g=\"\";switch(this.tokenize){case \"tolerant\":Y(this,p,t,f,a,b);if(d>2){for(let n=1,q,x,v,A;n<d-1;n++)q=t.charAt(n),x=t.charAt(n+1),v=t.substring(0,n)+x,A=t.substring(n+\n2),g=v+q+A,Y(this,p,g,f,a,b),g=v+A,Y(this,p,g,f,a,b);Y(this,p,t.substring(0,t.length-1),f,a,b)}break;case \"full\":if(d>2){for(let n=0,q;n<d;n++)for(f=d;f>n;f--){g=t.substring(n,f);q=this.rtl?d-1-n:n;var k=this.score?this.score(c,t,r,g,q):wb(u,l,r,d,q);Y(this,p,g,k,a,b)}break}case \"bidirectional\":case \"reverse\":if(d>1){for(k=d-1;k>0;k--){g=t[this.rtl?d-1-k:k]+g;var h=this.score?this.score(c,t,r,g,k):wb(u,l,r,d,k);Y(this,p,g,h,a,b)}g=\"\"}case \"forward\":if(d>1){for(k=0;k<d;k++)g+=t[this.rtl?d-1-k:k],Y(this,\np,g,f,a,b);break}default:if(Y(this,p,t,f,a,b),e&&l>1&&r<l-1)for(d=this.N,g=t,f=Math.min(e+1,this.rtl?r+1:l-r),k=1;k<f;k++){t=c[this.rtl?l-1-r-k:r+k];h=this.bidirectional&&t>g;const n=this.score?this.score(c,g,r,t,k-1):wb(d+(l/2>d?0:1),l,r,f-1,k-1);Y(this,m,h?g:t,n,a,b,h?t:g)}}}}this.fastupdate||this.reg.add(a)}}this.db&&(this.commit_task.push(b?{ins:a}:{del:a}),this.M&&ub(this));return this};\nfunction Y(a,c,b,e,d,f,g){let k,h;if(!(k=c[b])||g&&!k[g]){g?(c=k||(c[b]=I()),c[g]=1,h=a.ctx,(k=h.get(g))?h=k:h.set(g,h=a.keystore?new R(a.keystore):new Map)):(h=a.map,c[b]=1);(k=h.get(b))?h=k:h.set(b,h=k=[]);if(f)for(let l=0,m;l<k.length;l++)if((m=k[l])&&m.includes(d)){if(l<=e)return;m.splice(m.indexOf(d),1);a.fastupdate&&(c=a.reg.get(d))&&c.splice(c.indexOf(m),1);break}h=h[e]||(h[e]=[]);h.push(d);if(h.length===2**31-1){c=new xa(h);if(a.fastupdate)for(let l of a.reg.values())l.includes(h)&&(l[l.indexOf(h)]=\nc);k[e]=h=c}a.fastupdate&&((e=a.reg.get(d))?e.push(h):a.reg.set(d,[h]))}}function wb(a,c,b,e,d){return b&&a>1?c+(e||0)<=a?b+(d||0):(a-1)/(c+(e||0))*(b+(d||0))+1|0:0};T.prototype.search=function(a,c,b){b||(c||typeof a!==\"object\"?typeof c===\"object\"&&(b=c,c=0):(b=a,a=\"\"));if(b&&b.cache)return b.cache=!1,a=this.searchCache(a,c,b),b.cache=!0,a;let e=[],d,f,g,k=0,h,l,m,p,u;b&&(a=b.query||a,c=b.limit||c,k=b.offset||0,f=b.context,g=b.suggest,u=(h=b.resolve)&&b.enrich,m=b.boost,p=b.resolution,l=this.db&&b.tag);typeof h===\"undefined\"&&(h=this.resolve);f=this.depth&&f!==!1;let r=this.encoder.encode(a,!f);d=r.length;c=c||(h?100:0);if(d===1)return xb.call(this,r[0],\"\",c,\nk,h,u,l);if(d===2&&f&&!g)return xb.call(this,r[1],r[0],c,k,h,u,l);let t=I(),n=0,q;f&&(q=r[0],n=1);p||p===0||(p=q?this.N:this.resolution);if(this.db){if(this.db.search&&(b=this.db.search(this,r,c,k,g,h,u,l),b!==!1))return b;const x=this;return async function(){for(let v,A;n<d;n++){if((A=r[n])&&!t[A]){t[A]=1;v=await yb(x,A,q,0,0,!1,!1);if(v=zb(v,e,g,p)){e=v;break}q&&(g&&v&&e.length||(q=A))}g&&q&&n===d-1&&!e.length&&(p=x.resolution,q=\"\",n=-1,t=I())}return Ab(e,p,c,k,g,m,h)}()}for(let x,v;n<d;n++){if((v=\nr[n])&&!t[v]){t[v]=1;x=yb(this,v,q,0,0,!1,!1);if(x=zb(x,e,g,p)){e=x;break}q&&(g&&x&&e.length||(q=v))}g&&q&&n===d-1&&!e.length&&(p=this.resolution,q=\"\",n=-1,t=I())}return Ab(e,p,c,k,g,m,h)};function Ab(a,c,b,e,d,f,g){let k=a.length,h=a;if(k>1)h=$a(a,c,b,e,d,f,g);else if(k===1)return g?Sa.call(null,a[0],b,e):new X(a[0],this);return g?h:new X(h,this)}\nfunction xb(a,c,b,e,d,f,g){a=yb(this,a,c,b,e,d,f,g);return this.db?a.then(function(k){return d?k||[]:new X(k,this)}):a&&a.length?d?Sa.call(this,a,b,e):new X(a,this):d?[]:new X([],this)}function zb(a,c,b,e){let d=[];if(a&&a.length){if(a.length<=e){c.push(a);return}for(let f=0,g;f<e;f++)if(g=a[f])d[f]=g;if(d.length){c.push(d);return}}if(!b)return d}\nfunction yb(a,c,b,e,d,f,g,k){let h;b&&(h=a.bidirectional&&c>b)&&(h=b,b=c,c=h);if(a.db)return a.db.get(c,b,e,d,f,g,k);a=b?(a=a.ctx.get(b))&&a.get(c):a.map.get(c);return a};function T(a,c){if(!this||this.constructor!==T)return new T(a);if(a){var b=M(a)?a:a.preset;b&&(a=Object.assign({},vb[b],a))}else a={};b=a.context;const e=b===!0?{depth:1}:b||{},d=M(a.encoder)?va[a.encoder]:a.encode||a.encoder||{};this.encoder=d.encode?d:typeof d===\"object\"?new ka(d):{encode:d};this.resolution=a.resolution||9;this.tokenize=b=(b=a.tokenize)&&b!==\"default\"&&b!==\"exact\"&&b||\"strict\";this.depth=b===\"strict\"&&e.depth||0;this.bidirectional=e.bidirectional!==!1;this.fastupdate=!!a.fastupdate;\nthis.score=a.score||null;(b=a.keystore||0)&&(this.keystore=b);this.map=b?new R(b):new Map;this.ctx=b?new R(b):new Map;this.reg=c||(this.fastupdate?b?new R(b):new Map:b?new S(b):new Set);this.N=e.resolution||3;this.rtl=d.rtl||a.rtl||!1;this.cache=(b=a.cache||null)&&new ma(b);this.resolve=a.resolve!==!1;if(b=a.db)this.db=this.mount(b);this.M=a.commit!==!1;this.commit_task=[];this.commit_timer=null;this.priority=a.priority||4}w=T.prototype;\nw.mount=function(a){this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null);return a.mount(this)};w.commit=function(){this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null);return this.db.commit(this)};w.destroy=function(){this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null);return this.db.destroy()};function ub(a){a.commit_timer||(a.commit_timer=setTimeout(function(){a.commit_timer=null;a.db.commit(a)},1))}\nw.clear=function(){this.map.clear();this.ctx.clear();this.reg.clear();this.cache&&this.cache.clear();return this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this};w.append=function(a,c){return this.add(a,c,!0)};w.contain=function(a){return this.db?this.db.has(a):this.reg.has(a)};w.update=function(a,c){const b=this,e=this.remove(a);return e&&e.then?e.then(()=>b.add(a,c)):this.add(a,c)};\nw.cleanup=function(){if(!this.fastupdate)return this;tb(this.map);this.depth&&tb(this.ctx);return this};w.searchCache=la;w.export=function(a,c,b=0,e=0){let d,f;switch(e){case 0:d=\"reg\";f=pb(this.reg);break;case 1:d=\"cfg\";f=null;break;case 2:d=\"map\";f=lb(this.map,this.reg.size);break;case 3:d=\"ctx\";f=nb(this.ctx,this.reg.size);break;default:return}return rb.call(this,a,c,d,f,b,e)};\nw.import=function(a,c){if(c)switch(typeof c===\"string\"&&(c=JSON.parse(c)),a=a.split(\".\"),a[a.length-1]===\"json\"&&a.pop(),a.length===3&&a.shift(),a=a.length>1?a[1]:a[0],a){case \"reg\":this.fastupdate=!1;this.reg=qb(c,this.reg);break;case \"map\":this.map=mb(c,this.map);break;case \"ctx\":this.ctx=ob(c,this.ctx)}};\nw.serialize=function(a=!0){let c=\"\",b=\"\",e=\"\";if(this.reg.size){let f;for(var d of this.reg.keys())f||(f=typeof d),c+=(c?\",\":\"\")+(f===\"string\"?'\"'+d+'\"':d);c=\"index.reg=new Set([\"+c+\"]);\";b=sb(this.map,f);b=\"index.map=new Map([\"+b+\"]);\";for(const g of this.ctx.entries()){d=g[0];let k=sb(g[1],f);k=\"new Map([\"+k+\"])\";k='[\"'+d+'\",'+k+\"]\";e+=(e?\",\":\"\")+k}e=\"index.ctx=new Map([\"+e+\"]);\"}return a?\"function inject(index){\"+c+b+e+\"}\":c+b+e};Fa(T.prototype);const Bb=typeof window!==\"undefined\"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Cb=[\"map\",\"ctx\",\"tag\",\"reg\",\"cfg\"],Db=I();\nfunction Eb(a,c={}){if(!this||this.constructor!==Eb)return new Eb(a,c);typeof a===\"object\"&&(c=a,a=a.name);a||console.info(\"Default storage space was used, because a name was not passed.\");this.id=\"flexsearch\"+(a?\":\"+a.toLowerCase().replace(/[^a-z0-9_\\-]/g,\"\"):\"\");this.field=c.field?c.field.toLowerCase().replace(/[^a-z0-9_\\-]/g,\"\"):\"\";this.type=c.type;this.fastupdate=this.support_tag_search=!1;this.db=null;this.h={}}w=Eb.prototype;w.mount=function(a){if(a.index)return a.mount(this);a.db=this;return this.open()};\nw.open=function(){if(this.db)return this.db;let a=this;navigator.storage&&navigator.storage.persist&&navigator.storage.persist();Db[a.id]||(Db[a.id]=[]);Db[a.id].push(a.field);const c=Bb.open(a.id,1);c.onupgradeneeded=function(){const b=a.db=this.result;for(let e=0,d;e<Cb.length;e++){d=Cb[e];for(let f=0,g;f<Db[a.id].length;f++)g=Db[a.id][f],b.objectStoreNames.contains(d+(d!==\"reg\"?g?\":\"+g:\"\":\"\"))||b.createObjectStore(d+(d!==\"reg\"?g?\":\"+g:\"\":\"\"))}};return a.db=Z(c,function(b){a.db=b;a.db.onversionchange=\nfunction(){a.close()}})};w.close=function(){this.db&&this.db.close();this.db=null};w.destroy=function(){const a=Bb.deleteDatabase(this.id);return Z(a)};w.clear=function(){const a=[];for(let b=0,e;b<Cb.length;b++){e=Cb[b];for(let d=0,f;d<Db[this.id].length;d++)f=Db[this.id][d],a.push(e+(e!==\"reg\"?f?\":\"+f:\"\":\"\"))}const c=this.db.transaction(a,\"readwrite\");for(let b=0;b<a.length;b++)c.objectStore(a[b]).clear();return Z(c)};\nw.get=function(a,c,b=0,e=0,d=!0,f=!1){a=this.db.transaction((c?\"ctx\":\"map\")+(this.field?\":\"+this.field:\"\"),\"readonly\").objectStore((c?\"ctx\":\"map\")+(this.field?\":\"+this.field:\"\")).get(c?c+\":\"+a:a);const g=this;return Z(a).then(function(k){let h=[];if(!k||!k.length)return h;if(d){if(!b&&!e&&k.length===1)return k[0];for(let l=0,m;l<k.length;l++)if((m=k[l])&&m.length){if(e>=m.length){e-=m.length;continue}const p=b?e+Math.min(m.length-e,b):m.length;for(let u=e;u<p;u++)h.push(m[u]);e=0;if(h.length===b)break}return f?\ng.enrich(h):h}return k})};w.tag=function(a,c=0,b=0,e=!1){a=this.db.transaction(\"tag\"+(this.field?\":\"+this.field:\"\"),\"readonly\").objectStore(\"tag\"+(this.field?\":\"+this.field:\"\")).get(a);const d=this;return Z(a).then(function(f){if(!f||!f.length||b>=f.length)return[];if(!c&&!b)return f;f=f.slice(b,b+c);return e?d.enrich(f):f})};\nw.enrich=function(a){typeof a!==\"object\"&&(a=[a]);const c=this.db.transaction(\"reg\",\"readonly\").objectStore(\"reg\"),b=[];for(let e=0;e<a.length;e++)b[e]=Z(c.get(a[e]));return Promise.all(b).then(function(e){for(let d=0;d<e.length;d++)e[d]={id:a[d],doc:e[d]?JSON.parse(e[d]):null};return e})};w.has=function(a){a=this.db.transaction(\"reg\",\"readonly\").objectStore(\"reg\").getKey(a);return Z(a).then(function(c){return!!c})};w.search=null;w.info=function(){};\nw.transaction=function(a,c,b){a+=a!==\"reg\"?this.field?\":\"+this.field:\"\":\"\";let e=this.h[a+\":\"+c];if(e)return b.call(this,e);let d=this.db.transaction(a,c);this.h[a+\":\"+c]=e=d.objectStore(a);const f=b.call(this,e);this.h[a+\":\"+c]=null;return Z(d).finally(function(){return f})};\nw.commit=async function(a){let c=a.commit_task,b=[];a.commit_task=[];for(let e=0,d;e<c.length;e++)d=c[e],d.del&&b.push(d.del);b.length&&await this.remove(b);a.reg.size&&(await this.transaction(\"map\",\"readwrite\",function(e){for(const d of a.map){const f=d[0],g=d[1];g.length&&(e.get(f).onsuccess=function(){let k=this.result;var h;if(k&&k.length){const l=Math.max(k.length,g.length);for(let m=0,p,u;m<l;m++)if((u=g[m])&&u.length){if((p=k[m])&&p.length)for(h=0;h<u.length;h++)p.push(u[h]);else k[m]=u;h=\n1}}else k=g,h=1;h&&e.put(k,f)})}}),await this.transaction(\"ctx\",\"readwrite\",function(e){for(const d of a.ctx){const f=d[0],g=d[1];for(const k of g){const h=k[0],l=k[1];l.length&&(e.get(f+\":\"+h).onsuccess=function(){let m=this.result;var p;if(m&&m.length){const u=Math.max(m.length,l.length);for(let r=0,t,n;r<u;r++)if((n=l[r])&&n.length){if((t=m[r])&&t.length)for(p=0;p<n.length;p++)t.push(n[p]);else m[r]=n;p=1}}else m=l,p=1;p&&e.put(m,f+\":\"+h)})}}}),a.store?await this.transaction(\"reg\",\"readwrite\",\nfunction(e){for(const d of a.store){const f=d[0],g=d[1];e.put(typeof g===\"object\"?JSON.stringify(g):1,f)}}):a.bypass||await this.transaction(\"reg\",\"readwrite\",function(e){for(const d of a.reg.keys())e.put(1,d)}),a.tag&&await this.transaction(\"tag\",\"readwrite\",function(e){for(const d of a.tag){const f=d[0],g=d[1];g.length&&(e.get(f).onsuccess=function(){let k=this.result;k=k&&k.length?k.concat(g):g;e.put(k,f)})}}),a.map.clear(),a.ctx.clear(),a.tag&&a.tag.clear(),a.store&&a.store.clear(),a.document||\na.reg.clear())};function Fb(a,c,b){const e=a.value;let d,f=0;for(let g=0,k;g<e.length;g++){if(k=b?e:e[g]){for(let h=0,l,m;h<c.length;h++)if(m=c[h],l=k.indexOf(m),l>=0)if(d=1,k.length>1)k.splice(l,1);else{e[g]=[];break}f+=k.length}if(b)break}f?d&&a.update(e):a.delete();a.continue()}\nw.remove=function(a){typeof a!==\"object\"&&(a=[a]);return Promise.all([this.transaction(\"map\",\"readwrite\",function(c){c.openCursor().onsuccess=function(){const b=this.result;b&&Fb(b,a)}}),this.transaction(\"ctx\",\"readwrite\",function(c){c.openCursor().onsuccess=function(){const b=this.result;b&&Fb(b,a)}}),this.transaction(\"tag\",\"readwrite\",function(c){c.openCursor().onsuccess=function(){const b=this.result;b&&Fb(b,a,!0)}}),this.transaction(\"reg\",\"readwrite\",function(c){for(let b=0;b<a.length;b++)c.delete(a[b])})])};\nfunction Z(a,c){return new Promise((b,e)=>{a.onsuccess=a.oncomplete=function(){c&&c(this.result);c=null;b(this.result)};a.onerror=a.onblocked=e;a=null})};export default {Index:T,Charset:va,Encoder:ka,Document:Na,Worker:La,Resolver:X,IndexedDB:Eb,Language:{}};\nexport const Index=T;export const Charset=va;export const Encoder=ka;export const Document=Na;export const Worker=La;export const Resolver=X;export const IndexedDB=Eb;export const Language={};","/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 4.2.1, Sat Oct 04 2025\n *\n * https://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n \n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Dexie = factory());\n})(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n            if (ar || !(i in from)) {\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                ar[i] = from[i];\n            }\n        }\n        return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var _global = typeof globalThis !== 'undefined' ? globalThis :\n        typeof self !== 'undefined' ? self :\n            typeof window !== 'undefined' ? window :\n                global;\n\n    var keys = Object.keys;\n    var isArray = Array.isArray;\n    if (typeof Promise !== 'undefined' && !_global.Promise) {\n        _global.Promise = Promise;\n    }\n    function extend(obj, extension) {\n        if (typeof extension !== 'object')\n            return obj;\n        keys(extension).forEach(function (key) {\n            obj[key] = extension[key];\n        });\n        return obj;\n    }\n    var getProto = Object.getPrototypeOf;\n    var _hasOwn = {}.hasOwnProperty;\n    function hasOwn(obj, prop) {\n        return _hasOwn.call(obj, prop);\n    }\n    function props(proto, extension) {\n        if (typeof extension === 'function')\n            extension = extension(getProto(proto));\n        (typeof Reflect === \"undefined\" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {\n            setProp(proto, key, extension[key]);\n        });\n    }\n    var defineProperty = Object.defineProperty;\n    function setProp(obj, prop, functionOrGetSet, options) {\n        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ?\n            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :\n            { value: functionOrGetSet, configurable: true, writable: true }, options));\n    }\n    function derive(Child) {\n        return {\n            from: function (Parent) {\n                Child.prototype = Object.create(Parent.prototype);\n                setProp(Child.prototype, \"constructor\", Child);\n                return {\n                    extend: props.bind(null, Child.prototype)\n                };\n            }\n        };\n    }\n    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    function getPropertyDescriptor(obj, prop) {\n        var pd = getOwnPropertyDescriptor(obj, prop);\n        var proto;\n        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n    }\n    var _slice = [].slice;\n    function slice(args, start, end) {\n        return _slice.call(args, start, end);\n    }\n    function override(origFunc, overridedFactory) {\n        return overridedFactory(origFunc);\n    }\n    function assert(b) {\n        if (!b)\n            throw new Error(\"Assertion Failed\");\n    }\n    function asap$1(fn) {\n        if (_global.setImmediate)\n            setImmediate(fn);\n        else\n            setTimeout(fn, 0);\n    }\n    function arrayToObject(array, extractor) {\n        return array.reduce(function (result, item, i) {\n            var nameAndValue = extractor(item, i);\n            if (nameAndValue)\n                result[nameAndValue[0]] = nameAndValue[1];\n            return result;\n        }, {});\n    }\n    function getByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))\n            return obj[keyPath];\n        if (!keyPath)\n            return obj;\n        if (typeof keyPath !== 'string') {\n            var rv = [];\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                var val = getByKeyPath(obj, keyPath[i]);\n                rv.push(val);\n            }\n            return rv;\n        }\n        var period = keyPath.indexOf('.');\n        if (period !== -1) {\n            var innerObj = obj[keyPath.substr(0, period)];\n            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n        }\n        return undefined;\n    }\n    function setByKeyPath(obj, keyPath, value) {\n        if (!obj || keyPath === undefined)\n            return;\n        if ('isFrozen' in Object && Object.isFrozen(obj))\n            return;\n        if (typeof keyPath !== 'string' && 'length' in keyPath) {\n            assert(typeof value !== 'string' && 'length' in value);\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                setByKeyPath(obj, keyPath[i], value[i]);\n            }\n        }\n        else {\n            var period = keyPath.indexOf('.');\n            if (period !== -1) {\n                var currentKeyPath = keyPath.substr(0, period);\n                var remainingKeyPath = keyPath.substr(period + 1);\n                if (remainingKeyPath === \"\")\n                    if (value === undefined) {\n                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))\n                            obj.splice(currentKeyPath, 1);\n                        else\n                            delete obj[currentKeyPath];\n                    }\n                    else\n                        obj[currentKeyPath] = value;\n                else {\n                    var innerObj = obj[currentKeyPath];\n                    if (!innerObj || !hasOwn(obj, currentKeyPath))\n                        innerObj = (obj[currentKeyPath] = {});\n                    setByKeyPath(innerObj, remainingKeyPath, value);\n                }\n            }\n            else {\n                if (value === undefined) {\n                    if (isArray(obj) && !isNaN(parseInt(keyPath)))\n                        obj.splice(keyPath, 1);\n                    else\n                        delete obj[keyPath];\n                }\n                else\n                    obj[keyPath] = value;\n            }\n        }\n    }\n    function delByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string')\n            setByKeyPath(obj, keyPath, undefined);\n        else if ('length' in keyPath)\n            [].map.call(keyPath, function (kp) {\n                setByKeyPath(obj, kp, undefined);\n            });\n    }\n    function shallowClone(obj) {\n        var rv = {};\n        for (var m in obj) {\n            if (hasOwn(obj, m))\n                rv[m] = obj[m];\n        }\n        return rv;\n    }\n    var concat = [].concat;\n    function flatten(a) {\n        return concat.apply([], a);\n    }\n    var intrinsicTypeNames = \"BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\"\n        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return [\"Int\", \"Uint\", \"Float\"].map(function (t) { return t + num + \"Array\"; }); }))).filter(function (t) { return _global[t]; });\n    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));\n    function cloneSimpleObjectTree(o) {\n        var rv = {};\n        for (var k in o)\n            if (hasOwn(o, k)) {\n                var v = o[k];\n                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);\n            }\n        return rv;\n    }\n    function objectIsEmpty(o) {\n        for (var k in o)\n            if (hasOwn(o, k))\n                return false;\n        return true;\n    }\n    var circularRefs = null;\n    function deepClone(any) {\n        circularRefs = new WeakMap();\n        var rv = innerDeepClone(any);\n        circularRefs = null;\n        return rv;\n    }\n    function innerDeepClone(x) {\n        if (!x || typeof x !== 'object')\n            return x;\n        var rv = circularRefs.get(x);\n        if (rv)\n            return rv;\n        if (isArray(x)) {\n            rv = [];\n            circularRefs.set(x, rv);\n            for (var i = 0, l = x.length; i < l; ++i) {\n                rv.push(innerDeepClone(x[i]));\n            }\n        }\n        else if (intrinsicTypes.has(x.constructor)) {\n            rv = x;\n        }\n        else {\n            var proto = getProto(x);\n            rv = proto === Object.prototype ? {} : Object.create(proto);\n            circularRefs.set(x, rv);\n            for (var prop in x) {\n                if (hasOwn(x, prop)) {\n                    rv[prop] = innerDeepClone(x[prop]);\n                }\n            }\n        }\n        return rv;\n    }\n    var toString = {}.toString;\n    function toStringTag(o) {\n        return toString.call(o).slice(8, -1);\n    }\n    var iteratorSymbol = typeof Symbol !== 'undefined' ?\n        Symbol.iterator :\n        '@@iterator';\n    var getIteratorOf = typeof iteratorSymbol === \"symbol\" ? function (x) {\n        var i;\n        return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n    } : function () { return null; };\n    function delArrayItem(a, x) {\n        var i = a.indexOf(x);\n        if (i >= 0)\n            a.splice(i, 1);\n        return i >= 0;\n    }\n    var NO_CHAR_ARRAY = {};\n    function getArrayOf(arrayLike) {\n        var i, a, x, it;\n        if (arguments.length === 1) {\n            if (isArray(arrayLike))\n                return arrayLike.slice();\n            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')\n                return [arrayLike];\n            if ((it = getIteratorOf(arrayLike))) {\n                a = [];\n                while ((x = it.next()), !x.done)\n                    a.push(x.value);\n                return a;\n            }\n            if (arrayLike == null)\n                return [arrayLike];\n            i = arrayLike.length;\n            if (typeof i === 'number') {\n                a = new Array(i);\n                while (i--)\n                    a[i] = arrayLike[i];\n                return a;\n            }\n            return [arrayLike];\n        }\n        i = arguments.length;\n        a = new Array(i);\n        while (i--)\n            a[i] = arguments[i];\n        return a;\n    }\n    var isAsyncFunction = typeof Symbol !== 'undefined'\n        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }\n        : function () { return false; };\n\n    var dexieErrorNames = [\n        'Modify',\n        'Bulk',\n        'OpenFailed',\n        'VersionChange',\n        'Schema',\n        'Upgrade',\n        'InvalidTable',\n        'MissingAPI',\n        'NoSuchDatabase',\n        'InvalidArgument',\n        'SubTransaction',\n        'Unsupported',\n        'Internal',\n        'DatabaseClosed',\n        'PrematureCommit',\n        'ForeignAwait'\n    ];\n    var idbDomErrorNames = [\n        'Unknown',\n        'Constraint',\n        'Data',\n        'TransactionInactive',\n        'ReadOnly',\n        'Version',\n        'NotFound',\n        'InvalidState',\n        'InvalidAccess',\n        'Abort',\n        'Timeout',\n        'QuotaExceeded',\n        'Syntax',\n        'DataClone'\n    ];\n    var errorList = dexieErrorNames.concat(idbDomErrorNames);\n    var defaultTexts = {\n        VersionChanged: \"Database version changed by other database connection\",\n        DatabaseClosed: \"Database has been closed\",\n        Abort: \"Transaction aborted\",\n        TransactionInactive: \"Transaction has already completed or failed\",\n        MissingAPI: \"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"\n    };\n    function DexieError(name, msg) {\n        this.name = name;\n        this.message = msg;\n    }\n    derive(DexieError).from(Error).extend({\n        toString: function () { return this.name + \": \" + this.message; }\n    });\n    function getMultiErrorMessage(msg, failures) {\n        return msg + \". Errors: \" + Object.keys(failures)\n            .map(function (key) { return failures[key].toString(); })\n            .filter(function (v, i, s) { return s.indexOf(v) === i; })\n            .join('\\n');\n    }\n    function ModifyError(msg, failures, successCount, failedKeys) {\n        this.failures = failures;\n        this.failedKeys = failedKeys;\n        this.successCount = successCount;\n        this.message = getMultiErrorMessage(msg, failures);\n    }\n    derive(ModifyError).from(DexieError);\n    function BulkError(msg, failures) {\n        this.name = \"BulkError\";\n        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });\n        this.failuresByPos = failures;\n        this.message = getMultiErrorMessage(msg, this.failures);\n    }\n    derive(BulkError).from(DexieError);\n    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + \"Error\", obj); }, {});\n    var BaseException = DexieError;\n    var exceptions = errorList.reduce(function (obj, name) {\n        var fullName = name + \"Error\";\n        function DexieError(msgOrInner, inner) {\n            this.name = fullName;\n            if (!msgOrInner) {\n                this.message = defaultTexts[name] || fullName;\n                this.inner = null;\n            }\n            else if (typeof msgOrInner === 'string') {\n                this.message = \"\".concat(msgOrInner).concat(!inner ? '' : '\\n ' + inner);\n                this.inner = inner || null;\n            }\n            else if (typeof msgOrInner === 'object') {\n                this.message = \"\".concat(msgOrInner.name, \" \").concat(msgOrInner.message);\n                this.inner = msgOrInner;\n            }\n        }\n        derive(DexieError).from(BaseException);\n        obj[name] = DexieError;\n        return obj;\n    }, {});\n    exceptions.Syntax = SyntaxError;\n    exceptions.Type = TypeError;\n    exceptions.Range = RangeError;\n    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n        obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    function mapError(domError, message) {\n        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])\n            return domError;\n        var rv = new exceptionMap[domError.name](message || domError.message, domError);\n        if (\"stack\" in domError) {\n            setProp(rv, \"stack\", { get: function () {\n                    return this.inner.stack;\n                } });\n        }\n        return rv;\n    }\n    var fullNameExceptions = errorList.reduce(function (obj, name) {\n        if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1)\n            obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    fullNameExceptions.ModifyError = ModifyError;\n    fullNameExceptions.DexieError = DexieError;\n    fullNameExceptions.BulkError = BulkError;\n\n    function nop() { }\n    function mirror(val) { return val; }\n    function pureFunctionChain(f1, f2) {\n        if (f1 == null || f1 === mirror)\n            return f2;\n        return function (val) {\n            return f2(f1(val));\n        };\n    }\n    function callBoth(on1, on2) {\n        return function () {\n            on1.apply(this, arguments);\n            on2.apply(this, arguments);\n        };\n    }\n    function hookCreatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res !== undefined)\n                arguments[0] = res;\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res2 !== undefined ? res2 : res;\n        };\n    }\n    function hookDeletingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            f1.apply(this, arguments);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = this.onerror = null;\n            f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        };\n    }\n    function hookUpdatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function (modifications) {\n            var res = f1.apply(this, arguments);\n            extend(modifications, res);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res === undefined ?\n                (res2 === undefined ? undefined : res2) :\n                (extend(res, res2));\n        };\n    }\n    function reverseStoppableEventChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            if (f2.apply(this, arguments) === false)\n                return false;\n            return f1.apply(this, arguments);\n        };\n    }\n    function promisableChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res && typeof res.then === 'function') {\n                var thiz = this, i = arguments.length, args = new Array(i);\n                while (i--)\n                    args[i] = arguments[i];\n                return res.then(function () {\n                    return f2.apply(thiz, args);\n                });\n            }\n            return f2.apply(this, arguments);\n        };\n    }\n\n    var debug = typeof location !== 'undefined' &&\n        /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\n    function setDebug(value, filter) {\n        debug = value;\n    }\n\n    var INTERNAL = {};\n    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?\n        [] :\n        (function () {\n            var globalP = Promise.resolve();\n            if (typeof crypto === 'undefined' || !crypto.subtle)\n                return [globalP, getProto(globalP), globalP];\n            var nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n            return [\n                nativeP,\n                getProto(nativeP),\n                globalP\n            ];\n        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\n    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\n    var patchGlobalPromise = !!resolvedGlobalPromise;\n    function schedulePhysicalTick() {\n        queueMicrotask(physicalTick);\n    }\n    var asap = function (callback, args) {\n        microtickQueue.push([callback, args]);\n        if (needsNewPhysicalTick) {\n            schedulePhysicalTick();\n            needsNewPhysicalTick = false;\n        }\n    };\n    var isOutsideMicroTick = true,\n    needsNewPhysicalTick = true,\n    unhandledErrors = [],\n    rejectingErrors = [],\n    rejectionMapper = mirror;\n    var globalPSD = {\n        id: 'global',\n        global: true,\n        ref: 0,\n        unhandleds: [],\n        onunhandled: nop,\n        pgp: false,\n        env: {},\n        finalize: nop\n    };\n    var PSD = globalPSD;\n    var microtickQueue = [];\n    var numScheduledCalls = 0;\n    var tickFinalizers = [];\n    function DexiePromise(fn) {\n        if (typeof this !== 'object')\n            throw new TypeError('Promises must be constructed via new');\n        this._listeners = [];\n        this._lib = false;\n        var psd = (this._PSD = PSD);\n        if (typeof fn !== 'function') {\n            if (fn !== INTERNAL)\n                throw new TypeError('Not a function');\n            this._state = arguments[1];\n            this._value = arguments[2];\n            if (this._state === false)\n                handleRejection(this, this._value);\n            return;\n        }\n        this._state = null;\n        this._value = null;\n        ++psd.ref;\n        executePromiseTask(this, fn);\n    }\n    var thenProp = {\n        get: function () {\n            var psd = PSD, microTaskId = totalEchoes;\n            function then(onFulfilled, onRejected) {\n                var _this = this;\n                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n                var cleanup = possibleAwait && !decrementExpectedAwaits();\n                var rv = new DexiePromise(function (resolve, reject) {\n                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n                });\n                if (this._consoleTask)\n                    rv._consoleTask = this._consoleTask;\n                return rv;\n            }\n            then.prototype = INTERNAL;\n            return then;\n        },\n        set: function (value) {\n            setProp(this, 'then', value && value.prototype === INTERNAL ?\n                thenProp :\n                {\n                    get: function () {\n                        return value;\n                    },\n                    set: thenProp.set\n                });\n        }\n    };\n    props(DexiePromise.prototype, {\n        then: thenProp,\n        _then: function (onFulfilled, onRejected) {\n            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n        },\n        catch: function (onRejected) {\n            if (arguments.length === 1)\n                return this.then(null, onRejected);\n            var type = arguments[0], handler = arguments[1];\n            return typeof type === 'function' ? this.then(null, function (err) {\n                return err instanceof type ? handler(err) : PromiseReject(err);\n            })\n                : this.then(null, function (err) {\n                    return err && err.name === type ? handler(err) : PromiseReject(err);\n                });\n        },\n        finally: function (onFinally) {\n            return this.then(function (value) {\n                return DexiePromise.resolve(onFinally()).then(function () { return value; });\n            }, function (err) {\n                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });\n            });\n        },\n        timeout: function (ms, msg) {\n            var _this = this;\n            return ms < Infinity ?\n                new DexiePromise(function (resolve, reject) {\n                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);\n                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n                }) : this;\n        }\n    });\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\n    globalPSD.env = snapShot();\n    function Listener(onFulfilled, onRejected, resolve, reject, zone) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n        this.psd = zone;\n    }\n    props(DexiePromise, {\n        all: function () {\n            var values = getArrayOf.apply(null, arguments)\n                .map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                if (values.length === 0)\n                    resolve([]);\n                var remaining = values.length;\n                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {\n                    values[i] = x;\n                    if (!--remaining)\n                        resolve(values);\n                }, reject); });\n            });\n        },\n        resolve: function (value) {\n            if (value instanceof DexiePromise)\n                return value;\n            if (value && typeof value.then === 'function')\n                return new DexiePromise(function (resolve, reject) {\n                    value.then(resolve, reject);\n                });\n            var rv = new DexiePromise(INTERNAL, true, value);\n            return rv;\n        },\n        reject: PromiseReject,\n        race: function () {\n            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });\n            });\n        },\n        PSD: {\n            get: function () { return PSD; },\n            set: function (value) { return PSD = value; }\n        },\n        totalEchoes: { get: function () { return totalEchoes; } },\n        newPSD: newScope,\n        usePSD: usePSD,\n        scheduler: {\n            get: function () { return asap; },\n            set: function (value) { asap = value; }\n        },\n        rejectionMapper: {\n            get: function () { return rejectionMapper; },\n            set: function (value) { rejectionMapper = value; }\n        },\n        follow: function (fn, zoneProps) {\n            return new DexiePromise(function (resolve, reject) {\n                return newScope(function (resolve, reject) {\n                    var psd = PSD;\n                    psd.unhandleds = [];\n                    psd.onunhandled = reject;\n                    psd.finalize = callBoth(function () {\n                        var _this = this;\n                        run_at_end_of_this_or_next_physical_tick(function () {\n                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n                        });\n                    }, psd.finalize);\n                    fn();\n                }, zoneProps, resolve, reject);\n            });\n        }\n    });\n    if (NativePromise) {\n        if (NativePromise.allSettled)\n            setProp(DexiePromise, \"allSettled\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve) {\n                    if (possiblePromises.length === 0)\n                        resolve([]);\n                    var remaining = possiblePromises.length;\n                    var results = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: \"fulfilled\", value: value }; }, function (reason) { return results[i] = { status: \"rejected\", reason: reason }; })\n                        .then(function () { return --remaining || resolve(results); }); });\n                });\n            });\n        if (NativePromise.any && typeof AggregateError !== 'undefined')\n            setProp(DexiePromise, \"any\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve, reject) {\n                    if (possiblePromises.length === 0)\n                        reject(new AggregateError([]));\n                    var remaining = possiblePromises.length;\n                    var failures = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {\n                        failures[i] = failure;\n                        if (!--remaining)\n                            reject(new AggregateError(failures));\n                    }); });\n                });\n            });\n        if (NativePromise.withResolvers)\n            DexiePromise.withResolvers = NativePromise.withResolvers;\n    }\n    function executePromiseTask(promise, fn) {\n        try {\n            fn(function (value) {\n                if (promise._state !== null)\n                    return;\n                if (value === promise)\n                    throw new TypeError('A promise cannot be resolved with itself.');\n                var shouldExecuteTick = promise._lib && beginMicroTickScope();\n                if (value && typeof value.then === 'function') {\n                    executePromiseTask(promise, function (resolve, reject) {\n                        value instanceof DexiePromise ?\n                            value._then(resolve, reject) :\n                            value.then(resolve, reject);\n                    });\n                }\n                else {\n                    promise._state = true;\n                    promise._value = value;\n                    propagateAllListeners(promise);\n                }\n                if (shouldExecuteTick)\n                    endMicroTickScope();\n            }, handleRejection.bind(null, promise));\n        }\n        catch (ex) {\n            handleRejection(promise, ex);\n        }\n    }\n    function handleRejection(promise, reason) {\n        rejectingErrors.push(reason);\n        if (promise._state !== null)\n            return;\n        var shouldExecuteTick = promise._lib && beginMicroTickScope();\n        reason = rejectionMapper(reason);\n        promise._state = false;\n        promise._value = reason;\n        addPossiblyUnhandledError(promise);\n        propagateAllListeners(promise);\n        if (shouldExecuteTick)\n            endMicroTickScope();\n    }\n    function propagateAllListeners(promise) {\n        var listeners = promise._listeners;\n        promise._listeners = [];\n        for (var i = 0, len = listeners.length; i < len; ++i) {\n            propagateToListener(promise, listeners[i]);\n        }\n        var psd = promise._PSD;\n        --psd.ref || psd.finalize();\n        if (numScheduledCalls === 0) {\n            ++numScheduledCalls;\n            asap(function () {\n                if (--numScheduledCalls === 0)\n                    finalizePhysicalTick();\n            }, []);\n        }\n    }\n    function propagateToListener(promise, listener) {\n        if (promise._state === null) {\n            promise._listeners.push(listener);\n            return;\n        }\n        var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n        if (cb === null) {\n            return (promise._state ? listener.resolve : listener.reject)(promise._value);\n        }\n        ++listener.psd.ref;\n        ++numScheduledCalls;\n        asap(callListener, [cb, promise, listener]);\n    }\n    function callListener(cb, promise, listener) {\n        try {\n            var ret, value = promise._value;\n            if (!promise._state && rejectingErrors.length)\n                rejectingErrors = [];\n            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);\n            if (!promise._state && rejectingErrors.indexOf(value) === -1) {\n                markErrorAsHandled(promise);\n            }\n            listener.resolve(ret);\n        }\n        catch (e) {\n            listener.reject(e);\n        }\n        finally {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n            --listener.psd.ref || listener.psd.finalize();\n        }\n    }\n    function physicalTick() {\n        usePSD(globalPSD, function () {\n            beginMicroTickScope() && endMicroTickScope();\n        });\n    }\n    function beginMicroTickScope() {\n        var wasRootExec = isOutsideMicroTick;\n        isOutsideMicroTick = false;\n        needsNewPhysicalTick = false;\n        return wasRootExec;\n    }\n    function endMicroTickScope() {\n        var callbacks, i, l;\n        do {\n            while (microtickQueue.length > 0) {\n                callbacks = microtickQueue;\n                microtickQueue = [];\n                l = callbacks.length;\n                for (i = 0; i < l; ++i) {\n                    var item = callbacks[i];\n                    item[0].apply(null, item[1]);\n                }\n            }\n        } while (microtickQueue.length > 0);\n        isOutsideMicroTick = true;\n        needsNewPhysicalTick = true;\n    }\n    function finalizePhysicalTick() {\n        var unhandledErrs = unhandledErrors;\n        unhandledErrors = [];\n        unhandledErrs.forEach(function (p) {\n            p._PSD.onunhandled.call(null, p._value, p);\n        });\n        var finalizers = tickFinalizers.slice(0);\n        var i = finalizers.length;\n        while (i)\n            finalizers[--i]();\n    }\n    function run_at_end_of_this_or_next_physical_tick(fn) {\n        function finalizer() {\n            fn();\n            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n        }\n        tickFinalizers.push(finalizer);\n        ++numScheduledCalls;\n        asap(function () {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n        }, []);\n    }\n    function addPossiblyUnhandledError(promise) {\n        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))\n            unhandledErrors.push(promise);\n    }\n    function markErrorAsHandled(promise) {\n        var i = unhandledErrors.length;\n        while (i)\n            if (unhandledErrors[--i]._value === promise._value) {\n                unhandledErrors.splice(i, 1);\n                return;\n            }\n    }\n    function PromiseReject(reason) {\n        return new DexiePromise(INTERNAL, false, reason);\n    }\n    function wrap(fn, errorCatcher) {\n        var psd = PSD;\n        return function () {\n            var wasRootExec = beginMicroTickScope(), outerScope = PSD;\n            try {\n                switchToZone(psd, true);\n                return fn.apply(this, arguments);\n            }\n            catch (e) {\n                errorCatcher && errorCatcher(e);\n            }\n            finally {\n                switchToZone(outerScope, false);\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n    }\n    var task = { awaits: 0, echoes: 0, id: 0 };\n    var taskCounter = 0;\n    var zoneStack = [];\n    var zoneEchoes = 0;\n    var totalEchoes = 0;\n    var zone_id_counter = 0;\n    function newScope(fn, props, a1, a2) {\n        var parent = PSD, psd = Object.create(parent);\n        psd.parent = parent;\n        psd.ref = 0;\n        psd.global = false;\n        psd.id = ++zone_id_counter;\n        globalPSD.env;\n        psd.env = patchGlobalPromise ? {\n            Promise: DexiePromise,\n            PromiseProp: { value: DexiePromise, configurable: true, writable: true },\n            all: DexiePromise.all,\n            race: DexiePromise.race,\n            allSettled: DexiePromise.allSettled,\n            any: DexiePromise.any,\n            resolve: DexiePromise.resolve,\n            reject: DexiePromise.reject,\n        } : {};\n        if (props)\n            extend(psd, props);\n        ++parent.ref;\n        psd.finalize = function () {\n            --this.parent.ref || this.parent.finalize();\n        };\n        var rv = usePSD(psd, fn, a1, a2);\n        if (psd.ref === 0)\n            psd.finalize();\n        return rv;\n    }\n    function incrementExpectedAwaits() {\n        if (!task.id)\n            task.id = ++taskCounter;\n        ++task.awaits;\n        task.echoes += ZONE_ECHO_LIMIT;\n        return task.id;\n    }\n    function decrementExpectedAwaits() {\n        if (!task.awaits)\n            return false;\n        if (--task.awaits === 0)\n            task.id = 0;\n        task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n        return true;\n    }\n    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n        incrementExpectedAwaits = decrementExpectedAwaits = nop;\n    }\n    function onPossibleParallellAsync(possiblePromise) {\n        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n            incrementExpectedAwaits();\n            return possiblePromise.then(function (x) {\n                decrementExpectedAwaits();\n                return x;\n            }, function (e) {\n                decrementExpectedAwaits();\n                return rejection(e);\n            });\n        }\n        return possiblePromise;\n    }\n    function zoneEnterEcho(targetZone) {\n        ++totalEchoes;\n        if (!task.echoes || --task.echoes === 0) {\n            task.echoes = task.awaits = task.id = 0;\n        }\n        zoneStack.push(PSD);\n        switchToZone(targetZone, true);\n    }\n    function zoneLeaveEcho() {\n        var zone = zoneStack[zoneStack.length - 1];\n        zoneStack.pop();\n        switchToZone(zone, false);\n    }\n    function switchToZone(targetZone, bEnteringZone) {\n        var currentZone = PSD;\n        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {\n            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n        }\n        if (targetZone === PSD)\n            return;\n        PSD = targetZone;\n        if (currentZone === globalPSD)\n            globalPSD.env = snapShot();\n        if (patchGlobalPromise) {\n            var GlobalPromise = globalPSD.env.Promise;\n            var targetEnv = targetZone.env;\n            if (currentZone.global || targetZone.global) {\n                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n                GlobalPromise.all = targetEnv.all;\n                GlobalPromise.race = targetEnv.race;\n                GlobalPromise.resolve = targetEnv.resolve;\n                GlobalPromise.reject = targetEnv.reject;\n                if (targetEnv.allSettled)\n                    GlobalPromise.allSettled = targetEnv.allSettled;\n                if (targetEnv.any)\n                    GlobalPromise.any = targetEnv.any;\n            }\n        }\n    }\n    function snapShot() {\n        var GlobalPromise = _global.Promise;\n        return patchGlobalPromise ? {\n            Promise: GlobalPromise,\n            PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n            all: GlobalPromise.all,\n            race: GlobalPromise.race,\n            allSettled: GlobalPromise.allSettled,\n            any: GlobalPromise.any,\n            resolve: GlobalPromise.resolve,\n            reject: GlobalPromise.reject,\n        } : {};\n    }\n    function usePSD(psd, fn, a1, a2, a3) {\n        var outerScope = PSD;\n        try {\n            switchToZone(psd, true);\n            return fn(a1, a2, a3);\n        }\n        finally {\n            switchToZone(outerScope, false);\n        }\n    }\n    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n        return typeof fn !== 'function' ? fn : function () {\n            var outerZone = PSD;\n            if (possibleAwait)\n                incrementExpectedAwaits();\n            switchToZone(zone, true);\n            try {\n                return fn.apply(this, arguments);\n            }\n            finally {\n                switchToZone(outerZone, false);\n                if (cleanup)\n                    queueMicrotask(decrementExpectedAwaits);\n            }\n        };\n    }\n    function execInGlobalContext(cb) {\n        if (Promise === NativePromise && task.echoes === 0) {\n            if (zoneEchoes === 0) {\n                cb();\n            }\n            else {\n                enqueueNativeMicroTask(cb);\n            }\n        }\n        else {\n            setTimeout(cb, 0);\n        }\n    }\n    var rejection = DexiePromise.reject;\n\n    function tempTransaction(db, mode, storeNames, fn) {\n        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {\n            if (db._state.openComplete) {\n                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));\n            }\n            if (!db._state.isBeingOpened) {\n                if (!db._state.autoOpen)\n                    return rejection(new exceptions.DatabaseClosed());\n                db.open().catch(nop);\n            }\n            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });\n        }\n        else {\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n            try {\n                trans.create();\n                db._state.PR1398_maxLoop = 3;\n            }\n            catch (ex) {\n                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                    console.warn('Dexie: Need to reopen db');\n                    db.close({ disableAutoOpen: false });\n                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });\n                }\n                return rejection(ex);\n            }\n            return trans._promise(mode, function (resolve, reject) {\n                return newScope(function () {\n                    PSD.trans = trans;\n                    return fn(resolve, reject, trans);\n                });\n            }).then(function (result) {\n                if (mode === 'readwrite')\n                    try {\n                        trans.idbtrans.commit();\n                    }\n                    catch (_a) { }\n                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });\n            });\n        }\n    }\n\n    var DEXIE_VERSION = '4.2.1';\n    var maxString = String.fromCharCode(65535);\n    var minKey = -Infinity;\n    var INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\n    var STRING_EXPECTED = \"String expected.\";\n    var connections = [];\n    var DBNAMES_DB = '__dbnames';\n    var READONLY = 'readonly';\n    var READWRITE = 'readwrite';\n\n    function combine(filter1, filter2) {\n        return filter1 ?\n            filter2 ?\n                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :\n                filter1 :\n            filter2;\n    }\n\n    var AnyRange = {\n        type: 3 ,\n        lower: -Infinity,\n        lowerOpen: false,\n        upper: [[]],\n        upperOpen: false\n    };\n\n    function workaroundForUndefinedPrimKey(keyPath) {\n        return typeof keyPath === \"string\" && !/\\./.test(keyPath)\n            ? function (obj) {\n                if (obj[keyPath] === undefined && (keyPath in obj)) {\n                    obj = deepClone(obj);\n                    delete obj[keyPath];\n                }\n                return obj;\n            }\n            : function (obj) { return obj; };\n    }\n\n    function Entity() {\n        throw exceptions.Type(\"Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.\");\n    }\n\n    function cmp(a, b) {\n        try {\n            var ta = type(a);\n            var tb = type(b);\n            if (ta !== tb) {\n                if (ta === 'Array')\n                    return 1;\n                if (tb === 'Array')\n                    return -1;\n                if (ta === 'binary')\n                    return 1;\n                if (tb === 'binary')\n                    return -1;\n                if (ta === 'string')\n                    return 1;\n                if (tb === 'string')\n                    return -1;\n                if (ta === 'Date')\n                    return 1;\n                if (tb !== 'Date')\n                    return NaN;\n                return -1;\n            }\n            switch (ta) {\n                case 'number':\n                case 'Date':\n                case 'string':\n                    return a > b ? 1 : a < b ? -1 : 0;\n                case 'binary': {\n                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));\n                }\n                case 'Array':\n                    return compareArrays(a, b);\n            }\n        }\n        catch (_a) { }\n        return NaN;\n    }\n    function compareArrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            var res = cmp(a[i], b[i]);\n            if (res !== 0)\n                return res;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function compareUint8Arrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            if (a[i] !== b[i])\n                return a[i] < b[i] ? -1 : 1;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function type(x) {\n        var t = typeof x;\n        if (t !== 'object')\n            return t;\n        if (ArrayBuffer.isView(x))\n            return 'binary';\n        var tsTag = toStringTag(x);\n        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;\n    }\n    function getUint8Array(a) {\n        if (a instanceof Uint8Array)\n            return a;\n        if (ArrayBuffer.isView(a))\n            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n        return new Uint8Array(a);\n    }\n\n    function builtInDeletionTrigger(table, keys, res) {\n        var yProps = table.schema.yProps;\n        if (!yProps)\n            return res;\n        if (keys && res.numFailures > 0)\n            keys = keys.filter(function (_, i) { return !res.failures[i]; });\n        return Promise.all(yProps.map(function (_a) {\n            var updatesTable = _a.updatesTable;\n            return keys\n                ? table.db.table(updatesTable).where('k').anyOf(keys).delete()\n                : table.db.table(updatesTable).clear();\n        })).then(function () { return res; });\n    }\n\n    var PropModification =  (function () {\n        function PropModification(spec) {\n            this[\"@@propmod\"] = spec;\n        }\n        PropModification.prototype.execute = function (value) {\n            var _a;\n            var spec = this[\"@@propmod\"];\n            if (spec.add !== undefined) {\n                var term = spec.add;\n                if (isArray(term)) {\n                    return __spreadArray(__spreadArray([], (isArray(value) ? value : []), true), term, true).sort();\n                }\n                if (typeof term === 'number')\n                    return (Number(value) || 0) + term;\n                if (typeof term === 'bigint') {\n                    try {\n                        return BigInt(value) + term;\n                    }\n                    catch (_b) {\n                        return BigInt(0) + term;\n                    }\n                }\n                throw new TypeError(\"Invalid term \".concat(term));\n            }\n            if (spec.remove !== undefined) {\n                var subtrahend_1 = spec.remove;\n                if (isArray(subtrahend_1)) {\n                    return isArray(value) ? value.filter(function (item) { return !subtrahend_1.includes(item); }).sort() : [];\n                }\n                if (typeof subtrahend_1 === 'number')\n                    return Number(value) - subtrahend_1;\n                if (typeof subtrahend_1 === 'bigint') {\n                    try {\n                        return BigInt(value) - subtrahend_1;\n                    }\n                    catch (_c) {\n                        return BigInt(0) - subtrahend_1;\n                    }\n                }\n                throw new TypeError(\"Invalid subtrahend \".concat(subtrahend_1));\n            }\n            var prefixToReplace = (_a = spec.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];\n            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {\n                return spec.replacePrefix[1] + value.substring(prefixToReplace.length);\n            }\n            return value;\n        };\n        return PropModification;\n    }());\n\n    function applyUpdateSpec(obj, changes) {\n        var keyPaths = keys(changes);\n        var numKeys = keyPaths.length;\n        var anythingModified = false;\n        for (var i = 0; i < numKeys; ++i) {\n            var keyPath = keyPaths[i];\n            var value = changes[keyPath];\n            var origValue = getByKeyPath(obj, keyPath);\n            if (value instanceof PropModification) {\n                setByKeyPath(obj, keyPath, value.execute(origValue));\n                anythingModified = true;\n            }\n            else if (origValue !== value) {\n                setByKeyPath(obj, keyPath, value);\n                anythingModified = true;\n            }\n        }\n        return anythingModified;\n    }\n\n    var Table =  (function () {\n        function Table() {\n        }\n        Table.prototype._trans = function (mode, fn, writeLocked) {\n            var trans = this._tx || PSD.trans;\n            var tableName = this.name;\n            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask(\"Dexie: \".concat(mode === 'readonly' ? 'read' : 'write', \" \").concat(this.name));\n            function checkTableInTransaction(resolve, reject, trans) {\n                if (!trans.schema[tableName])\n                    throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n                return fn(trans.idbtrans, trans);\n            }\n            var wasRootExec = beginMicroTickScope();\n            try {\n                var p = trans && trans.db._novip === this.db._novip ?\n                    trans === PSD.trans ?\n                        trans._promise(mode, checkTableInTransaction, writeLocked) :\n                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :\n                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n                if (task) {\n                    p._consoleTask = task;\n                    p = p.catch(function (err) {\n                        console.trace(err);\n                        return rejection(err);\n                    });\n                }\n                return p;\n            }\n            finally {\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n        Table.prototype.get = function (keyOrCrit, cb) {\n            var _this = this;\n            if (keyOrCrit && keyOrCrit.constructor === Object)\n                return this.where(keyOrCrit).first(cb);\n            if (keyOrCrit == null)\n                return rejection(new exceptions.Type(\"Invalid argument to Table.get()\"));\n            return this._trans('readonly', function (trans) {\n                return _this.core.get({ trans: trans, key: keyOrCrit })\n                    .then(function (res) { return _this.hook.reading.fire(res); });\n            }).then(cb);\n        };\n        Table.prototype.where = function (indexOrCrit) {\n            if (typeof indexOrCrit === 'string')\n                return new this.db.WhereClause(this, indexOrCrit);\n            if (isArray(indexOrCrit))\n                return new this.db.WhereClause(this, \"[\".concat(indexOrCrit.join('+'), \"]\"));\n            var keyPaths = keys(indexOrCrit);\n            if (keyPaths.length === 1)\n                return this\n                    .where(keyPaths[0])\n                    .equals(indexOrCrit[keyPaths[0]]);\n            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n                if (ix.compound &&\n                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {\n                    for (var i = 0; i < keyPaths.length; ++i) {\n                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)\n                            return false;\n                    }\n                    return true;\n                }\n                return false;\n            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];\n            if (compoundIndex && this.db._maxKey !== maxString) {\n                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);\n                return this\n                    .where(keyPathsInValidOrder)\n                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));\n            }\n            if (!compoundIndex && debug)\n                console.warn(\"The query \".concat(JSON.stringify(indexOrCrit), \" on \").concat(this.name, \" would benefit from a \") +\n                    \"compound index [\".concat(keyPaths.join('+'), \"]\"));\n            var idxByName = this.schema.idxByName;\n            function equals(a, b) {\n                return cmp(a, b) === 0;\n            }\n            var _a = keyPaths.reduce(function (_a, keyPath) {\n                var prevIndex = _a[0], prevFilterFn = _a[1];\n                var index = idxByName[keyPath];\n                var value = indexOrCrit[keyPath];\n                return [\n                    prevIndex || index,\n                    prevIndex || !index ?\n                        combine(prevFilterFn, index && index.multi ?\n                            function (x) {\n                                var prop = getByKeyPath(x, keyPath);\n                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });\n                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })\n                        : prevFilterFn\n                ];\n            }, [null, null]), idx = _a[0], filterFunction = _a[1];\n            return idx ?\n                this.where(idx.name).equals(indexOrCrit[idx.keyPath])\n                    .filter(filterFunction) :\n                compoundIndex ?\n                    this.filter(filterFunction) :\n                    this.where(keyPaths).equals('');\n        };\n        Table.prototype.filter = function (filterFunction) {\n            return this.toCollection().and(filterFunction);\n        };\n        Table.prototype.count = function (thenShortcut) {\n            return this.toCollection().count(thenShortcut);\n        };\n        Table.prototype.offset = function (offset) {\n            return this.toCollection().offset(offset);\n        };\n        Table.prototype.limit = function (numRows) {\n            return this.toCollection().limit(numRows);\n        };\n        Table.prototype.each = function (callback) {\n            return this.toCollection().each(callback);\n        };\n        Table.prototype.toArray = function (thenShortcut) {\n            return this.toCollection().toArray(thenShortcut);\n        };\n        Table.prototype.toCollection = function () {\n            return new this.db.Collection(new this.db.WhereClause(this));\n        };\n        Table.prototype.orderBy = function (index) {\n            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?\n                \"[\".concat(index.join('+'), \"]\") :\n                index));\n        };\n        Table.prototype.reverse = function () {\n            return this.toCollection().reverse();\n        };\n        Table.prototype.mapToClass = function (constructor) {\n            var _a = this, db = _a.db, tableName = _a.name;\n            this.schema.mappedClass = constructor;\n            if (constructor.prototype instanceof Entity) {\n                constructor =  (function (_super) {\n                    __extends(class_1, _super);\n                    function class_1() {\n                        return _super !== null && _super.apply(this, arguments) || this;\n                    }\n                    Object.defineProperty(class_1.prototype, \"db\", {\n                        get: function () { return db; },\n                        enumerable: false,\n                        configurable: true\n                    });\n                    class_1.prototype.table = function () { return tableName; };\n                    return class_1;\n                }(constructor));\n            }\n            var inheritedProps = new Set();\n            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {\n                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });\n            }\n            var readHook = function (obj) {\n                if (!obj)\n                    return obj;\n                var res = Object.create(constructor.prototype);\n                for (var m in obj)\n                    if (!inheritedProps.has(m))\n                        try {\n                            res[m] = obj[m];\n                        }\n                        catch (_) { }\n                return res;\n            };\n            if (this.schema.readHook) {\n                this.hook.reading.unsubscribe(this.schema.readHook);\n            }\n            this.schema.readHook = readHook;\n            this.hook(\"reading\", readHook);\n            return constructor;\n        };\n        Table.prototype.defineClass = function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return this.mapToClass(Class);\n        };\n        Table.prototype.add = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });\n            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.upsert = function (key, modifications) {\n            var _this = this;\n            var keyPath = this.schema.primKey.keyPath;\n            return this._trans('readwrite', function (trans) {\n                return _this.core.get({ trans: trans, key: key }).then(function (existing) {\n                    var obj = existing !== null && existing !== void 0 ? existing : {};\n                    applyUpdateSpec(obj, modifications);\n                    if (keyPath)\n                        setByKeyPath(obj, keyPath, key);\n                    return _this.core.mutate({\n                        trans: trans,\n                        type: 'put',\n                        values: [obj],\n                        keys: [key],\n                        upsert: true,\n                        updates: { keys: [key], changeSpecs: [modifications] }\n                    }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : !!existing; });\n                });\n            });\n        };\n        Table.prototype.update = function (keyOrObject, modifications) {\n            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n                if (key === undefined)\n                    return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n                return this.where(\":id\").equals(key).modify(modifications);\n            }\n            else {\n                return this.where(\":id\").equals(keyOrObject).modify(modifications);\n            }\n        };\n        Table.prototype.put = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.delete = function (key) {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] })\n                .then(function (res) { return builtInDeletionTrigger(_this, [key], res); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; }); });\n        };\n        Table.prototype.clear = function () {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange })\n                .then(function (res) { return builtInDeletionTrigger(_this, null, res); }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.bulkGet = function (keys) {\n            var _this = this;\n            return this._trans('readonly', function (trans) {\n                return _this.core.getMany({\n                    keys: keys,\n                    trans: trans\n                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });\n            });\n        };\n        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToAdd = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(\"\".concat(_this.name, \".bulkAdd(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n                });\n            });\n        };\n        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToPut = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(\"\".concat(_this.name, \".bulkPut(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n                });\n            });\n        };\n        Table.prototype.bulkUpdate = function (keysAndChanges) {\n            var _this = this;\n            var coreTable = this.core;\n            var keys = keysAndChanges.map(function (entry) { return entry.key; });\n            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });\n            var offsetMap = [];\n            return this._trans('readwrite', function (trans) {\n                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {\n                    var resultKeys = [];\n                    var resultObjs = [];\n                    keysAndChanges.forEach(function (_a, idx) {\n                        var key = _a.key, changes = _a.changes;\n                        var obj = objs[idx];\n                        if (obj) {\n                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {\n                                var keyPath = _b[_i];\n                                var value = changes[keyPath];\n                                if (keyPath === _this.schema.primKey.keyPath) {\n                                    if (cmp(value, key) !== 0) {\n                                        throw new exceptions.Constraint(\"Cannot update primary key in bulkUpdate()\");\n                                    }\n                                }\n                                else {\n                                    setByKeyPath(obj, keyPath, value);\n                                }\n                            }\n                            offsetMap.push(idx);\n                            resultKeys.push(key);\n                            resultObjs.push(obj);\n                        }\n                    });\n                    var numEntries = resultKeys.length;\n                    return coreTable\n                        .mutate({\n                        trans: trans,\n                        type: 'put',\n                        keys: resultKeys,\n                        values: resultObjs,\n                        updates: {\n                            keys: keys,\n                            changeSpecs: changeSpecs\n                        }\n                    })\n                        .then(function (_a) {\n                        var numFailures = _a.numFailures, failures = _a.failures;\n                        if (numFailures === 0)\n                            return numEntries;\n                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {\n                            var offset = _b[_i];\n                            var mappedOffset = offsetMap[Number(offset)];\n                            if (mappedOffset != null) {\n                                var failure = failures[offset];\n                                delete failures[offset];\n                                failures[mappedOffset] = failure;\n                            }\n                        }\n                        throw new BulkError(\"\".concat(_this.name, \".bulkUpdate(): \").concat(numFailures, \" of \").concat(numEntries, \" operations failed\"), failures);\n                    });\n                });\n            });\n        };\n        Table.prototype.bulkDelete = function (keys) {\n            var _this = this;\n            var numKeys = keys.length;\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys })\n                    .then(function (res) { return builtInDeletionTrigger(_this, keys, res); });\n            }).then(function (_a) {\n                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;\n                if (numFailures === 0)\n                    return lastResult;\n                throw new BulkError(\"\".concat(_this.name, \".bulkDelete(): \").concat(numFailures, \" of \").concat(numKeys, \" operations failed\"), failures);\n            });\n        };\n        return Table;\n    }());\n\n    function Events(ctx) {\n        var evs = {};\n        var rv = function (eventName, subscriber) {\n            if (subscriber) {\n                var i = arguments.length, args = new Array(i - 1);\n                while (--i)\n                    args[i - 1] = arguments[i];\n                evs[eventName].subscribe.apply(null, args);\n                return ctx;\n            }\n            else if (typeof (eventName) === 'string') {\n                return evs[eventName];\n            }\n        };\n        rv.addEventType = add;\n        for (var i = 1, l = arguments.length; i < l; ++i) {\n            add(arguments[i]);\n        }\n        return rv;\n        function add(eventName, chainFunction, defaultFunction) {\n            if (typeof eventName === 'object')\n                return addConfiguredEvents(eventName);\n            if (!chainFunction)\n                chainFunction = reverseStoppableEventChain;\n            if (!defaultFunction)\n                defaultFunction = nop;\n            var context = {\n                subscribers: [],\n                fire: defaultFunction,\n                subscribe: function (cb) {\n                    if (context.subscribers.indexOf(cb) === -1) {\n                        context.subscribers.push(cb);\n                        context.fire = chainFunction(context.fire, cb);\n                    }\n                },\n                unsubscribe: function (cb) {\n                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });\n                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n                }\n            };\n            evs[eventName] = rv[eventName] = context;\n            return context;\n        }\n        function addConfiguredEvents(cfg) {\n            keys(cfg).forEach(function (eventName) {\n                var args = cfg[eventName];\n                if (isArray(args)) {\n                    add(eventName, cfg[eventName][0], cfg[eventName][1]);\n                }\n                else if (args === 'asap') {\n                    var context = add(eventName, mirror, function fire() {\n                        var i = arguments.length, args = new Array(i);\n                        while (i--)\n                            args[i] = arguments[i];\n                        context.subscribers.forEach(function (fn) {\n                            asap$1(function fireEvent() {\n                                fn.apply(null, args);\n                            });\n                        });\n                    });\n                }\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid event config\");\n            });\n        }\n    }\n\n    function makeClassConstructor(prototype, constructor) {\n        derive(constructor).from({ prototype: prototype });\n        return constructor;\n    }\n\n    function createTableConstructor(db) {\n        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {\n            this.db = db;\n            this._tx = trans;\n            this.name = name;\n            this.schema = tableSchema;\n            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n                \"creating\": [hookCreatingChain, nop],\n                \"reading\": [pureFunctionChain, mirror],\n                \"updating\": [hookUpdatingChain, nop],\n                \"deleting\": [hookDeletingChain, nop]\n            });\n        });\n    }\n\n    function isPlainKeyRange(ctx, ignoreLimitFilter) {\n        return !(ctx.filter || ctx.algorithm || ctx.or) &&\n            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n    }\n    function addFilter(ctx, fn) {\n        ctx.filter = combine(ctx.filter, fn);\n    }\n    function addReplayFilter(ctx, factory, isLimitFilter) {\n        var curr = ctx.replayFilter;\n        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;\n        ctx.justLimit = isLimitFilter && !curr;\n    }\n    function addMatchFilter(ctx, fn) {\n        ctx.isMatch = combine(ctx.isMatch, fn);\n    }\n    function getIndexOrStore(ctx, coreSchema) {\n        if (ctx.isPrimKey)\n            return coreSchema.primaryKey;\n        var index = coreSchema.getIndexByKeyPath(ctx.index);\n        if (!index)\n            throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n        return index;\n    }\n    function openCursor(ctx, coreTable, trans) {\n        var index = getIndexOrStore(ctx, coreTable.schema);\n        return coreTable.openCursor({\n            trans: trans,\n            values: !ctx.keysOnly,\n            reverse: ctx.dir === 'prev',\n            unique: !!ctx.unique,\n            query: {\n                index: index,\n                range: ctx.range\n            }\n        });\n    }\n    function iter(ctx, fn, coreTrans, coreTable) {\n        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n        if (!ctx.or) {\n            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n        }\n        else {\n            var set_1 = {};\n            var union = function (item, cursor, advance) {\n                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {\n                    var primaryKey = cursor.primaryKey;\n                    var key = '' + primaryKey;\n                    if (key === '[object ArrayBuffer]')\n                        key = '' + new Uint8Array(primaryKey);\n                    if (!hasOwn(set_1, key)) {\n                        set_1[key] = true;\n                        fn(item, cursor, advance);\n                    }\n                }\n            };\n            return Promise.all([\n                ctx.or._iterate(union, coreTrans),\n                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)\n            ]);\n        }\n    }\n    function iterate(cursorPromise, filter, fn, valueMapper) {\n        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;\n        var wrappedFn = wrap(mappedFn);\n        return cursorPromise.then(function (cursor) {\n            if (cursor) {\n                return cursor.start(function () {\n                    var c = function () { return cursor.continue(); };\n                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))\n                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });\n                    c();\n                });\n            }\n        });\n    }\n\n    var Collection =  (function () {\n        function Collection() {\n        }\n        Collection.prototype._read = function (fn, cb) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readonly', fn).then(cb);\n        };\n        Collection.prototype._write = function (fn) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readwrite', fn, \"locked\");\n        };\n        Collection.prototype._addAlgorithm = function (fn) {\n            var ctx = this._ctx;\n            ctx.algorithm = combine(ctx.algorithm, fn);\n        };\n        Collection.prototype._iterate = function (fn, coreTrans) {\n            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n        };\n        Collection.prototype.clone = function (props) {\n            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);\n            if (props)\n                extend(ctx, props);\n            rv._ctx = ctx;\n            return rv;\n        };\n        Collection.prototype.raw = function () {\n            this._ctx.valueMapper = null;\n            return this;\n        };\n        Collection.prototype.each = function (fn) {\n            var ctx = this._ctx;\n            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });\n        };\n        Collection.prototype.count = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                var coreTable = ctx.table.core;\n                if (isPlainKeyRange(ctx, true)) {\n                    return coreTable.count({\n                        trans: trans,\n                        query: {\n                            index: getIndexOrStore(ctx, coreTable.schema),\n                            range: ctx.range\n                        }\n                    }).then(function (count) { return Math.min(count, ctx.limit); });\n                }\n                else {\n                    var count = 0;\n                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)\n                        .then(function () { return count; });\n                }\n            }).then(cb);\n        };\n        Collection.prototype.sortBy = function (keyPath, cb) {\n            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;\n            function getval(obj, i) {\n                if (i)\n                    return getval(obj[parts[i]], i - 1);\n                return obj[lastPart];\n            }\n            var order = this._ctx.dir === \"next\" ? 1 : -1;\n            function sorter(a, b) {\n                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);\n                return cmp(aVal, bVal) * order;\n            }\n            return this.toArray(function (a) {\n                return a.sort(sorter);\n            }).then(cb);\n        };\n        Collection.prototype.toArray = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                    var valueMapper_1 = ctx.valueMapper;\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        limit: ctx.limit,\n                        values: true,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    }).then(function (_a) {\n                        var result = _a.result;\n                        return valueMapper_1 ? result.map(valueMapper_1) : result;\n                    });\n                }\n                else {\n                    var a_1 = [];\n                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });\n                }\n            }, cb);\n        };\n        Collection.prototype.offset = function (offset) {\n            var ctx = this._ctx;\n            if (offset <= 0)\n                return this;\n            ctx.offset += offset;\n            if (isPlainKeyRange(ctx)) {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function (cursor, advance) {\n                        if (offsetLeft === 0)\n                            return true;\n                        if (offsetLeft === 1) {\n                            --offsetLeft;\n                            return false;\n                        }\n                        advance(function () {\n                            cursor.advance(offsetLeft);\n                            offsetLeft = 0;\n                        });\n                        return false;\n                    };\n                });\n            }\n            else {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function () { return (--offsetLeft < 0); };\n                });\n            }\n            return this;\n        };\n        Collection.prototype.limit = function (numRows) {\n            this._ctx.limit = Math.min(this._ctx.limit, numRows);\n            addReplayFilter(this._ctx, function () {\n                var rowsLeft = numRows;\n                return function (cursor, advance, resolve) {\n                    if (--rowsLeft <= 0)\n                        advance(resolve);\n                    return rowsLeft >= 0;\n                };\n            }, true);\n            return this;\n        };\n        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {\n            addFilter(this._ctx, function (cursor, advance, resolve) {\n                if (filterFunction(cursor.value)) {\n                    advance(resolve);\n                    return bIncludeStopEntry;\n                }\n                else {\n                    return true;\n                }\n            });\n            return this;\n        };\n        Collection.prototype.first = function (cb) {\n            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.last = function (cb) {\n            return this.reverse().first(cb);\n        };\n        Collection.prototype.filter = function (filterFunction) {\n            addFilter(this._ctx, function (cursor) {\n                return filterFunction(cursor.value);\n            });\n            addMatchFilter(this._ctx, filterFunction);\n            return this;\n        };\n        Collection.prototype.and = function (filter) {\n            return this.filter(filter);\n        };\n        Collection.prototype.or = function (indexName) {\n            return new this.db.WhereClause(this._ctx.table, indexName, this);\n        };\n        Collection.prototype.reverse = function () {\n            this._ctx.dir = (this._ctx.dir === \"prev\" ? \"next\" : \"prev\");\n            if (this._ondirectionchange)\n                this._ondirectionchange(this._ctx.dir);\n            return this;\n        };\n        Collection.prototype.desc = function () {\n            return this.reverse();\n        };\n        Collection.prototype.eachKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.key, cursor); });\n        };\n        Collection.prototype.eachUniqueKey = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.eachKey(cb);\n        };\n        Collection.prototype.eachPrimaryKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });\n        };\n        Collection.prototype.keys = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.key);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.primaryKeys = function (cb) {\n            var ctx = this._ctx;\n            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                return this._read(function (trans) {\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        values: false,\n                        limit: ctx.limit,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    });\n                }).then(function (_a) {\n                    var result = _a.result;\n                    return result;\n                }).then(cb);\n            }\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.primaryKey);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.uniqueKeys = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.keys(cb);\n        };\n        Collection.prototype.firstKey = function (cb) {\n            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.lastKey = function (cb) {\n            return this.reverse().firstKey(cb);\n        };\n        Collection.prototype.distinct = function () {\n            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n            if (!idx || !idx.multi)\n                return this;\n            var set = {};\n            addFilter(this._ctx, function (cursor) {\n                var strKey = cursor.primaryKey.toString();\n                var found = hasOwn(set, strKey);\n                set[strKey] = true;\n                return !found;\n            });\n            return this;\n        };\n        Collection.prototype.modify = function (changes) {\n            var _this = this;\n            var ctx = this._ctx;\n            return this._write(function (trans) {\n                var modifyer;\n                if (typeof changes === 'function') {\n                    modifyer = changes;\n                }\n                else {\n                    modifyer = function (item) { return applyUpdateSpec(item, changes); };\n                }\n                var coreTable = ctx.table.core;\n                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;\n                var limit = 200;\n                var modifyChunkSize = _this.db._options.modifyChunkSize;\n                if (modifyChunkSize) {\n                    if (typeof modifyChunkSize == 'object') {\n                        limit = modifyChunkSize[coreTable.name] || modifyChunkSize['*'] || 200;\n                    }\n                    else {\n                        limit = modifyChunkSize;\n                    }\n                }\n                var totalFailures = [];\n                var successCount = 0;\n                var failedKeys = [];\n                var applyMutateResult = function (expectedCount, res) {\n                    var failures = res.failures, numFailures = res.numFailures;\n                    successCount += expectedCount - numFailures;\n                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {\n                        var pos = _a[_i];\n                        totalFailures.push(failures[pos]);\n                    }\n                };\n                var isUnconditionalDelete = changes === deleteCallback;\n                return _this.clone().primaryKeys().then(function (keys) {\n                    var criteria = isPlainKeyRange(ctx) &&\n                        ctx.limit === Infinity &&\n                        (typeof changes !== 'function' || isUnconditionalDelete) && {\n                        index: ctx.index,\n                        range: ctx.range\n                    };\n                    var nextChunk = function (offset) {\n                        var count = Math.min(limit, keys.length - offset);\n                        var keysInChunk = keys.slice(offset, offset + count);\n                        return (isUnconditionalDelete ? Promise.resolve([]) : coreTable.getMany({\n                            trans: trans,\n                            keys: keysInChunk,\n                            cache: \"immutable\"\n                        })).then(function (values) {\n                            var addValues = [];\n                            var putValues = [];\n                            var putKeys = outbound ? [] : null;\n                            var deleteKeys = isUnconditionalDelete ? keysInChunk : [];\n                            if (!isUnconditionalDelete)\n                                for (var i = 0; i < count; ++i) {\n                                    var origValue = values[i];\n                                    var ctx_1 = {\n                                        value: deepClone(origValue),\n                                        primKey: keys[offset + i]\n                                    };\n                                    if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {\n                                        if (ctx_1.value == null) {\n                                            deleteKeys.push(keys[offset + i]);\n                                        }\n                                        else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {\n                                            deleteKeys.push(keys[offset + i]);\n                                            addValues.push(ctx_1.value);\n                                        }\n                                        else {\n                                            putValues.push(ctx_1.value);\n                                            if (outbound)\n                                                putKeys.push(keys[offset + i]);\n                                        }\n                                    }\n                                }\n                            return Promise.resolve(addValues.length > 0 &&\n                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })\n                                    .then(function (res) {\n                                    for (var pos in res.failures) {\n                                        deleteKeys.splice(parseInt(pos), 1);\n                                    }\n                                    applyMutateResult(addValues.length, res);\n                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'put',\n                                    keys: putKeys,\n                                    values: putValues,\n                                    criteria: criteria,\n                                    changeSpec: typeof changes !== 'function'\n                                        && changes,\n                                    isAdditionalChunk: offset > 0\n                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && isUnconditionalDelete)) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'delete',\n                                    keys: deleteKeys,\n                                    criteria: criteria,\n                                    isAdditionalChunk: offset > 0\n                                }).then(function (res) { return builtInDeletionTrigger(ctx.table, deleteKeys, res); })\n                                    .then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {\n                                return keys.length > offset + count && nextChunk(offset + limit);\n                            });\n                        });\n                    };\n                    return nextChunk(0).then(function () {\n                        if (totalFailures.length > 0)\n                            throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n                        return keys.length;\n                    });\n                });\n            });\n        };\n        Collection.prototype.delete = function () {\n            var ctx = this._ctx, range = ctx.range;\n            if (isPlainKeyRange(ctx) &&\n                !ctx.table.schema.yProps &&\n                (ctx.isPrimKey || range.type === 3 ))\n             {\n                return this._write(function (trans) {\n                    var primaryKey = ctx.table.core.schema.primaryKey;\n                    var coreRange = range;\n                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {\n                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })\n                            .then(function (_a) {\n                            var failures = _a.failures, numFailures = _a.numFailures;\n                            if (numFailures)\n                                throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);\n                            return count - numFailures;\n                        });\n                    });\n                });\n            }\n            return this.modify(deleteCallback);\n        };\n        return Collection;\n    }());\n    var deleteCallback = function (value, ctx) { return ctx.value = null; };\n\n    function createCollectionConstructor(db) {\n        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {\n            this.db = db;\n            var keyRange = AnyRange, error = null;\n            if (keyRangeGenerator)\n                try {\n                    keyRange = keyRangeGenerator();\n                }\n                catch (ex) {\n                    error = ex;\n                }\n            var whereCtx = whereClause._ctx;\n            var table = whereCtx.table;\n            var readingHook = table.hook.reading.fire;\n            this._ctx = {\n                table: table,\n                index: whereCtx.index,\n                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),\n                range: keyRange,\n                keysOnly: false,\n                dir: \"next\",\n                unique: \"\",\n                algorithm: null,\n                filter: null,\n                replayFilter: null,\n                justLimit: true,\n                isMatch: null,\n                offset: 0,\n                limit: Infinity,\n                error: error,\n                or: whereCtx.or,\n                valueMapper: readingHook !== mirror ? readingHook : null\n            };\n        });\n    }\n\n    function simpleCompare(a, b) {\n        return a < b ? -1 : a === b ? 0 : 1;\n    }\n    function simpleCompareReverse(a, b) {\n        return a > b ? -1 : a === b ? 0 : 1;\n    }\n\n    function fail(collectionOrWhereClause, err, T) {\n        var collection = collectionOrWhereClause instanceof WhereClause ?\n            new collectionOrWhereClause.Collection(collectionOrWhereClause) :\n            collectionOrWhereClause;\n        collection._ctx.error = T ? new T(err) : new TypeError(err);\n        return collection;\n    }\n    function emptyCollection(whereClause) {\n        return new whereClause.Collection(whereClause, function () { return rangeEqual(\"\"); }).limit(0);\n    }\n    function upperFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toUpperCase(); } :\n            function (s) { return s.toLowerCase(); };\n    }\n    function lowerFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toLowerCase(); } :\n            function (s) { return s.toUpperCase(); };\n    }\n    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n        var length = Math.min(key.length, lowerNeedle.length);\n        var llp = -1;\n        for (var i = 0; i < length; ++i) {\n            var lwrKeyChar = lowerKey[i];\n            if (lwrKeyChar !== lowerNeedle[i]) {\n                if (cmp(key[i], upperNeedle[i]) < 0)\n                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n                if (cmp(key[i], lowerNeedle[i]) < 0)\n                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n                if (llp >= 0)\n                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n                return null;\n            }\n            if (cmp(key[i], lwrKeyChar) < 0)\n                llp = i;\n        }\n        if (length < lowerNeedle.length && dir === \"next\")\n            return key + upperNeedle.substr(key.length);\n        if (length < key.length && dir === \"prev\")\n            return key.substr(0, upperNeedle.length);\n        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));\n    }\n    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;\n        if (!needles.every(function (s) { return typeof s === 'string'; })) {\n            return fail(whereClause, STRING_EXPECTED);\n        }\n        function initDirection(dir) {\n            upper = upperFactory(dir);\n            lower = lowerFactory(dir);\n            compare = (dir === \"next\" ? simpleCompare : simpleCompareReverse);\n            var needleBounds = needles.map(function (needle) {\n                return { lower: lower(needle), upper: upper(needle) };\n            }).sort(function (a, b) {\n                return compare(a.lower, b.lower);\n            });\n            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });\n            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });\n            direction = dir;\n            nextKeySuffix = (dir === \"next\" ? \"\" : suffix);\n        }\n        initDirection(\"next\");\n        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });\n        c._ondirectionchange = function (direction) {\n            initDirection(direction);\n        };\n        var firstPossibleNeedle = 0;\n        c._addAlgorithm(function (cursor, advance, resolve) {\n            var key = cursor.key;\n            if (typeof key !== 'string')\n                return false;\n            var lowerKey = lower(key);\n            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n                return true;\n            }\n            else {\n                var lowestPossibleCasing = null;\n                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n                    if (casing === null && lowestPossibleCasing === null)\n                        firstPossibleNeedle = i + 1;\n                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n                        lowestPossibleCasing = casing;\n                    }\n                }\n                if (lowestPossibleCasing !== null) {\n                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });\n                }\n                else {\n                    advance(resolve);\n                }\n                return false;\n            }\n        });\n        return c;\n    }\n    function createRange(lower, upper, lowerOpen, upperOpen) {\n        return {\n            type: 2 ,\n            lower: lower,\n            upper: upper,\n            lowerOpen: lowerOpen,\n            upperOpen: upperOpen\n        };\n    }\n    function rangeEqual(value) {\n        return {\n            type: 1 ,\n            lower: value,\n            upper: value\n        };\n    }\n\n    var WhereClause =  (function () {\n        function WhereClause() {\n        }\n        Object.defineProperty(WhereClause.prototype, \"Collection\", {\n            get: function () {\n                return this._ctx.table.db.Collection;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {\n            includeLower = includeLower !== false;\n            includeUpper = includeUpper === true;\n            try {\n                if ((this._cmp(lower, upper) > 0) ||\n                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))\n                    return emptyCollection(this);\n                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n        };\n        WhereClause.prototype.equals = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return rangeEqual(value); });\n        };\n        WhereClause.prototype.above = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, true); });\n        };\n        WhereClause.prototype.aboveOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, false); });\n        };\n        WhereClause.prototype.below = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });\n        };\n        WhereClause.prototype.belowOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value); });\n        };\n        WhereClause.prototype.startsWith = function (str) {\n            if (typeof str !== 'string')\n                return fail(this, STRING_EXPECTED);\n            return this.between(str, str + maxString, true, true);\n        };\n        WhereClause.prototype.startsWithIgnoreCase = function (str) {\n            if (str === \"\")\n                return this.startsWith(str);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);\n        };\n        WhereClause.prototype.equalsIgnoreCase = function (str) {\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], \"\");\n        };\n        WhereClause.prototype.anyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, \"\");\n        };\n        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);\n        };\n        WhereClause.prototype.anyOf = function () {\n            var _this = this;\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            var compare = this._cmp;\n            try {\n                set.sort(compare);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });\n            c._ondirectionchange = function (direction) {\n                compare = (direction === \"next\" ?\n                    _this._ascending :\n                    _this._descending);\n                set.sort(compare);\n            };\n            var i = 0;\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (compare(key, set[i]) > 0) {\n                    ++i;\n                    if (i === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (compare(key, set[i]) === 0) {\n                    return true;\n                }\n                else {\n                    advance(function () { cursor.continue(set[i]); });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.notEqual = function (value) {\n            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.noneOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return new this.Collection(this);\n            try {\n                set.sort(this._ascending);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var ranges = set.reduce(function (res, val) { return res ?\n                res.concat([[res[res.length - 1][1], val]]) :\n                [[minKey, val]]; }, null);\n            ranges.push([set[set.length - 1], this.db._maxKey]);\n            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.inAnyRange = function (ranges, options) {\n            var _this = this;\n            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;\n            if (ranges.length === 0)\n                return emptyCollection(this);\n            if (!ranges.every(function (range) {\n                return range[0] !== undefined &&\n                    range[1] !== undefined &&\n                    ascending(range[0], range[1]) <= 0;\n            })) {\n                return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n            }\n            var includeLowers = !options || options.includeLowers !== false;\n            var includeUppers = options && options.includeUppers === true;\n            function addRange(ranges, newRange) {\n                var i = 0, l = ranges.length;\n                for (; i < l; ++i) {\n                    var range = ranges[i];\n                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n                        range[0] = min(range[0], newRange[0]);\n                        range[1] = max(range[1], newRange[1]);\n                        break;\n                    }\n                }\n                if (i === l)\n                    ranges.push(newRange);\n                return ranges;\n            }\n            var sortDirection = ascending;\n            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }\n            var set;\n            try {\n                set = ranges.reduce(addRange, []);\n                set.sort(rangeSorter);\n            }\n            catch (ex) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var rangePos = 0;\n            var keyIsBeyondCurrentEntry = includeUppers ?\n                function (key) { return ascending(key, set[rangePos][1]) > 0; } :\n                function (key) { return ascending(key, set[rangePos][1]) >= 0; };\n            var keyIsBeforeCurrentEntry = includeLowers ?\n                function (key) { return descending(key, set[rangePos][0]) > 0; } :\n                function (key) { return descending(key, set[rangePos][0]) >= 0; };\n            function keyWithinCurrentRange(key) {\n                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n            }\n            var checkKey = keyIsBeyondCurrentEntry;\n            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });\n            c._ondirectionchange = function (direction) {\n                if (direction === \"next\") {\n                    checkKey = keyIsBeyondCurrentEntry;\n                    sortDirection = ascending;\n                }\n                else {\n                    checkKey = keyIsBeforeCurrentEntry;\n                    sortDirection = descending;\n                }\n                set.sort(rangeSorter);\n            };\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (checkKey(key)) {\n                    ++rangePos;\n                    if (rangePos === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (keyWithinCurrentRange(key)) {\n                    return true;\n                }\n                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {\n                    return false;\n                }\n                else {\n                    advance(function () {\n                        if (sortDirection === ascending)\n                            cursor.continue(set[rangePos][0]);\n                        else\n                            cursor.continue(set[rangePos][1]);\n                    });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.startsWithAnyOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (!set.every(function (s) { return typeof s === 'string'; })) {\n                return fail(this, \"startsWithAnyOf() only works with strings\");\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));\n        };\n        return WhereClause;\n    }());\n\n    function createWhereClauseConstructor(db) {\n        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {\n            this.db = db;\n            this._ctx = {\n                table: table,\n                index: index === \":id\" ? null : index,\n                or: orCollection\n            };\n            this._cmp = this._ascending = cmp;\n            this._descending = function (a, b) { return cmp(b, a); };\n            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };\n            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };\n            this._IDBKeyRange = db._deps.IDBKeyRange;\n            if (!this._IDBKeyRange)\n                throw new exceptions.MissingAPI();\n        });\n    }\n\n    function eventRejectHandler(reject) {\n        return wrap(function (event) {\n            preventDefault(event);\n            reject(event.target.error);\n            return false;\n        });\n    }\n    function preventDefault(event) {\n        if (event.stopPropagation)\n            event.stopPropagation();\n        if (event.preventDefault)\n            event.preventDefault();\n    }\n\n    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';\n    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';\n    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);\n\n    var Transaction =  (function () {\n        function Transaction() {\n        }\n        Transaction.prototype._lock = function () {\n            assert(!PSD.global);\n            ++this._reculock;\n            if (this._reculock === 1 && !PSD.global)\n                PSD.lockOwnerFor = this;\n            return this;\n        };\n        Transaction.prototype._unlock = function () {\n            assert(!PSD.global);\n            if (--this._reculock === 0) {\n                if (!PSD.global)\n                    PSD.lockOwnerFor = null;\n                while (this._blockedFuncs.length > 0 && !this._locked()) {\n                    var fnAndPSD = this._blockedFuncs.shift();\n                    try {\n                        usePSD(fnAndPSD[1], fnAndPSD[0]);\n                    }\n                    catch (e) { }\n                }\n            }\n            return this;\n        };\n        Transaction.prototype._locked = function () {\n            return this._reculock && PSD.lockOwnerFor !== this;\n        };\n        Transaction.prototype.create = function (idbtrans) {\n            var _this = this;\n            if (!this.mode)\n                return this;\n            var idbdb = this.db.idbdb;\n            var dbOpenError = this.db._state.dbOpenError;\n            assert(!this.idbtrans);\n            if (!idbtrans && !idbdb) {\n                switch (dbOpenError && dbOpenError.name) {\n                    case \"DatabaseClosedError\":\n                        throw new exceptions.DatabaseClosed(dbOpenError);\n                    case \"MissingAPIError\":\n                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n                    default:\n                        throw new exceptions.OpenFailed(dbOpenError);\n                }\n            }\n            if (!this.active)\n                throw new exceptions.TransactionInactive();\n            assert(this._completion._state === null);\n            idbtrans = this.idbtrans = idbtrans ||\n                (this.db.core\n                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })\n                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));\n            idbtrans.onerror = wrap(function (ev) {\n                preventDefault(ev);\n                _this._reject(idbtrans.error);\n            });\n            idbtrans.onabort = wrap(function (ev) {\n                preventDefault(ev);\n                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n                _this.active = false;\n                _this.on(\"abort\").fire(ev);\n            });\n            idbtrans.oncomplete = wrap(function () {\n                _this.active = false;\n                _this._resolve();\n                if ('mutatedParts' in idbtrans) {\n                    globalEvents.storagemutated.fire(idbtrans[\"mutatedParts\"]);\n                }\n            });\n            return this;\n        };\n        Transaction.prototype._promise = function (mode, fn, bWriteLock) {\n            var _this = this;\n            if (mode === 'readwrite' && this.mode !== 'readwrite')\n                return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n            if (!this.active)\n                return rejection(new exceptions.TransactionInactive());\n            if (this._locked()) {\n                return new DexiePromise(function (resolve, reject) {\n                    _this._blockedFuncs.push([function () {\n                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n                        }, PSD]);\n                });\n            }\n            else if (bWriteLock) {\n                return newScope(function () {\n                    var p = new DexiePromise(function (resolve, reject) {\n                        _this._lock();\n                        var rv = fn(resolve, reject, _this);\n                        if (rv && rv.then)\n                            rv.then(resolve, reject);\n                    });\n                    p.finally(function () { return _this._unlock(); });\n                    p._lib = true;\n                    return p;\n                });\n            }\n            else {\n                var p = new DexiePromise(function (resolve, reject) {\n                    var rv = fn(resolve, reject, _this);\n                    if (rv && rv.then)\n                        rv.then(resolve, reject);\n                });\n                p._lib = true;\n                return p;\n            }\n        };\n        Transaction.prototype._root = function () {\n            return this.parent ? this.parent._root() : this;\n        };\n        Transaction.prototype.waitFor = function (promiseLike) {\n            var root = this._root();\n            var promise = DexiePromise.resolve(promiseLike);\n            if (root._waitingFor) {\n                root._waitingFor = root._waitingFor.then(function () { return promise; });\n            }\n            else {\n                root._waitingFor = promise;\n                root._waitingQueue = [];\n                var store = root.idbtrans.objectStore(root.storeNames[0]);\n                (function spin() {\n                    ++root._spinCount;\n                    while (root._waitingQueue.length)\n                        (root._waitingQueue.shift())();\n                    if (root._waitingFor)\n                        store.get(-Infinity).onsuccess = spin;\n                }());\n            }\n            var currentWaitPromise = root._waitingFor;\n            return new DexiePromise(function (resolve, reject) {\n                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {\n                    if (root._waitingFor === currentWaitPromise) {\n                        root._waitingFor = null;\n                    }\n                });\n            });\n        };\n        Transaction.prototype.abort = function () {\n            if (this.active) {\n                this.active = false;\n                if (this.idbtrans)\n                    this.idbtrans.abort();\n                this._reject(new exceptions.Abort());\n            }\n        };\n        Transaction.prototype.table = function (tableName) {\n            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));\n            if (hasOwn(memoizedTables, tableName))\n                return memoizedTables[tableName];\n            var tableSchema = this.schema[tableName];\n            if (!tableSchema) {\n                throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n            }\n            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n            transactionBoundTable.core = this.db.core.table(tableName);\n            memoizedTables[tableName] = transactionBoundTable;\n            return transactionBoundTable;\n        };\n        return Transaction;\n    }());\n\n    function createTransactionConstructor(db) {\n        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {\n            var _this = this;\n            if (mode !== 'readonly')\n                storeNames.forEach(function (storeName) {\n                    var _a;\n                    var yProps = (_a = dbschema[storeName]) === null || _a === void 0 ? void 0 : _a.yProps;\n                    if (yProps)\n                        storeNames = storeNames.concat(yProps.map(function (p) { return p.updatesTable; }));\n                });\n            this.db = db;\n            this.mode = mode;\n            this.storeNames = storeNames;\n            this.schema = dbschema;\n            this.chromeTransactionDurability = chromeTransactionDurability;\n            this.idbtrans = null;\n            this.on = Events(this, \"complete\", \"error\", \"abort\");\n            this.parent = parent || null;\n            this.active = true;\n            this._reculock = 0;\n            this._blockedFuncs = [];\n            this._resolve = null;\n            this._reject = null;\n            this._waitingFor = null;\n            this._waitingQueue = null;\n            this._spinCount = 0;\n            this._completion = new DexiePromise(function (resolve, reject) {\n                _this._resolve = resolve;\n                _this._reject = reject;\n            });\n            this._completion.then(function () {\n                _this.active = false;\n                _this.on.complete.fire();\n            }, function (e) {\n                var wasActive = _this.active;\n                _this.active = false;\n                _this.on.error.fire(e);\n                _this.parent ?\n                    _this.parent._reject(e) :\n                    wasActive && _this.idbtrans && _this.idbtrans.abort();\n                return rejection(e);\n            });\n        });\n    }\n\n    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey, type) {\n        return {\n            name: name,\n            keyPath: keyPath,\n            unique: unique,\n            multi: multi,\n            auto: auto,\n            compound: compound,\n            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath),\n            type: type\n        };\n    }\n    function nameFromKeyPath(keyPath) {\n        return typeof keyPath === 'string' ?\n            keyPath :\n            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : \"\";\n    }\n\n    function createTableSchema(name, primKey, indexes) {\n        return {\n            name: name,\n            primKey: primKey,\n            indexes: indexes,\n            mappedClass: null,\n            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; }),\n        };\n    }\n\n    function safariMultiStoreFix(storeNames) {\n        return storeNames.length === 1 ? storeNames[0] : storeNames;\n    }\n    var getMaxKey = function (IdbKeyRange) {\n        try {\n            IdbKeyRange.only([[]]);\n            getMaxKey = function () { return [[]]; };\n            return [[]];\n        }\n        catch (e) {\n            getMaxKey = function () { return maxString; };\n            return maxString;\n        }\n    };\n\n    function getKeyExtractor(keyPath) {\n        if (keyPath == null) {\n            return function () { return undefined; };\n        }\n        else if (typeof keyPath === 'string') {\n            return getSinglePathKeyExtractor(keyPath);\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n    function getSinglePathKeyExtractor(keyPath) {\n        var split = keyPath.split('.');\n        if (split.length === 1) {\n            return function (obj) { return obj[keyPath]; };\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n\n    function arrayify(arrayLike) {\n        return [].slice.call(arrayLike);\n    }\n    var _id_counter = 0;\n    function getKeyPathAlias(keyPath) {\n        return keyPath == null ?\n            \":id\" :\n            typeof keyPath === 'string' ?\n                keyPath :\n                \"[\".concat(keyPath.join('+'), \"]\");\n    }\n    function createDBCore(db, IdbKeyRange, tmpTrans) {\n        function extractSchema(db, trans) {\n            var tables = arrayify(db.objectStoreNames);\n            return {\n                schema: {\n                    name: db.name,\n                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {\n                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;\n                        var compound = isArray(keyPath);\n                        var outbound = keyPath == null;\n                        var indexByKeyPath = {};\n                        var result = {\n                            name: store.name,\n                            primaryKey: {\n                                name: null,\n                                isPrimaryKey: true,\n                                outbound: outbound,\n                                compound: compound,\n                                keyPath: keyPath,\n                                autoIncrement: autoIncrement,\n                                unique: true,\n                                extractKey: getKeyExtractor(keyPath)\n                            },\n                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })\n                                .map(function (index) {\n                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;\n                                var compound = isArray(keyPath);\n                                var result = {\n                                    name: name,\n                                    compound: compound,\n                                    keyPath: keyPath,\n                                    unique: unique,\n                                    multiEntry: multiEntry,\n                                    extractKey: getKeyExtractor(keyPath)\n                                };\n                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n                                return result;\n                            }),\n                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }\n                        };\n                        indexByKeyPath[\":id\"] = result.primaryKey;\n                        if (keyPath != null) {\n                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n                        }\n                        return result;\n                    })\n                },\n                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&\n                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n                        !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n                        [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n            };\n        }\n        function makeIDBKeyRange(range) {\n            if (range.type === 3 )\n                return null;\n            if (range.type === 4 )\n                throw new Error(\"Cannot convert never type to IDBKeyRange\");\n            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;\n            var idbRange = lower === undefined ?\n                upper === undefined ?\n                    null :\n                    IdbKeyRange.upperBound(upper, !!upperOpen) :\n                upper === undefined ?\n                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :\n                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n            return idbRange;\n        }\n        function createDbCoreTable(tableSchema) {\n            var tableName = tableSchema.name;\n            function mutate(_a) {\n                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var store = trans.objectStore(tableName);\n                    var outbound = store.keyPath == null;\n                    var isAddOrPut = type === \"put\" || type === \"add\";\n                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')\n                        throw new Error(\"Invalid operation type: \" + type);\n                    var length = (keys || values || { length: 1 }).length;\n                    if (keys && values && keys.length !== values.length) {\n                        throw new Error(\"Given keys array must have same length as given values array.\");\n                    }\n                    if (length === 0)\n                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });\n                    var req;\n                    var reqs = [];\n                    var failures = [];\n                    var numFailures = 0;\n                    var errorHandler = function (event) {\n                        ++numFailures;\n                        preventDefault(event);\n                    };\n                    if (type === 'deleteRange') {\n                        if (range.type === 4 )\n                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });\n                        if (range.type === 3 )\n                            reqs.push(req = store.clear());\n                        else\n                            reqs.push(req = store.delete(makeIDBKeyRange(range)));\n                    }\n                    else {\n                        var _a = isAddOrPut ?\n                            outbound ?\n                                [values, keys] :\n                                [values, null] :\n                            [keys, null], args1 = _a[0], args2 = _a[1];\n                        if (isAddOrPut) {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = (args2 && args2[i] !== undefined ?\n                                    store[type](args1[i], args2[i]) :\n                                    store[type](args1[i])));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                        else {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = store[type](args1[i]));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                    }\n                    var done = function (event) {\n                        var lastResult = event.target.result;\n                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });\n                        resolve({\n                            numFailures: numFailures,\n                            failures: failures,\n                            results: type === \"delete\" ? keys : reqs.map(function (req) { return req.result; }),\n                            lastResult: lastResult\n                        });\n                    };\n                    req.onerror = function (event) {\n                        errorHandler(event);\n                        done(event);\n                    };\n                    req.onsuccess = done;\n                });\n            }\n            function openCursor(_a) {\n                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var index = query.index, range = query.range;\n                    var store = trans.objectStore(tableName);\n                    var source = index.isPrimaryKey ?\n                        store :\n                        store.index(index.name);\n                    var direction = reverse ?\n                        unique ?\n                            \"prevunique\" :\n                            \"prev\" :\n                        unique ?\n                            \"nextunique\" :\n                            \"next\";\n                    var req = values || !('openKeyCursor' in source) ?\n                        source.openCursor(makeIDBKeyRange(range), direction) :\n                        source.openKeyCursor(makeIDBKeyRange(range), direction);\n                    req.onerror = eventRejectHandler(reject);\n                    req.onsuccess = wrap(function (ev) {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            resolve(null);\n                            return;\n                        }\n                        cursor.___id = ++_id_counter;\n                        cursor.done = false;\n                        var _cursorContinue = cursor.continue.bind(cursor);\n                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n                        if (_cursorContinuePrimaryKey)\n                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n                        var _cursorAdvance = cursor.advance.bind(cursor);\n                        var doThrowCursorIsNotStarted = function () { throw new Error(\"Cursor not started\"); };\n                        var doThrowCursorIsStopped = function () { throw new Error(\"Cursor not stopped\"); };\n                        cursor.trans = trans;\n                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n                        cursor.fail = wrap(reject);\n                        cursor.next = function () {\n                            var _this = this;\n                            var gotOne = 1;\n                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });\n                        };\n                        cursor.start = function (callback) {\n                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {\n                                resolveIteration = wrap(resolveIteration);\n                                req.onerror = eventRejectHandler(rejectIteration);\n                                cursor.fail = rejectIteration;\n                                cursor.stop = function (value) {\n                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                                    resolveIteration(value);\n                                };\n                            });\n                            var guardedCallback = function () {\n                                if (req.result) {\n                                    try {\n                                        callback();\n                                    }\n                                    catch (err) {\n                                        cursor.fail(err);\n                                    }\n                                }\n                                else {\n                                    cursor.done = true;\n                                    cursor.start = function () { throw new Error(\"Cursor behind last entry\"); };\n                                    cursor.stop();\n                                }\n                            };\n                            req.onsuccess = wrap(function (ev) {\n                                req.onsuccess = guardedCallback;\n                                guardedCallback();\n                            });\n                            cursor.continue = _cursorContinue;\n                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n                            cursor.advance = _cursorAdvance;\n                            guardedCallback();\n                            return iterationPromise;\n                        };\n                        resolve(cursor);\n                    }, reject);\n                });\n            }\n            function query(hasGetAll) {\n                return function (request) {\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;\n                        var nonInfinitLimit = limit === Infinity ? undefined : limit;\n                        var index = query.index, range = query.range;\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        if (limit === 0)\n                            return resolve({ result: [] });\n                        if (hasGetAll) {\n                            var req = values ?\n                                source.getAll(idbKeyRange, nonInfinitLimit) :\n                                source.getAllKeys(idbKeyRange, nonInfinitLimit);\n                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };\n                            req.onerror = eventRejectHandler(reject);\n                        }\n                        else {\n                            var count_1 = 0;\n                            var req_1 = values || !('openKeyCursor' in source) ?\n                                source.openCursor(idbKeyRange) :\n                                source.openKeyCursor(idbKeyRange);\n                            var result_1 = [];\n                            req_1.onsuccess = function (event) {\n                                var cursor = req_1.result;\n                                if (!cursor)\n                                    return resolve({ result: result_1 });\n                                result_1.push(values ? cursor.value : cursor.primaryKey);\n                                if (++count_1 === limit)\n                                    return resolve({ result: result_1 });\n                                cursor.continue();\n                            };\n                            req_1.onerror = eventRejectHandler(reject);\n                        }\n                    });\n                };\n            }\n            return {\n                name: tableName,\n                schema: tableSchema,\n                mutate: mutate,\n                getMany: function (_a) {\n                    var trans = _a.trans, keys = _a.keys;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var length = keys.length;\n                        var result = new Array(length);\n                        var keyCount = 0;\n                        var callbackCount = 0;\n                        var req;\n                        var successHandler = function (event) {\n                            var req = event.target;\n                            if ((result[req._pos] = req.result) != null)\n                                ;\n                            if (++callbackCount === keyCount)\n                                resolve(result);\n                        };\n                        var errorHandler = eventRejectHandler(reject);\n                        for (var i = 0; i < length; ++i) {\n                            var key = keys[i];\n                            if (key != null) {\n                                req = store.get(keys[i]);\n                                req._pos = i;\n                                req.onsuccess = successHandler;\n                                req.onerror = errorHandler;\n                                ++keyCount;\n                            }\n                        }\n                        if (keyCount === 0)\n                            resolve(result);\n                    });\n                },\n                get: function (_a) {\n                    var trans = _a.trans, key = _a.key;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var req = store.get(key);\n                        req.onsuccess = function (event) { return resolve(event.target.result); };\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                },\n                query: query(hasGetAll),\n                openCursor: openCursor,\n                count: function (_a) {\n                    var query = _a.query, trans = _a.trans;\n                    var index = query.index, range = query.range;\n                    return new Promise(function (resolve, reject) {\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                }\n            };\n        }\n        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;\n        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });\n        var tableMap = {};\n        tables.forEach(function (table) { return tableMap[table.name] = table; });\n        return {\n            stack: \"dbcore\",\n            transaction: db.transaction.bind(db),\n            table: function (name) {\n                var result = tableMap[name];\n                if (!result)\n                    throw new Error(\"Table '\".concat(name, \"' not found\"));\n                return tableMap[name];\n            },\n            MIN_KEY: -Infinity,\n            MAX_KEY: getMaxKey(IdbKeyRange),\n            schema: schema\n        };\n    }\n\n    function createMiddlewareStack(stackImpl, middlewares) {\n        return middlewares.reduce(function (down, _a) {\n            var create = _a.create;\n            return (__assign(__assign({}, down), create(down)));\n        }, stackImpl);\n    }\n    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {\n        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;\n        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);\n        return {\n            dbcore: dbcore\n        };\n    }\n    function generateMiddlewareStacks(db, tmpTrans) {\n        var idbdb = tmpTrans.db;\n        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n        db.core = stacks.dbcore;\n        db.tables.forEach(function (table) {\n            var tableName = table.name;\n            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {\n                table.core = db.core.table(tableName);\n                if (db[tableName] instanceof db.Table) {\n                    db[tableName].core = table.core;\n                }\n            }\n        });\n    }\n\n    function setApiOnPlace(db, objs, tableNames, dbschema) {\n        tableNames.forEach(function (tableName) {\n            var schema = dbschema[tableName];\n            objs.forEach(function (obj) {\n                var propDesc = getPropertyDescriptor(obj, tableName);\n                if (!propDesc || (\"value\" in propDesc && propDesc.value === undefined)) {\n                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n                        setProp(obj, tableName, {\n                            get: function () { return this.table(tableName); },\n                            set: function (value) {\n                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });\n                            }\n                        });\n                    }\n                    else {\n                        obj[tableName] = new db.Table(tableName, schema);\n                    }\n                }\n            });\n        });\n    }\n    function removeTablesApi(db, objs) {\n        objs.forEach(function (obj) {\n            for (var key in obj) {\n                if (obj[key] instanceof db.Table)\n                    delete obj[key];\n            }\n        });\n    }\n    function lowerVersionFirst(a, b) {\n        return a._cfg.version - b._cfg.version;\n    }\n    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n        var globalSchema = db._dbSchema;\n        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {\n            globalSchema.$meta = createTableSchema(\"$meta\", parseIndexSyntax(\"\")[0], []);\n            db._storeNames.push('$meta');\n        }\n        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n        trans.create(idbUpgradeTrans);\n        trans._completion.catch(reject);\n        var rejectTransaction = trans._reject.bind(trans);\n        var transless = PSD.transless || PSD;\n        newScope(function () {\n            PSD.trans = trans;\n            PSD.transless = transless;\n            if (oldVersion === 0) {\n                keys(globalSchema).forEach(function (tableName) {\n                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n                });\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);\n            }\n            else {\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                return getExistingVersion(db, trans, oldVersion)\n                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })\n                    .catch(rejectTransaction);\n            }\n        });\n    }\n    function patchCurrentVersion(db, idbUpgradeTrans) {\n        createMissingTables(db._dbSchema, idbUpgradeTrans);\n        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {\n            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');\n        }\n        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);\n        var diff = getSchemaDiff(globalSchema, db._dbSchema);\n        var _loop_1 = function (tableChange) {\n            if (tableChange.change.length || tableChange.recreate) {\n                console.warn(\"Unable to patch indexes of table \".concat(tableChange.name, \" because it has changes on the type of index or primary key.\"));\n                return { value: void 0 };\n            }\n            var store = idbUpgradeTrans.objectStore(tableChange.name);\n            tableChange.add.forEach(function (idx) {\n                if (debug)\n                    console.debug(\"Dexie upgrade patch: Creating missing index \".concat(tableChange.name, \".\").concat(idx.src));\n                addIndex(store, idx);\n            });\n        };\n        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {\n            var tableChange = _a[_i];\n            var state_1 = _loop_1(tableChange);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    }\n    function getExistingVersion(db, trans, oldVersion) {\n        if (trans.storeNames.includes('$meta')) {\n            return trans.table('$meta').get('version').then(function (metaVersion) {\n                return metaVersion != null ? metaVersion : oldVersion;\n            });\n        }\n        else {\n            return DexiePromise.resolve(oldVersion);\n        }\n    }\n    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {\n        var queue = [];\n        var versions = db._versions;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });\n        if (versToRun.length === 0) {\n            return DexiePromise.resolve();\n        }\n        versToRun.forEach(function (version) {\n            queue.push(function () {\n                var oldSchema = globalSchema;\n                var newSchema = version._cfg.dbschema;\n                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n                globalSchema = db._dbSchema = newSchema;\n                var diff = getSchemaDiff(oldSchema, newSchema);\n                diff.add.forEach(function (tuple) {\n                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n                });\n                diff.change.forEach(function (change) {\n                    if (change.recreate) {\n                        throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n                    }\n                    else {\n                        var store_1 = idbUpgradeTrans.objectStore(change.name);\n                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });\n                        change.change.forEach(function (idx) {\n                            store_1.deleteIndex(idx.name);\n                            addIndex(store_1, idx);\n                        });\n                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });\n                    }\n                });\n                var contentUpgrade = version._cfg.contentUpgrade;\n                if (contentUpgrade && version._cfg.version > oldVersion) {\n                    generateMiddlewareStacks(db, idbUpgradeTrans);\n                    trans._memoizedTables = {};\n                    var upgradeSchema_1 = shallowClone(newSchema);\n                    diff.del.forEach(function (table) {\n                        upgradeSchema_1[table] = oldSchema[table];\n                    });\n                    removeTablesApi(db, [db.Transaction.prototype]);\n                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);\n                    trans.schema = upgradeSchema_1;\n                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);\n                    if (contentUpgradeIsAsync_1) {\n                        incrementExpectedAwaits();\n                    }\n                    var returnValue_1;\n                    var promiseFollowed = DexiePromise.follow(function () {\n                        returnValue_1 = contentUpgrade(trans);\n                        if (returnValue_1) {\n                            if (contentUpgradeIsAsync_1) {\n                                var decrementor = decrementExpectedAwaits.bind(null, null);\n                                returnValue_1.then(decrementor, decrementor);\n                            }\n                        }\n                    });\n                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?\n                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));\n                }\n            });\n            queue.push(function (idbtrans) {\n                var newSchema = version._cfg.dbschema;\n                deleteRemovedTables(newSchema, idbtrans);\n                removeTablesApi(db, [db.Transaction.prototype]);\n                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n                trans.schema = db._dbSchema;\n            });\n            queue.push(function (idbtrans) {\n                if (db.idbdb.objectStoreNames.contains('$meta')) {\n                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {\n                        db.idbdb.deleteObjectStore('$meta');\n                        delete db._dbSchema.$meta;\n                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });\n                    }\n                    else {\n                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');\n                    }\n                }\n            });\n        });\n        function runQueue() {\n            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :\n                DexiePromise.resolve();\n        }\n        return runQueue().then(function () {\n            createMissingTables(globalSchema, idbUpgradeTrans);\n        });\n    }\n    function getSchemaDiff(oldSchema, newSchema) {\n        var diff = {\n            del: [],\n            add: [],\n            change: []\n        };\n        var table;\n        for (table in oldSchema) {\n            if (!newSchema[table])\n                diff.del.push(table);\n        }\n        for (table in newSchema) {\n            var oldDef = oldSchema[table], newDef = newSchema[table];\n            if (!oldDef) {\n                diff.add.push([table, newDef]);\n            }\n            else {\n                var change = {\n                    name: table,\n                    def: newDef,\n                    recreate: false,\n                    del: [],\n                    add: [],\n                    change: []\n                };\n                if ((\n                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||\n                    (oldDef.primKey.auto !== newDef.primKey.auto)) {\n                    change.recreate = true;\n                    diff.change.push(change);\n                }\n                else {\n                    var oldIndexes = oldDef.idxByName;\n                    var newIndexes = newDef.idxByName;\n                    var idxName = void 0;\n                    for (idxName in oldIndexes) {\n                        if (!newIndexes[idxName])\n                            change.del.push(idxName);\n                    }\n                    for (idxName in newIndexes) {\n                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];\n                        if (!oldIdx)\n                            change.add.push(newIdx);\n                        else if (oldIdx.src !== newIdx.src)\n                            change.change.push(newIdx);\n                    }\n                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n                        diff.change.push(change);\n                    }\n                }\n            }\n        }\n        return diff;\n    }\n    function createTable(idbtrans, tableName, primKey, indexes) {\n        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?\n            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :\n            { autoIncrement: primKey.auto });\n        indexes.forEach(function (idx) { return addIndex(store, idx); });\n        return store;\n    }\n    function createMissingTables(newSchema, idbtrans) {\n        keys(newSchema).forEach(function (tableName) {\n            if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n                if (debug)\n                    console.debug('Dexie: Creating missing table', tableName);\n                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n            }\n        });\n    }\n    function deleteRemovedTables(newSchema, idbtrans) {\n        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {\n            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);\n        });\n    }\n    function addIndex(store, idx) {\n        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });\n    }\n    function buildGlobalSchema(db, idbdb, tmpTrans) {\n        var globalSchema = {};\n        var dbStoreNames = slice(idbdb.objectStoreNames, 0);\n        dbStoreNames.forEach(function (storeName) {\n            var store = tmpTrans.objectStore(storeName);\n            var keyPath = store.keyPath;\n            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n            var indexes = [];\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var idbindex = store.index(store.indexNames[j]);\n                keyPath = idbindex.keyPath;\n                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n                indexes.push(index);\n            }\n            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n        });\n        return globalSchema;\n    }\n    function readGlobalSchema(db, idbdb, tmpTrans) {\n        db.verno = idbdb.version / 10;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n        db._storeNames = slice(idbdb.objectStoreNames, 0);\n        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n    }\n    function verifyInstalledSchema(db, tmpTrans) {\n        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n        var diff = getSchemaDiff(installedSchema, db._dbSchema);\n        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));\n    }\n    function adjustToExistingIndexNames(db, schema, idbtrans) {\n        var storeNames = idbtrans.db.objectStoreNames;\n        for (var i = 0; i < storeNames.length; ++i) {\n            var storeName = storeNames[i];\n            var store = idbtrans.objectStore(storeName);\n            db._hasGetAll = 'getAll' in store;\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var indexName = store.indexNames[j];\n                var keyPath = store.index(indexName).keyPath;\n                var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n                if (schema[storeName]) {\n                    var indexSpec = schema[storeName].idxByName[dexieName];\n                    if (indexSpec) {\n                        indexSpec.name = indexName;\n                        delete schema[storeName].idxByName[dexieName];\n                        schema[storeName].idxByName[indexName] = indexSpec;\n                    }\n                }\n            }\n        }\n        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n            !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&\n            [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n            db._hasGetAll = false;\n        }\n    }\n    function parseIndexSyntax(primKeyAndIndexes) {\n        return primKeyAndIndexes.split(',').map(function (index, indexNum) {\n            var _a;\n            var typeSplit = index.split(':');\n            var type = (_a = typeSplit[1]) === null || _a === void 0 ? void 0 : _a.trim();\n            index = typeSplit[0].trim();\n            var name = index.replace(/([&*]|\\+\\+)/g, \"\");\n            var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n            return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0, type);\n        });\n    }\n\n    var Version =  (function () {\n        function Version() {\n        }\n        Version.prototype._createTableSchema = function (name, primKey, indexes) {\n            return createTableSchema(name, primKey, indexes);\n        };\n        Version.prototype._parseIndexSyntax = function (primKeyAndIndexes) {\n            return parseIndexSyntax(primKeyAndIndexes);\n        };\n        Version.prototype._parseStoresSpec = function (stores, outSchema) {\n            var _this = this;\n            keys(stores).forEach(function (tableName) {\n                if (stores[tableName] !== null) {\n                    var indexes = _this._parseIndexSyntax(stores[tableName]);\n                    var primKey = indexes.shift();\n                    if (!primKey) {\n                        throw new exceptions.Schema('Invalid schema for table ' + tableName + ': ' + stores[tableName]);\n                    }\n                    primKey.unique = true;\n                    if (primKey.multi)\n                        throw new exceptions.Schema('Primary key cannot be multiEntry*');\n                    indexes.forEach(function (idx) {\n                        if (idx.auto)\n                            throw new exceptions.Schema('Only primary key can be marked as autoIncrement (++)');\n                        if (!idx.keyPath)\n                            throw new exceptions.Schema('Index must have a name and cannot be an empty string');\n                    });\n                    var tblSchema = _this._createTableSchema(tableName, primKey, indexes);\n                    outSchema[tableName] = tblSchema;\n                }\n            });\n        };\n        Version.prototype.stores = function (stores) {\n            var db = this.db;\n            this._cfg.storesSource = this._cfg.storesSource\n                ? extend(this._cfg.storesSource, stores)\n                : stores;\n            var versions = db._versions;\n            var storesSpec = {};\n            var dbschema = {};\n            versions.forEach(function (version) {\n                extend(storesSpec, version._cfg.storesSource);\n                dbschema = version._cfg.dbschema = {};\n                version._parseStoresSpec(storesSpec, dbschema);\n            });\n            db._dbSchema = dbschema;\n            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n            db._storeNames = keys(dbschema);\n            return this;\n        };\n        Version.prototype.upgrade = function (upgradeFunction) {\n            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);\n            return this;\n        };\n        return Version;\n    }());\n\n    function createVersionConstructor(db) {\n        return makeClassConstructor(Version.prototype, function Version(versionNumber) {\n            this.db = db;\n            this._cfg = {\n                version: versionNumber,\n                storesSource: null,\n                dbschema: {},\n                tables: {},\n                contentUpgrade: null\n            };\n        });\n    }\n\n    function getDbNamesTable(indexedDB, IDBKeyRange) {\n        var dbNamesDB = indexedDB[\"_dbNamesDB\"];\n        if (!dbNamesDB) {\n            dbNamesDB = indexedDB[\"_dbNamesDB\"] = new Dexie$1(DBNAMES_DB, {\n                addons: [],\n                indexedDB: indexedDB,\n                IDBKeyRange: IDBKeyRange,\n            });\n            dbNamesDB.version(1).stores({ dbnames: \"name\" });\n        }\n        return dbNamesDB.table(\"dbnames\");\n    }\n    function hasDatabasesNative(indexedDB) {\n        return indexedDB && typeof indexedDB.databases === \"function\";\n    }\n    function getDatabaseNames(_a) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        return hasDatabasesNative(indexedDB)\n            ? Promise.resolve(indexedDB.databases()).then(function (infos) {\n                return infos\n                    .map(function (info) { return info.name; })\n                    .filter(function (name) { return name !== DBNAMES_DB; });\n            })\n            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();\n    }\n    function _onDatabaseCreated(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);\n    }\n    function _onDatabaseDeleted(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);\n    }\n\n    function vip(fn) {\n        return newScope(function () {\n            PSD.letThrough = true;\n            return fn();\n        });\n    }\n\n    function idbReady() {\n        var isSafari = !navigator.userAgentData &&\n            /Safari\\//.test(navigator.userAgent) &&\n            !/Chrom(e|ium)\\//.test(navigator.userAgent);\n        if (!isSafari || !indexedDB.databases)\n            return Promise.resolve();\n        var intervalId;\n        return new Promise(function (resolve) {\n            var tryIdb = function () { return indexedDB.databases().finally(resolve); };\n            intervalId = setInterval(tryIdb, 100);\n            tryIdb();\n        }).finally(function () { return clearInterval(intervalId); });\n    }\n\n    var _a;\n    function isEmptyRange(node) {\n        return !(\"from\" in node);\n    }\n    var RangeSet = function (fromOrTree, to) {\n        if (this) {\n            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });\n        }\n        else {\n            var rv = new RangeSet();\n            if (fromOrTree && (\"d\" in fromOrTree)) {\n                extend(rv, fromOrTree);\n            }\n            return rv;\n        }\n    };\n    props(RangeSet.prototype, (_a = {\n            add: function (rangeSet) {\n                mergeRanges(this, rangeSet);\n                return this;\n            },\n            addKey: function (key) {\n                addRange(this, key, key);\n                return this;\n            },\n            addKeys: function (keys) {\n                var _this = this;\n                keys.forEach(function (key) { return addRange(_this, key, key); });\n                return this;\n            },\n            hasKey: function (key) {\n                var node = getRangeSetIterator(this).next(key).value;\n                return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;\n            }\n        },\n        _a[iteratorSymbol] = function () {\n            return getRangeSetIterator(this);\n        },\n        _a));\n    function addRange(target, from, to) {\n        var diff = cmp(from, to);\n        if (isNaN(diff))\n            return;\n        if (diff > 0)\n            throw RangeError();\n        if (isEmptyRange(target))\n            return extend(target, { from: from, to: to, d: 1 });\n        var left = target.l;\n        var right = target.r;\n        if (cmp(to, target.from) < 0) {\n            left\n                ? addRange(left, from, to)\n                : (target.l = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.to) > 0) {\n            right\n                ? addRange(right, from, to)\n                : (target.r = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.from) < 0) {\n            target.from = from;\n            target.l = null;\n            target.d = right ? right.d + 1 : 1;\n        }\n        if (cmp(to, target.to) > 0) {\n            target.to = to;\n            target.r = null;\n            target.d = target.l ? target.l.d + 1 : 1;\n        }\n        var rightWasCutOff = !target.r;\n        if (left && !target.l) {\n            mergeRanges(target, left);\n        }\n        if (right && rightWasCutOff) {\n            mergeRanges(target, right);\n        }\n    }\n    function mergeRanges(target, newSet) {\n        function _addRangeSet(target, _a) {\n            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;\n            addRange(target, from, to);\n            if (l)\n                _addRangeSet(target, l);\n            if (r)\n                _addRangeSet(target, r);\n        }\n        if (!isEmptyRange(newSet))\n            _addRangeSet(target, newSet);\n    }\n    function rangesOverlap(rangeSet1, rangeSet2) {\n        var i1 = getRangeSetIterator(rangeSet2);\n        var nextResult1 = i1.next();\n        if (nextResult1.done)\n            return false;\n        var a = nextResult1.value;\n        var i2 = getRangeSetIterator(rangeSet1);\n        var nextResult2 = i2.next(a.from);\n        var b = nextResult2.value;\n        while (!nextResult1.done && !nextResult2.done) {\n            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)\n                return true;\n            cmp(a.from, b.from) < 0\n                ? (a = (nextResult1 = i1.next(b.from)).value)\n                : (b = (nextResult2 = i2.next(a.from)).value);\n        }\n        return false;\n    }\n    function getRangeSetIterator(node) {\n        var state = isEmptyRange(node) ? null : { s: 0, n: node };\n        return {\n            next: function (key) {\n                var keyProvided = arguments.length > 0;\n                while (state) {\n                    switch (state.s) {\n                        case 0:\n                            state.s = 1;\n                            if (keyProvided) {\n                                while (state.n.l && cmp(key, state.n.from) < 0)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                            else {\n                                while (state.n.l)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                        case 1:\n                            state.s = 2;\n                            if (!keyProvided || cmp(key, state.n.to) <= 0)\n                                return { value: state.n, done: false };\n                        case 2:\n                            if (state.n.r) {\n                                state.s = 3;\n                                state = { up: state, n: state.n.r, s: 0 };\n                                continue;\n                            }\n                        case 3:\n                            state = state.up;\n                    }\n                }\n                return { done: true };\n            },\n        };\n    }\n    function rebalance(target) {\n        var _a, _b;\n        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);\n        var r = diff > 1 ? \"r\" : diff < -1 ? \"l\" : \"\";\n        if (r) {\n            var l = r === \"r\" ? \"l\" : \"r\";\n            var rootClone = __assign({}, target);\n            var oldRootRight = target[r];\n            target.from = oldRootRight.from;\n            target.to = oldRootRight.to;\n            target[r] = oldRootRight[r];\n            rootClone[r] = oldRootRight[l];\n            target[l] = rootClone;\n            rootClone.d = computeDepth(rootClone);\n        }\n        target.d = computeDepth(target);\n    }\n    function computeDepth(_a) {\n        var r = _a.r, l = _a.l;\n        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;\n    }\n\n    function extendObservabilitySet(target, newSet) {\n        keys(newSet).forEach(function (part) {\n            if (target[part])\n                mergeRanges(target[part], newSet[part]);\n            else\n                target[part] = cloneSimpleObjectTree(newSet[part]);\n        });\n        return target;\n    }\n\n    function obsSetsOverlap(os1, os2) {\n        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });\n    }\n\n    var cache = {};\n\n    var unsignaledParts = {};\n    var isTaskEnqueued = false;\n    function signalSubscribersLazily(part, optimistic) {\n        extendObservabilitySet(unsignaledParts, part);\n        if (!isTaskEnqueued) {\n            isTaskEnqueued = true;\n            setTimeout(function () {\n                isTaskEnqueued = false;\n                var parts = unsignaledParts;\n                unsignaledParts = {};\n                signalSubscribersNow(parts, false);\n            }, 0);\n        }\n    }\n    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {\n        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }\n        var queriesToSignal = new Set();\n        if (updatedParts.all) {\n            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {\n                var tblCache = _a[_i];\n                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n            }\n        }\n        else {\n            for (var key in updatedParts) {\n                var parts = /^idb\\:\\/\\/(.*)\\/(.*)\\//.exec(key);\n                if (parts) {\n                    var dbName = parts[1], tableName = parts[2];\n                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n                    if (tblCache)\n                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n                }\n            }\n        }\n        queriesToSignal.forEach(function (requery) { return requery(); });\n    }\n    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {\n        var updatedEntryLists = [];\n        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {\n            var _b = _a[_i], indexName = _b[0], entries = _b[1];\n            var filteredEntries = [];\n            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {\n                var entry = entries_1[_c];\n                if (obsSetsOverlap(updatedParts, entry.obsSet)) {\n                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });\n                }\n                else if (deleteAffectedCacheEntries) {\n                    filteredEntries.push(entry);\n                }\n            }\n            if (deleteAffectedCacheEntries)\n                updatedEntryLists.push([indexName, filteredEntries]);\n        }\n        if (deleteAffectedCacheEntries) {\n            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {\n                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];\n                tblCache.queries.query[indexName] = filteredEntries;\n            }\n        }\n    }\n\n    function dexieOpen(db) {\n        var state = db._state;\n        var indexedDB = db._deps.indexedDB;\n        if (state.isBeingOpened || db.idbdb)\n            return state.dbReadyPromise.then(function () { return state.dbOpenError ?\n                rejection(state.dbOpenError) :\n                db; });\n        state.isBeingOpened = true;\n        state.dbOpenError = null;\n        state.openComplete = false;\n        var openCanceller = state.openCanceller;\n        var nativeVerToOpen = Math.round(db.verno * 10);\n        var schemaPatchMode = false;\n        function throwIfCancelled() {\n            if (state.openCanceller !== openCanceller)\n                throw new exceptions.DatabaseClosed('db.open() was cancelled');\n        }\n        var resolveDbReady = state.dbReadyResolve,\n        upgradeTransaction = null, wasCreated = false;\n        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {\n            throwIfCancelled();\n            if (!indexedDB)\n                throw new exceptions.MissingAPI();\n            var dbName = db.name;\n            var req = state.autoSchema || !nativeVerToOpen ?\n                indexedDB.open(dbName) :\n                indexedDB.open(dbName, nativeVerToOpen);\n            if (!req)\n                throw new exceptions.MissingAPI();\n            req.onerror = eventRejectHandler(reject);\n            req.onblocked = wrap(db._fireOnBlocked);\n            req.onupgradeneeded = wrap(function (e) {\n                upgradeTransaction = req.transaction;\n                if (state.autoSchema && !db._options.allowEmptyDB) {\n                    req.onerror = preventDefault;\n                    upgradeTransaction.abort();\n                    req.result.close();\n                    var delreq = indexedDB.deleteDatabase(dbName);\n                    delreq.onsuccess = delreq.onerror = wrap(function () {\n                        reject(new exceptions.NoSuchDatabase(\"Database \".concat(dbName, \" doesnt exist\")));\n                    });\n                }\n                else {\n                    upgradeTransaction.onerror = eventRejectHandler(reject);\n                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n                    wasCreated = oldVer < 1;\n                    db.idbdb = req.result;\n                    if (schemaPatchMode) {\n                        patchCurrentVersion(db, upgradeTransaction);\n                    }\n                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n                }\n            }, reject);\n            req.onsuccess = wrap(function () {\n                upgradeTransaction = null;\n                var idbdb = db.idbdb = req.result;\n                var objectStoreNames = slice(idbdb.objectStoreNames);\n                if (objectStoreNames.length > 0)\n                    try {\n                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n                        if (state.autoSchema)\n                            readGlobalSchema(db, idbdb, tmpTrans);\n                        else {\n                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {\n                                console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.\");\n                                idbdb.close();\n                                nativeVerToOpen = idbdb.version + 1;\n                                schemaPatchMode = true;\n                                return resolve(tryOpenDB());\n                            }\n                        }\n                        generateMiddlewareStacks(db, tmpTrans);\n                    }\n                    catch (e) {\n                    }\n                connections.push(db);\n                idbdb.onversionchange = wrap(function (ev) {\n                    state.vcFired = true;\n                    db.on(\"versionchange\").fire(ev);\n                });\n                idbdb.onclose = wrap(function () {\n                    db.close({ disableAutoOpen: false });\n                });\n                if (wasCreated)\n                    _onDatabaseCreated(db._deps, dbName);\n                resolve();\n            }, reject);\n        }).catch(function (err) {\n            switch (err === null || err === void 0 ? void 0 : err.name) {\n                case \"UnknownError\":\n                    if (state.PR1398_maxLoop > 0) {\n                        state.PR1398_maxLoop--;\n                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');\n                        return tryOpenDB();\n                    }\n                    break;\n                case \"VersionError\":\n                    if (nativeVerToOpen > 0) {\n                        nativeVerToOpen = 0;\n                        return tryOpenDB();\n                    }\n                    break;\n            }\n            return DexiePromise.reject(err);\n        }); };\n        return DexiePromise.race([\n            openCanceller,\n            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)\n        ]).then(function () {\n            throwIfCancelled();\n            state.onReadyBeingFired = [];\n            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {\n                if (state.onReadyBeingFired.length > 0) {\n                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);\n                    state.onReadyBeingFired = [];\n                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);\n                }\n            });\n        }).finally(function () {\n            if (state.openCanceller === openCanceller) {\n                state.onReadyBeingFired = null;\n                state.isBeingOpened = false;\n            }\n        }).catch(function (err) {\n            state.dbOpenError = err;\n            try {\n                upgradeTransaction && upgradeTransaction.abort();\n            }\n            catch (_a) { }\n            if (openCanceller === state.openCanceller) {\n                db._close();\n            }\n            return rejection(err);\n        }).finally(function () {\n            state.openComplete = true;\n            resolveDbReady();\n        }).then(function () {\n            if (wasCreated) {\n                var everything_1 = {};\n                db.tables.forEach(function (table) {\n                    table.schema.indexes.forEach(function (idx) {\n                        if (idx.name)\n                            everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);\n                    });\n                    everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\")] = everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/:dels\")] = new RangeSet(-Infinity, [[[]]]);\n                });\n                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);\n                signalSubscribersNow(everything_1, true);\n            }\n            return db;\n        });\n    }\n\n    function awaitIterator(iterator) {\n        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);\n        function step(getNext) {\n            return function (val) {\n                var next = getNext(val), value = next.value;\n                return next.done ? value :\n                    (!value || typeof value.then !== 'function' ?\n                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :\n                        value.then(onSuccess, onError));\n            };\n        }\n        return step(callNext)();\n    }\n\n    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n        var i = arguments.length;\n        if (i < 2)\n            throw new exceptions.InvalidArgument(\"Too few arguments\");\n        var args = new Array(i - 1);\n        while (--i)\n            args[i - 1] = arguments[i];\n        scopeFunc = args.pop();\n        var tables = flatten(args);\n        return [mode, tables, scopeFunc];\n    }\n    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n        return DexiePromise.resolve().then(function () {\n            var transless = PSD.transless || PSD;\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n            trans.explicit = true;\n            var zoneProps = {\n                trans: trans,\n                transless: transless\n            };\n            if (parentTransaction) {\n                trans.idbtrans = parentTransaction.idbtrans;\n            }\n            else {\n                try {\n                    trans.create();\n                    trans.idbtrans._explicit = true;\n                    db._state.PR1398_maxLoop = 3;\n                }\n                catch (ex) {\n                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                        console.warn('Dexie: Need to reopen db');\n                        db.close({ disableAutoOpen: false });\n                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });\n                    }\n                    return rejection(ex);\n                }\n            }\n            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n            if (scopeFuncIsAsync) {\n                incrementExpectedAwaits();\n            }\n            var returnValue;\n            var promiseFollowed = DexiePromise.follow(function () {\n                returnValue = scopeFunc.call(trans, trans);\n                if (returnValue) {\n                    if (scopeFuncIsAsync) {\n                        var decrementor = decrementExpectedAwaits.bind(null, null);\n                        returnValue.then(decrementor, decrementor);\n                    }\n                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n                        returnValue = awaitIterator(returnValue);\n                    }\n                }\n            }, zoneProps);\n            return (returnValue && typeof returnValue.then === 'function' ?\n                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?\n                    x\n                    : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")); })\n                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {\n                if (parentTransaction)\n                    trans._resolve();\n                return trans._completion.then(function () { return x; });\n            }).catch(function (e) {\n                trans._reject(e);\n                return rejection(e);\n            });\n        });\n    }\n\n    function pad(a, value, count) {\n        var result = isArray(a) ? a.slice() : [a];\n        for (var i = 0; i < count; ++i)\n            result.push(value);\n        return result;\n    }\n    function createVirtualIndexMiddleware(down) {\n        return __assign(__assign({}, down), { table: function (tableName) {\n                var table = down.table(tableName);\n                var schema = table.schema;\n                var indexLookup = {};\n                var allVirtualIndexes = [];\n                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n                    var keyPathAlias = getKeyPathAlias(keyPath);\n                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);\n                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n                    var isVirtual = keyTail > 0;\n                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual\n                            ? \"\".concat(keyPathAlias, \"(virtual-from:\").concat(lowLevelIndex.name, \")\")\n                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });\n                    indexList.push(virtualIndex);\n                    if (!virtualIndex.isPrimaryKey) {\n                        allVirtualIndexes.push(virtualIndex);\n                    }\n                    if (keyLength > 1) {\n                        var virtualKeyPath = keyLength === 2 ?\n                            keyPath[0] :\n                            keyPath.slice(0, keyLength - 1);\n                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n                    }\n                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });\n                    return virtualIndex;\n                }\n                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n                indexLookup[\":id\"] = [primaryKey];\n                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {\n                    var index = _a[_i];\n                    addVirtualIndexes(index.keyPath, 0, index);\n                }\n                function findBestIndex(keyPath) {\n                    var result = indexLookup[getKeyPathAlias(keyPath)];\n                    return result && result[0];\n                }\n                function translateRange(range, keyTail) {\n                    return {\n                        type: range.type === 1  ?\n                            2  :\n                            range.type,\n                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n                        lowerOpen: true,\n                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n                        upperOpen: true\n                    };\n                }\n                function translateRequest(req) {\n                    var index = req.query.index;\n                    return index.isVirtual ? __assign(__assign({}, req), { query: {\n                            index: index.lowLevelIndex,\n                            range: translateRange(req.query.range, index.keyTail)\n                        } }) : req;\n                }\n                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {\n                        return table.count(translateRequest(req));\n                    }, query: function (req) {\n                        return table.query(translateRequest(req));\n                    }, openCursor: function (req) {\n                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;\n                        if (!isVirtual)\n                            return table.openCursor(req);\n                        function createVirtualCursor(cursor) {\n                            function _continue(key) {\n                                key != null ?\n                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :\n                                    req.unique ?\n                                        cursor.continue(cursor.key.slice(0, keyLength)\n                                            .concat(req.reverse\n                                            ? down.MIN_KEY\n                                            : down.MAX_KEY, keyTail)) :\n                                        cursor.continue();\n                            }\n                            var virtualCursor = Object.create(cursor, {\n                                continue: { value: _continue },\n                                continuePrimaryKey: {\n                                    value: function (key, primaryKey) {\n                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                                    }\n                                },\n                                primaryKey: {\n                                    get: function () {\n                                        return cursor.primaryKey;\n                                    }\n                                },\n                                key: {\n                                    get: function () {\n                                        var key = cursor.key;\n                                        return keyLength === 1 ?\n                                            key[0] :\n                                            key.slice(0, keyLength);\n                                    }\n                                },\n                                value: {\n                                    get: function () {\n                                        return cursor.value;\n                                    }\n                                }\n                            });\n                            return virtualCursor;\n                        }\n                        return table.openCursor(translateRequest(req))\n                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });\n                    } });\n                return result;\n            } });\n    }\n    var virtualIndexMiddleware = {\n        stack: \"dbcore\",\n        name: \"VirtualIndexMiddleware\",\n        level: 1,\n        create: createVirtualIndexMiddleware\n    };\n\n    function getObjectDiff(a, b, rv, prfx) {\n        rv = rv || {};\n        prfx = prfx || '';\n        keys(a).forEach(function (prop) {\n            if (!hasOwn(b, prop)) {\n                rv[prfx + prop] = undefined;\n            }\n            else {\n                var ap = a[prop], bp = b[prop];\n                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n                    var apTypeName = toStringTag(ap);\n                    var bpTypeName = toStringTag(bp);\n                    if (apTypeName !== bpTypeName) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                    else if (apTypeName === 'Object') {\n                        getObjectDiff(ap, bp, rv, prfx + prop + '.');\n                    }\n                    else if (ap !== bp) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                }\n                else if (ap !== bp)\n                    rv[prfx + prop] = b[prop];\n            }\n        });\n        keys(b).forEach(function (prop) {\n            if (!hasOwn(a, prop)) {\n                rv[prfx + prop] = b[prop];\n            }\n        });\n        return rv;\n    }\n\n    function getEffectiveKeys(primaryKey, req) {\n        if (req.type === 'delete')\n            return req.keys;\n        return req.keys || req.values.map(primaryKey.extractKey);\n    }\n\n    var hooksMiddleware = {\n        stack: \"dbcore\",\n        name: \"HooksMiddleware\",\n        level: 2,\n        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {\n                var downTable = downCore.table(tableName);\n                var primaryKey = downTable.schema.primaryKey;\n                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {\n                        var dxTrans = PSD.trans;\n                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;\n                        switch (req.type) {\n                            case 'add':\n                                if (creating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'put':\n                                if (creating.fire === nop && updating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'delete':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'deleteRange':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);\n                        }\n                        return downTable.mutate(req);\n                        function addPutOrDelete(req) {\n                            var dxTrans = PSD.trans;\n                            var keys = req.keys || getEffectiveKeys(primaryKey, req);\n                            if (!keys)\n                                throw new Error(\"Keys missing\");\n                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);\n                            if (req.type !== 'delete')\n                                req.values = __spreadArray([], req.values, true);\n                            if (req.keys)\n                                req.keys = __spreadArray([], req.keys, true);\n                            return getExistingValues(downTable, req, keys).then(function (existingValues) {\n                                var contexts = keys.map(function (key, i) {\n                                    var existingValue = existingValues[i];\n                                    var ctx = { onerror: null, onsuccess: null };\n                                    if (req.type === 'delete') {\n                                        deleting.fire.call(ctx, key, existingValue, dxTrans);\n                                    }\n                                    else if (req.type === 'add' || existingValue === undefined) {\n                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n                                        if (key == null && generatedPrimaryKey != null) {\n                                            key = generatedPrimaryKey;\n                                            req.keys[i] = key;\n                                            if (!primaryKey.outbound) {\n                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);\n                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n                                        if (additionalChanges_1) {\n                                            var requestedValue_1 = req.values[i];\n                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {\n                                                if (hasOwn(requestedValue_1, keyPath)) {\n                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];\n                                                }\n                                                else {\n                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);\n                                                }\n                                            });\n                                        }\n                                    }\n                                    return ctx;\n                                });\n                                return downTable.mutate(req).then(function (_a) {\n                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;\n                                    for (var i = 0; i < keys.length; ++i) {\n                                        var primKey = results ? results[i] : keys[i];\n                                        var ctx = contexts[i];\n                                        if (primKey == null) {\n                                            ctx.onerror && ctx.onerror(failures[i]);\n                                        }\n                                        else {\n                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?\n                                                req.values[i] :\n                                                primKey\n                                            );\n                                        }\n                                    }\n                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };\n                                }).catch(function (error) {\n                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });\n                                    return Promise.reject(error);\n                                });\n                            });\n                        }\n                        function deleteRange(req) {\n                            return deleteNextChunk(req.trans, req.range, 10000);\n                        }\n                        function deleteNextChunk(trans, range, limit) {\n                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })\n                                .then(function (_a) {\n                                var result = _a.result;\n                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {\n                                    if (res.numFailures > 0)\n                                        return Promise.reject(res.failures[0]);\n                                    if (result.length < limit) {\n                                        return { failures: [], numFailures: 0, lastResult: undefined };\n                                    }\n                                    else {\n                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);\n                                    }\n                                });\n                            });\n                        }\n                    } });\n                return tableMiddleware;\n            } })); }\n    };\n    function getExistingValues(table, req, effectiveKeys) {\n        return req.type === \"add\"\n            ? Promise.resolve([])\n            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: \"immutable\" });\n    }\n\n    function getFromTransactionCache(keys, cache, clone) {\n        try {\n            if (!cache)\n                return null;\n            if (cache.keys.length < keys.length)\n                return null;\n            var result = [];\n            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {\n                if (cmp(cache.keys[i], keys[j]) !== 0)\n                    continue;\n                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);\n                ++j;\n            }\n            return result.length === keys.length ? result : null;\n        }\n        catch (_a) {\n            return null;\n        }\n    }\n    var cacheExistingValuesMiddleware = {\n        stack: \"dbcore\",\n        level: -1,\n        create: function (core) {\n            return {\n                table: function (tableName) {\n                    var table = core.table(tableName);\n                    return __assign(__assign({}, table), { getMany: function (req) {\n                            if (!req.cache) {\n                                return table.getMany(req);\n                            }\n                            var cachedResult = getFromTransactionCache(req.keys, req.trans[\"_cache\"], req.cache === \"clone\");\n                            if (cachedResult) {\n                                return DexiePromise.resolve(cachedResult);\n                            }\n                            return table.getMany(req).then(function (res) {\n                                req.trans[\"_cache\"] = {\n                                    keys: req.keys,\n                                    values: req.cache === \"clone\" ? deepClone(res) : res,\n                                };\n                                return res;\n                            });\n                        }, mutate: function (req) {\n                            if (req.type !== \"add\")\n                                req.trans[\"_cache\"] = null;\n                            return table.mutate(req);\n                        } });\n                },\n            };\n        },\n    };\n\n    function isCachableContext(ctx, table) {\n        return (ctx.trans.mode === 'readonly' &&\n            !!ctx.subscr &&\n            !ctx.trans.explicit &&\n            ctx.trans.db._options.cache !== 'disabled' &&\n            !table.schema.primaryKey.outbound);\n    }\n\n    function isCachableRequest(type, req) {\n        switch (type) {\n            case 'query':\n                return req.values && !req.unique;\n            case 'get':\n                return false;\n            case 'getMany':\n                return false;\n            case 'count':\n                return false;\n            case 'openCursor':\n                return false;\n        }\n    }\n\n    var observabilityMiddleware = {\n        stack: \"dbcore\",\n        level: 0,\n        name: \"Observability\",\n        create: function (core) {\n            var dbName = core.schema.name;\n            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);\n            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {\n                    if (PSD.subscr && mode !== 'readonly') {\n                        throw new exceptions.ReadOnly(\"Readwrite transaction in liveQuery context. Querier source: \".concat(PSD.querier));\n                    }\n                    return core.transaction(stores, mode, options);\n                }, table: function (tableName) {\n                    var table = core.table(tableName);\n                    var schema = table.schema;\n                    var primaryKey = schema.primaryKey, indexes = schema.indexes;\n                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;\n                    var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) { return index.compound && index.keyPath.includes(primaryKey.keyPath); });\n                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {\n                            var _a, _b;\n                            var trans = req.trans;\n                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});\n                            var getRangeSet = function (indexName) {\n                                var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                                return (mutatedParts[part] ||\n                                    (mutatedParts[part] = new RangeSet()));\n                            };\n                            var pkRangeSet = getRangeSet(\"\");\n                            var delsRangeSet = getRangeSet(\":dels\");\n                            var type = req.type;\n                            var _c = req.type === \"deleteRange\"\n                                ? [req.range]\n                                : req.type === \"delete\"\n                                    ? [req.keys]\n                                    : req.values.length < 50\n                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]\n                                        : [], keys = _c[0], newObjs = _c[1];\n                            var oldCache = req.trans[\"_cache\"];\n                            if (isArray(keys)) {\n                                pkRangeSet.addKeys(keys);\n                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;\n                                if (!oldObjs) {\n                                    delsRangeSet.addKeys(keys);\n                                }\n                                if (oldObjs || newObjs) {\n                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);\n                                }\n                            }\n                            else if (keys) {\n                                var range = {\n                                    from: (_a = keys.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY,\n                                    to: (_b = keys.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY\n                                };\n                                delsRangeSet.add(range);\n                                pkRangeSet.add(range);\n                            }\n                            else {\n                                pkRangeSet.add(FULL_RANGE);\n                                delsRangeSet.add(FULL_RANGE);\n                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });\n                            }\n                            return table.mutate(req).then(function (res) {\n                                if (keys && (req.type === 'add' || req.type === 'put')) {\n                                    pkRangeSet.addKeys(res.results);\n                                    if (indexesWithAutoIncPK) {\n                                        indexesWithAutoIncPK.forEach(function (idx) {\n                                            var idxVals = req.values.map(function (v) { return idx.extractKey(v); });\n                                            var pkPos = idx.keyPath.findIndex(function (prop) { return prop === primaryKey.keyPath; });\n                                            for (var i = 0, len = res.results.length; i < len; ++i) {\n                                                idxVals[i][pkPos] = res.results[i];\n                                            }\n                                            getRangeSet(idx.name).addKeys(idxVals);\n                                        });\n                                    }\n                                }\n                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);\n                                return res;\n                            });\n                        } });\n                    var getRange = function (_a) {\n                        var _b, _c;\n                        var _d = _a.query, index = _d.index, range = _d.range;\n                        return [\n                            index,\n                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),\n                        ];\n                    };\n                    var readSubscribers = {\n                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },\n                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },\n                        count: getRange,\n                        query: getRange,\n                        openCursor: getRange,\n                    };\n                    keys(readSubscribers).forEach(function (method) {\n                        tableClone[method] = function (req) {\n                            var subscr = PSD.subscr;\n                            var isLiveQuery = !!subscr;\n                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);\n                            var obsSet = cachable\n                                ? req.obsSet = {}\n                                : subscr;\n                            if (isLiveQuery) {\n                                var getRangeSet = function (indexName) {\n                                    var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                                    return (obsSet[part] ||\n                                        (obsSet[part] = new RangeSet()));\n                                };\n                                var pkRangeSet_1 = getRangeSet(\"\");\n                                var delsRangeSet_1 = getRangeSet(\":dels\");\n                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];\n                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {\n                                    delsRangeSet_1.add(queriedRanges);\n                                }\n                                else {\n                                    getRangeSet(queriedIndex.name || \"\").add(queriedRanges);\n                                }\n                                if (!queriedIndex.isPrimaryKey) {\n                                    if (method === \"count\") {\n                                        delsRangeSet_1.add(FULL_RANGE);\n                                    }\n                                    else {\n                                        var keysPromise_1 = method === \"query\" &&\n                                            outbound &&\n                                            req.values &&\n                                            table.query(__assign(__assign({}, req), { values: false }));\n                                        return table[method].apply(this, arguments).then(function (res) {\n                                            if (method === \"query\") {\n                                                if (outbound && req.values) {\n                                                    return keysPromise_1.then(function (_a) {\n                                                        var resultingKeys = _a.result;\n                                                        pkRangeSet_1.addKeys(resultingKeys);\n                                                        return res;\n                                                    });\n                                                }\n                                                var pKeys = req.values\n                                                    ? res.result.map(extractKey)\n                                                    : res.result;\n                                                if (req.values) {\n                                                    pkRangeSet_1.addKeys(pKeys);\n                                                }\n                                                else {\n                                                    delsRangeSet_1.addKeys(pKeys);\n                                                }\n                                            }\n                                            else if (method === \"openCursor\") {\n                                                var cursor_1 = res;\n                                                var wantValues_1 = req.values;\n                                                return (cursor_1 &&\n                                                    Object.create(cursor_1, {\n                                                        key: {\n                                                            get: function () {\n                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.key;\n                                                            },\n                                                        },\n                                                        primaryKey: {\n                                                            get: function () {\n                                                                var pkey = cursor_1.primaryKey;\n                                                                delsRangeSet_1.addKey(pkey);\n                                                                return pkey;\n                                                            },\n                                                        },\n                                                        value: {\n                                                            get: function () {\n                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.value;\n                                                            },\n                                                        },\n                                                    }));\n                                            }\n                                            return res;\n                                        });\n                                    }\n                                }\n                            }\n                            return table[method].apply(this, arguments);\n                        };\n                    });\n                    return tableClone;\n                } });\n        },\n    };\n    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {\n        function addAffectedIndex(ix) {\n            var rangeSet = getRangeSet(ix.name || \"\");\n            function extractKey(obj) {\n                return obj != null ? ix.extractKey(obj) : null;\n            }\n            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)\n                ? key.forEach(function (key) { return rangeSet.addKey(key); })\n                : rangeSet.addKey(key); };\n            (oldObjs || newObjs).forEach(function (_, i) {\n                var oldKey = oldObjs && extractKey(oldObjs[i]);\n                var newKey = newObjs && extractKey(newObjs[i]);\n                if (cmp(oldKey, newKey) !== 0) {\n                    if (oldKey != null)\n                        addKeyOrKeys(oldKey);\n                    if (newKey != null)\n                        addKeyOrKeys(newKey);\n                }\n            });\n        }\n        schema.indexes.forEach(addAffectedIndex);\n    }\n\n    function adjustOptimisticFromFailures(tblCache, req, res) {\n        if (res.numFailures === 0)\n            return req;\n        if (req.type === 'deleteRange') {\n            return null;\n        }\n        var numBulkOps = req.keys\n            ? req.keys.length\n            : 'values' in req && req.values\n                ? req.values.length\n                : 1;\n        if (res.numFailures === numBulkOps) {\n            return null;\n        }\n        var clone = __assign({}, req);\n        if (isArray(clone.keys)) {\n            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });\n        }\n        if ('values' in clone && isArray(clone.values)) {\n            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });\n        }\n        return clone;\n    }\n\n    function isAboveLower(key, range) {\n        return range.lower === undefined\n            ? true\n            : range.lowerOpen\n                ? cmp(key, range.lower) > 0\n                : cmp(key, range.lower) >= 0;\n    }\n    function isBelowUpper(key, range) {\n        return range.upper === undefined\n            ? true\n            : range.upperOpen\n                ? cmp(key, range.upper) < 0\n                : cmp(key, range.upper) <= 0;\n    }\n    function isWithinRange(key, range) {\n        return isAboveLower(key, range) && isBelowUpper(key, range);\n    }\n\n    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {\n        if (!ops || ops.length === 0)\n            return result;\n        var index = req.query.index;\n        var multiEntry = index.multiEntry;\n        var queryRange = req.query.range;\n        var primaryKey = table.schema.primaryKey;\n        var extractPrimKey = primaryKey.extractKey;\n        var extractIndex = index.extractKey;\n        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;\n        var finalResult = ops.reduce(function (result, op) {\n            var modifedResult = result;\n            var includedValues = [];\n            if (op.type === 'add' || op.type === 'put') {\n                var includedPKs = new RangeSet();\n                for (var i = op.values.length - 1; i >= 0; --i) {\n                    var value = op.values[i];\n                    var pk = extractPrimKey(value);\n                    if (includedPKs.hasKey(pk))\n                        continue;\n                    var key = extractIndex(value);\n                    if (multiEntry && isArray(key)\n                        ? key.some(function (k) { return isWithinRange(k, queryRange); })\n                        : isWithinRange(key, queryRange)) {\n                        includedPKs.addKey(pk);\n                        includedValues.push(value);\n                    }\n                }\n            }\n            switch (op.type) {\n                case 'add': {\n                    var existingKeys_1 = new RangeSet().addKeys(req.values ? result.map(function (v) { return extractPrimKey(v); }) : result);\n                    modifedResult = result.concat(req.values\n                        ? includedValues.filter(function (v) {\n                            var key = extractPrimKey(v);\n                            if (existingKeys_1.hasKey(key))\n                                return false;\n                            existingKeys_1.addKey(key);\n                            return true;\n                        })\n                        : includedValues\n                            .map(function (v) { return extractPrimKey(v); })\n                            .filter(function (k) {\n                            if (existingKeys_1.hasKey(k))\n                                return false;\n                            existingKeys_1.addKey(k);\n                            return true;\n                        }));\n                    break;\n                }\n                case 'put': {\n                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));\n                    modifedResult = result\n                        .filter(\n                    function (item) { return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item); })\n                        .concat(\n                    req.values\n                        ? includedValues\n                        : includedValues.map(function (v) { return extractPrimKey(v); }));\n                    break;\n                }\n                case 'delete':\n                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);\n                    modifedResult = result.filter(function (item) {\n                        return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item);\n                    });\n                    break;\n                case 'deleteRange':\n                    var range_1 = op.range;\n                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });\n                    break;\n            }\n            return modifedResult;\n        }, result);\n        if (finalResult === result)\n            return result;\n        finalResult.sort(function (a, b) {\n            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||\n                cmp(extractPrimKey(a), extractPrimKey(b));\n        });\n        if (req.limit && req.limit < Infinity) {\n            if (finalResult.length > req.limit) {\n                finalResult.length = req.limit;\n            }\n            else if (result.length === req.limit && finalResult.length < req.limit) {\n                cacheEntry.dirty = true;\n            }\n        }\n        return immutable ? Object.freeze(finalResult) : finalResult;\n    }\n\n    function areRangesEqual(r1, r2) {\n        return (cmp(r1.lower, r2.lower) === 0 &&\n            cmp(r1.upper, r2.upper) === 0 &&\n            !!r1.lowerOpen === !!r2.lowerOpen &&\n            !!r1.upperOpen === !!r2.upperOpen);\n    }\n\n    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {\n        if (lower1 === undefined)\n            return lower2 !== undefined ? -1 : 0;\n        if (lower2 === undefined)\n            return 1;\n        var c = cmp(lower1, lower2);\n        if (c === 0) {\n            if (lowerOpen1 && lowerOpen2)\n                return 0;\n            if (lowerOpen1)\n                return 1;\n            if (lowerOpen2)\n                return -1;\n        }\n        return c;\n    }\n    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {\n        if (upper1 === undefined)\n            return upper2 !== undefined ? 1 : 0;\n        if (upper2 === undefined)\n            return -1;\n        var c = cmp(upper1, upper2);\n        if (c === 0) {\n            if (upperOpen1 && upperOpen2)\n                return 0;\n            if (upperOpen1)\n                return -1;\n            if (upperOpen2)\n                return 1;\n        }\n        return c;\n    }\n    function isSuperRange(r1, r2) {\n        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&\n            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);\n    }\n\n    function findCompatibleQuery(dbName, tableName, type, req) {\n        var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n        if (!tblCache)\n            return [];\n        var queries = tblCache.queries[type];\n        if (!queries)\n            return [null, false, tblCache, null];\n        var indexName = req.query ? req.query.index.name : null;\n        var entries = queries[indexName || ''];\n        if (!entries)\n            return [null, false, tblCache, null];\n        switch (type) {\n            case 'query':\n                var equalEntry = entries.find(function (entry) {\n                    return entry.req.limit === req.limit &&\n                        entry.req.values === req.values &&\n                        areRangesEqual(entry.req.query.range, req.query.range);\n                });\n                if (equalEntry)\n                    return [\n                        equalEntry,\n                        true,\n                        tblCache,\n                        entries,\n                    ];\n                var superEntry = entries.find(function (entry) {\n                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;\n                    return (limit >= req.limit &&\n                        (req.values ? entry.req.values : true) &&\n                        isSuperRange(entry.req.query.range, req.query.range));\n                });\n                return [superEntry, false, tblCache, entries];\n            case 'count':\n                var countQuery = entries.find(function (entry) {\n                    return areRangesEqual(entry.req.query.range, req.query.range);\n                });\n                return [countQuery, !!countQuery, tblCache, entries];\n        }\n    }\n\n    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {\n        cacheEntry.subscribers.add(requery);\n        signal.addEventListener(\"abort\", function () {\n            cacheEntry.subscribers.delete(requery);\n            if (cacheEntry.subscribers.size === 0) {\n                enqueForDeletion(cacheEntry, container);\n            }\n        });\n    }\n    function enqueForDeletion(cacheEntry, container) {\n        setTimeout(function () {\n            if (cacheEntry.subscribers.size === 0) {\n                delArrayItem(container, cacheEntry);\n            }\n        }, 3000);\n    }\n\n    var cacheMiddleware = {\n        stack: 'dbcore',\n        level: 0,\n        name: 'Cache',\n        create: function (core) {\n            var dbName = core.schema.name;\n            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {\n                    var idbtrans = core.transaction(stores, mode, options);\n                    if (mode === 'readwrite') {\n                        var ac_1 = new AbortController();\n                        var signal = ac_1.signal;\n                        var endTransaction = function (wasCommitted) { return function () {\n                            ac_1.abort();\n                            if (mode === 'readwrite') {\n                                var affectedSubscribers_1 = new Set();\n                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {\n                                    var storeName = stores_1[_i];\n                                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(storeName)];\n                                    if (tblCache) {\n                                        var table = core.table(storeName);\n                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });\n                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {\n                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {\n                                                var entries = _b[_a];\n                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {\n                                                    var entry = _d[_c];\n                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {\n                                                        delArrayItem(entries, entry);\n                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                    }\n                                                }\n                                            }\n                                        }\n                                        else if (ops.length > 0) {\n                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });\n                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {\n                                                var entries = _f[_e];\n                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {\n                                                    var entry = _h[_g];\n                                                    if (entry.res != null &&\n                                                        idbtrans.mutatedParts\n    ) {\n                                                        if (wasCommitted && !entry.dirty) {\n                                                            var freezeResults = Object.isFrozen(entry.res);\n                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);\n                                                            if (entry.dirty) {\n                                                                delArrayItem(entries, entry);\n                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                            }\n                                                            else if (modRes !== entry.res) {\n                                                                entry.res = modRes;\n                                                                entry.promise = DexiePromise.resolve({ result: modRes });\n                                                            }\n                                                        }\n                                                        else {\n                                                            if (entry.dirty) {\n                                                                delArrayItem(entries, entry);\n                                                            }\n                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                                affectedSubscribers_1.forEach(function (requery) { return requery(); });\n                            }\n                        }; };\n                        idbtrans.addEventListener('abort', endTransaction(false), {\n                            signal: signal,\n                        });\n                        idbtrans.addEventListener('error', endTransaction(false), {\n                            signal: signal,\n                        });\n                        idbtrans.addEventListener('complete', endTransaction(true), {\n                            signal: signal,\n                        });\n                    }\n                    return idbtrans;\n                }, table: function (tableName) {\n                    var downTable = core.table(tableName);\n                    var primKey = downTable.schema.primaryKey;\n                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {\n                            var trans = PSD.trans;\n                            if (primKey.outbound ||\n                                trans.db._options.cache === 'disabled' ||\n                                trans.explicit ||\n                                trans.idbtrans.mode !== 'readwrite'\n                            ) {\n                                return downTable.mutate(req);\n                            }\n                            var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n                            if (!tblCache)\n                                return downTable.mutate(req);\n                            var promise = downTable.mutate(req);\n                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {\n                                promise.then(function (res) {\n                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {\n                                            var _a;\n                                            if (res.failures[i])\n                                                return value;\n                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))\n                                                ? deepClone(value)\n                                                : __assign({}, value);\n                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);\n                                            return valueWithKey;\n                                        }) });\n                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);\n                                    tblCache.optimisticOps.push(adjustedReq);\n                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });\n                                });\n                            }\n                            else {\n                                tblCache.optimisticOps.push(req);\n                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                promise.then(function (res) {\n                                    if (res.numFailures > 0) {\n                                        delArrayItem(tblCache.optimisticOps, req);\n                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);\n                                        if (adjustedReq) {\n                                            tblCache.optimisticOps.push(adjustedReq);\n                                        }\n                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                    }\n                                });\n                                promise.catch(function () {\n                                    delArrayItem(tblCache.optimisticOps, req);\n                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                                });\n                            }\n                            return promise;\n                        }, query: function (req) {\n                            var _a;\n                            if (!isCachableContext(PSD, downTable) || !isCachableRequest(\"query\", req))\n                                return downTable.query(req);\n                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';\n                            var _b = PSD, requery = _b.requery, signal = _b.signal;\n                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];\n                            if (cacheEntry && exactMatch) {\n                                cacheEntry.obsSet = req.obsSet;\n                            }\n                            else {\n                                var promise = downTable.query(req).then(function (res) {\n                                    var result = res.result;\n                                    if (cacheEntry)\n                                        cacheEntry.res = result;\n                                    if (freezeResults) {\n                                        for (var i = 0, l = result.length; i < l; ++i) {\n                                            Object.freeze(result[i]);\n                                        }\n                                        Object.freeze(result);\n                                    }\n                                    else {\n                                        res.result = deepClone(result);\n                                    }\n                                    return res;\n                                }).catch(function (error) {\n                                    if (container && cacheEntry)\n                                        delArrayItem(container, cacheEntry);\n                                    return Promise.reject(error);\n                                });\n                                cacheEntry = {\n                                    obsSet: req.obsSet,\n                                    promise: promise,\n                                    subscribers: new Set(),\n                                    type: 'query',\n                                    req: req,\n                                    dirty: false,\n                                };\n                                if (container) {\n                                    container.push(cacheEntry);\n                                }\n                                else {\n                                    container = [cacheEntry];\n                                    if (!tblCache) {\n                                        tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)] = {\n                                            queries: {\n                                                query: {},\n                                                count: {},\n                                            },\n                                            objs: new Map(),\n                                            optimisticOps: [],\n                                            unsignaledParts: {}\n                                        };\n                                    }\n                                    tblCache.queries.query[req.query.index.name || ''] = container;\n                                }\n                            }\n                            subscribeToCacheEntry(cacheEntry, container, requery, signal);\n                            return cacheEntry.promise.then(function (res) {\n                                return {\n                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),\n                                };\n                            });\n                        } });\n                    return tableMW;\n                } });\n            return coreMW;\n        },\n    };\n\n    function vipify(target, vipDb) {\n        return new Proxy(target, {\n            get: function (target, prop, receiver) {\n                if (prop === 'db')\n                    return vipDb;\n                return Reflect.get(target, prop, receiver);\n            }\n        });\n    }\n\n    var Dexie$1 =  (function () {\n        function Dexie(name, options) {\n            var _this = this;\n            this._middlewares = {};\n            this.verno = 0;\n            var deps = Dexie.dependencies;\n            this._options = options = __assign({\n                addons: Dexie.addons, autoOpen: true,\n                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);\n            this._deps = {\n                indexedDB: options.indexedDB,\n                IDBKeyRange: options.IDBKeyRange\n            };\n            var addons = options.addons;\n            this._dbSchema = {};\n            this._versions = [];\n            this._storeNames = [];\n            this._allTables = {};\n            this.idbdb = null;\n            this._novip = this;\n            var state = {\n                dbOpenError: null,\n                isBeingOpened: false,\n                onReadyBeingFired: null,\n                openComplete: false,\n                dbReadyResolve: nop,\n                dbReadyPromise: null,\n                cancelOpen: nop,\n                openCanceller: null,\n                autoSchema: true,\n                PR1398_maxLoop: 3,\n                autoOpen: options.autoOpen,\n            };\n            state.dbReadyPromise = new DexiePromise(function (resolve) {\n                state.dbReadyResolve = resolve;\n            });\n            state.openCanceller = new DexiePromise(function (_, reject) {\n                state.cancelOpen = reject;\n            });\n            this._state = state;\n            this.name = name;\n            this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", \"close\", { ready: [promisableChain, nop] });\n            this.once = function (event, callback) {\n                var fn = function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    _this.on(event).unsubscribe(fn);\n                    callback.apply(_this, args);\n                };\n                return _this.on(event, fn);\n            };\n            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n                return function (subscriber, bSticky) {\n                    Dexie.vip(function () {\n                        var state = _this._state;\n                        if (state.openComplete) {\n                            if (!state.dbOpenError)\n                                DexiePromise.resolve().then(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else if (state.onReadyBeingFired) {\n                            state.onReadyBeingFired.push(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else {\n                            subscribe(subscriber);\n                            var db_1 = _this;\n                            if (!bSticky)\n                                subscribe(function unsubscribe() {\n                                    db_1.on.ready.unsubscribe(subscriber);\n                                    db_1.on.ready.unsubscribe(unsubscribe);\n                                });\n                        }\n                    });\n                };\n            });\n            this.Collection = createCollectionConstructor(this);\n            this.Table = createTableConstructor(this);\n            this.Transaction = createTransactionConstructor(this);\n            this.Version = createVersionConstructor(this);\n            this.WhereClause = createWhereClauseConstructor(this);\n            this.on(\"versionchange\", function (ev) {\n                if (ev.newVersion > 0)\n                    console.warn(\"Another connection wants to upgrade database '\".concat(_this.name, \"'. Closing db now to resume the upgrade.\"));\n                else\n                    console.warn(\"Another connection wants to delete database '\".concat(_this.name, \"'. Closing db now to resume the delete request.\"));\n                _this.close({ disableAutoOpen: false });\n            });\n            this.on(\"blocked\", function (ev) {\n                if (!ev.newVersion || ev.newVersion < ev.oldVersion)\n                    console.warn(\"Dexie.delete('\".concat(_this.name, \"') was blocked\"));\n                else\n                    console.warn(\"Upgrade '\".concat(_this.name, \"' blocked by other connection holding version \").concat(ev.oldVersion / 10));\n            });\n            this._maxKey = getMaxKey(options.IDBKeyRange);\n            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };\n            this._fireOnBlocked = function (ev) {\n                _this.on(\"blocked\").fire(ev);\n                connections\n                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })\n                    .map(function (c) { return c.on(\"versionchange\").fire(ev); });\n            };\n            this.use(cacheExistingValuesMiddleware);\n            this.use(cacheMiddleware);\n            this.use(observabilityMiddleware);\n            this.use(virtualIndexMiddleware);\n            this.use(hooksMiddleware);\n            var vipDB = new Proxy(this, {\n                get: function (_, prop, receiver) {\n                    if (prop === '_vip')\n                        return true;\n                    if (prop === 'table')\n                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };\n                    var rv = Reflect.get(_, prop, receiver);\n                    if (rv instanceof Table)\n                        return vipify(rv, vipDB);\n                    if (prop === 'tables')\n                        return rv.map(function (t) { return vipify(t, vipDB); });\n                    if (prop === '_createTransaction')\n                        return function () {\n                            var tx = rv.apply(this, arguments);\n                            return vipify(tx, vipDB);\n                        };\n                    return rv;\n                }\n            });\n            this.vip = vipDB;\n            addons.forEach(function (addon) { return addon(_this); });\n        }\n        Dexie.prototype.version = function (versionNumber) {\n            if (isNaN(versionNumber) || versionNumber < 0.1)\n                throw new exceptions.Type(\"Given version is not a positive number\");\n            versionNumber = Math.round(versionNumber * 10) / 10;\n            if (this.idbdb || this._state.isBeingOpened)\n                throw new exceptions.Schema(\"Cannot add version when database is open\");\n            this.verno = Math.max(this.verno, versionNumber);\n            var versions = this._versions;\n            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];\n            if (versionInstance)\n                return versionInstance;\n            versionInstance = new this.Version(versionNumber);\n            versions.push(versionInstance);\n            versions.sort(lowerVersionFirst);\n            versionInstance.stores({});\n            this._state.autoSchema = false;\n            return versionInstance;\n        };\n        Dexie.prototype._whenReady = function (fn) {\n            var _this = this;\n            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {\n                if (_this._state.openComplete) {\n                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));\n                }\n                if (!_this._state.isBeingOpened) {\n                    if (!_this._state.autoOpen) {\n                        reject(new exceptions.DatabaseClosed());\n                        return;\n                    }\n                    _this.open().catch(nop);\n                }\n                _this._state.dbReadyPromise.then(resolve, reject);\n            }).then(fn);\n        };\n        Dexie.prototype.use = function (_a) {\n            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;\n            if (name)\n                this.unuse({ stack: stack, name: name });\n            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });\n            middlewares.sort(function (a, b) { return a.level - b.level; });\n            return this;\n        };\n        Dexie.prototype.unuse = function (_a) {\n            var stack = _a.stack, name = _a.name, create = _a.create;\n            if (stack && this._middlewares[stack]) {\n                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {\n                    return create ? mw.create !== create :\n                        name ? mw.name !== name :\n                            false;\n                });\n            }\n            return this;\n        };\n        Dexie.prototype.open = function () {\n            var _this = this;\n            return usePSD(globalPSD,\n            function () { return dexieOpen(_this); });\n        };\n        Dexie.prototype._close = function () {\n            this.on.close.fire(new CustomEvent('close'));\n            var state = this._state;\n            var idx = connections.indexOf(this);\n            if (idx >= 0)\n                connections.splice(idx, 1);\n            if (this.idbdb) {\n                try {\n                    this.idbdb.close();\n                }\n                catch (e) { }\n                this.idbdb = null;\n            }\n            if (!state.isBeingOpened) {\n                state.dbReadyPromise = new DexiePromise(function (resolve) {\n                    state.dbReadyResolve = resolve;\n                });\n                state.openCanceller = new DexiePromise(function (_, reject) {\n                    state.cancelOpen = reject;\n                });\n            }\n        };\n        Dexie.prototype.close = function (_a) {\n            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;\n            var state = this._state;\n            if (disableAutoOpen) {\n                if (state.isBeingOpened) {\n                    state.cancelOpen(new exceptions.DatabaseClosed());\n                }\n                this._close();\n                state.autoOpen = false;\n                state.dbOpenError = new exceptions.DatabaseClosed();\n            }\n            else {\n                this._close();\n                state.autoOpen = this._options.autoOpen ||\n                    state.isBeingOpened;\n                state.openComplete = false;\n                state.dbOpenError = null;\n            }\n        };\n        Dexie.prototype.delete = function (closeOptions) {\n            var _this = this;\n            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }\n            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';\n            var state = this._state;\n            return new DexiePromise(function (resolve, reject) {\n                var doDelete = function () {\n                    _this.close(closeOptions);\n                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);\n                    req.onsuccess = wrap(function () {\n                        _onDatabaseDeleted(_this._deps, _this.name);\n                        resolve();\n                    });\n                    req.onerror = eventRejectHandler(reject);\n                    req.onblocked = _this._fireOnBlocked;\n                };\n                if (hasInvalidArguments)\n                    throw new exceptions.InvalidArgument(\"Invalid closeOptions argument to db.delete()\");\n                if (state.isBeingOpened) {\n                    state.dbReadyPromise.then(doDelete);\n                }\n                else {\n                    doDelete();\n                }\n            });\n        };\n        Dexie.prototype.backendDB = function () {\n            return this.idbdb;\n        };\n        Dexie.prototype.isOpen = function () {\n            return this.idbdb !== null;\n        };\n        Dexie.prototype.hasBeenClosed = function () {\n            var dbOpenError = this._state.dbOpenError;\n            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');\n        };\n        Dexie.prototype.hasFailed = function () {\n            return this._state.dbOpenError !== null;\n        };\n        Dexie.prototype.dynamicallyOpened = function () {\n            return this._state.autoSchema;\n        };\n        Object.defineProperty(Dexie.prototype, \"tables\", {\n            get: function () {\n                var _this = this;\n                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Dexie.prototype.transaction = function () {\n            var args = extractTransactionArgs.apply(this, arguments);\n            return this._transaction.apply(this, args);\n        };\n        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {\n            var _this = this;\n            var parentTransaction = PSD.trans;\n            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)\n                parentTransaction = null;\n            var onlyIfCompatible = mode.indexOf('?') !== -1;\n            mode = mode.replace('!', '').replace('?', '');\n            var idbMode, storeNames;\n            try {\n                storeNames = tables.map(function (table) {\n                    var storeName = table instanceof _this.Table ? table.name : table;\n                    if (typeof storeName !== 'string')\n                        throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n                    return storeName;\n                });\n                if (mode == \"r\" || mode === READONLY)\n                    idbMode = READONLY;\n                else if (mode == \"rw\" || mode == READWRITE)\n                    idbMode = READWRITE;\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n                if (parentTransaction) {\n                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n                        if (onlyIfCompatible) {\n                            parentTransaction = null;\n                        }\n                        else\n                            throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n                    }\n                    if (parentTransaction) {\n                        storeNames.forEach(function (storeName) {\n                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                                if (onlyIfCompatible) {\n                                    parentTransaction = null;\n                                }\n                                else\n                                    throw new exceptions.SubTransaction(\"Table \" + storeName +\n                                        \" not included in parent transaction.\");\n                            }\n                        });\n                    }\n                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n                        parentTransaction = null;\n                    }\n                }\n            }\n            catch (e) {\n                return parentTransaction ?\n                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :\n                    rejection(e);\n            }\n            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n            return (parentTransaction ?\n                parentTransaction._promise(idbMode, enterTransaction, \"lock\") :\n                PSD.trans ?\n                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :\n                    this._whenReady(enterTransaction));\n        };\n        Dexie.prototype.table = function (tableName) {\n            if (!hasOwn(this._allTables, tableName)) {\n                throw new exceptions.InvalidTable(\"Table \".concat(tableName, \" does not exist\"));\n            }\n            return this._allTables[tableName];\n        };\n        return Dexie;\n    }());\n\n    var symbolObservable = typeof Symbol !== \"undefined\" && \"observable\" in Symbol\n        ? Symbol.observable\n        : \"@@observable\";\n    var Observable =  (function () {\n        function Observable(subscribe) {\n            this._subscribe = subscribe;\n        }\n        Observable.prototype.subscribe = function (x, error, complete) {\n            return this._subscribe(!x || typeof x === \"function\" ? { next: x, error: error, complete: complete } : x);\n        };\n        Observable.prototype[symbolObservable] = function () {\n            return this;\n        };\n        return Observable;\n    }());\n\n    var domDeps;\n    try {\n        domDeps = {\n            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n        };\n    }\n    catch (e) {\n        domDeps = { indexedDB: null, IDBKeyRange: null };\n    }\n\n    function liveQuery(querier) {\n        var hasValue = false;\n        var currentValue;\n        var observable = new Observable(function (observer) {\n            var scopeFuncIsAsync = isAsyncFunction(querier);\n            function execute(ctx) {\n                var wasRootExec = beginMicroTickScope();\n                try {\n                    if (scopeFuncIsAsync) {\n                        incrementExpectedAwaits();\n                    }\n                    var rv = newScope(querier, ctx);\n                    if (scopeFuncIsAsync) {\n                        rv = rv.finally(decrementExpectedAwaits);\n                    }\n                    return rv;\n                }\n                finally {\n                    wasRootExec && endMicroTickScope();\n                }\n            }\n            var closed = false;\n            var abortController;\n            var accumMuts = {};\n            var currentObs = {};\n            var subscription = {\n                get closed() {\n                    return closed;\n                },\n                unsubscribe: function () {\n                    if (closed)\n                        return;\n                    closed = true;\n                    if (abortController)\n                        abortController.abort();\n                    if (startedListening)\n                        globalEvents.storagemutated.unsubscribe(mutationListener);\n                },\n            };\n            observer.start && observer.start(subscription);\n            var startedListening = false;\n            var doQuery = function () { return execInGlobalContext(_doQuery); };\n            function shouldNotify() {\n                return obsSetsOverlap(currentObs, accumMuts);\n            }\n            var mutationListener = function (parts) {\n                extendObservabilitySet(accumMuts, parts);\n                if (shouldNotify()) {\n                    doQuery();\n                }\n            };\n            var _doQuery = function () {\n                if (closed ||\n                    !domDeps.indexedDB)\n                 {\n                    return;\n                }\n                accumMuts = {};\n                var subscr = {};\n                if (abortController)\n                    abortController.abort();\n                abortController = new AbortController();\n                var ctx = {\n                    subscr: subscr,\n                    signal: abortController.signal,\n                    requery: doQuery,\n                    querier: querier,\n                    trans: null\n                };\n                var ret = execute(ctx);\n                Promise.resolve(ret).then(function (result) {\n                    hasValue = true;\n                    currentValue = result;\n                    if (closed || ctx.signal.aborted) {\n                        return;\n                    }\n                    accumMuts = {};\n                    currentObs = subscr;\n                    if (!objectIsEmpty(currentObs) && !startedListening) {\n                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);\n                        startedListening = true;\n                    }\n                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });\n                }, function (err) {\n                    hasValue = false;\n                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {\n                        if (!closed)\n                            execInGlobalContext(function () {\n                                if (closed)\n                                    return;\n                                observer.error && observer.error(err);\n                            });\n                    }\n                });\n            };\n            setTimeout(doQuery, 0);\n            return subscription;\n        });\n        observable.hasValue = function () { return hasValue; };\n        observable.getValue = function () { return currentValue; };\n        return observable;\n    }\n\n    var Dexie = Dexie$1;\n    props(Dexie, __assign(__assign({}, fullNameExceptions), {\n        delete: function (databaseName) {\n            var db = new Dexie(databaseName, { addons: [] });\n            return db.delete();\n        },\n        exists: function (name) {\n            return new Dexie(name, { addons: [] }).open().then(function (db) {\n                db.close();\n                return true;\n            }).catch('NoSuchDatabaseError', function () { return false; });\n        },\n        getDatabaseNames: function (cb) {\n            try {\n                return getDatabaseNames(Dexie.dependencies).then(cb);\n            }\n            catch (_a) {\n                return rejection(new exceptions.MissingAPI());\n            }\n        },\n        defineClass: function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return Class;\n        }, ignoreTransaction: function (scopeFunc) {\n            return PSD.trans ?\n                usePSD(PSD.transless, scopeFunc) :\n                scopeFunc();\n        }, vip: vip, async: function (generatorFn) {\n            return function () {\n                try {\n                    var rv = awaitIterator(generatorFn.apply(this, arguments));\n                    if (!rv || typeof rv.then !== 'function')\n                        return DexiePromise.resolve(rv);\n                    return rv;\n                }\n                catch (e) {\n                    return rejection(e);\n                }\n            };\n        }, spawn: function (generatorFn, args, thiz) {\n            try {\n                var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n                if (!rv || typeof rv.then !== 'function')\n                    return DexiePromise.resolve(rv);\n                return rv;\n            }\n            catch (e) {\n                return rejection(e);\n            }\n        },\n        currentTransaction: {\n            get: function () { return PSD.trans || null; }\n        }, waitFor: function (promiseOrFunction, optionalTimeout) {\n            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?\n                Dexie.ignoreTransaction(promiseOrFunction) :\n                promiseOrFunction)\n                .timeout(optionalTimeout || 60000);\n            return PSD.trans ?\n                PSD.trans.waitFor(promise) :\n                promise;\n        },\n        Promise: DexiePromise,\n        debug: {\n            get: function () { return debug; },\n            set: function (value) {\n                setDebug(value);\n            }\n        },\n        derive: derive, extend: extend, props: props, override: override,\n        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,\n        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,\n        minKey: minKey,\n        addons: [],\n        connections: connections,\n        errnames: errnames,\n        dependencies: domDeps, cache: cache,\n        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')\n            .map(function (n) { return parseInt(n); })\n            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));\n    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);\n\n    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {\n            if (!propagatingLocally) {\n                var event_1;\n                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {\n                    detail: updatedParts\n                });\n                propagatingLocally = true;\n                dispatchEvent(event_1);\n                propagatingLocally = false;\n            }\n        });\n        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {\n            var detail = _a.detail;\n            if (!propagatingLocally) {\n                propagateLocally(detail);\n            }\n        });\n    }\n    function propagateLocally(updateParts) {\n        var wasMe = propagatingLocally;\n        try {\n            propagatingLocally = true;\n            globalEvents.storagemutated.fire(updateParts);\n            signalSubscribersNow(updateParts, true);\n        }\n        finally {\n            propagatingLocally = wasMe;\n        }\n    }\n    var propagatingLocally = false;\n\n    var bc;\n    var createBC = function () { };\n    if (typeof BroadcastChannel !== 'undefined') {\n        createBC = function () {\n            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);\n            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };\n        };\n        createBC();\n        if (typeof bc.unref === 'function') {\n            bc.unref();\n        }\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {\n            if (!propagatingLocally) {\n                bc.postMessage(changedParts);\n            }\n        });\n    }\n\n    if (typeof addEventListener !== 'undefined') {\n        addEventListener('pagehide', function (event) {\n            if (!Dexie$1.disableBfCache && event.persisted) {\n                if (debug)\n                    console.debug('Dexie: handling persisted pagehide');\n                bc === null || bc === void 0 ? void 0 : bc.close();\n                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {\n                    var db = connections_1[_i];\n                    db.close({ disableAutoOpen: false });\n                }\n            }\n        });\n        addEventListener('pageshow', function (event) {\n            if (!Dexie$1.disableBfCache && event.persisted) {\n                if (debug)\n                    console.debug('Dexie: handling persisted pageshow');\n                createBC();\n                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });\n            }\n        });\n    }\n\n    function add(value) {\n        return new PropModification({ add: value });\n    }\n\n    function remove(value) {\n        return new PropModification({ remove: value });\n    }\n\n    function replacePrefix(a, b) {\n        return new PropModification({ replacePrefix: [a, b] });\n    }\n\n    DexiePromise.rejectionMapper = mapError;\n    setDebug(debug);\n\n    var namedExports = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Dexie: Dexie$1,\n        liveQuery: liveQuery,\n        Entity: Entity,\n        cmp: cmp,\n        PropModification: PropModification,\n        replacePrefix: replacePrefix,\n        add: add,\n        remove: remove,\n        'default': Dexie$1,\n        RangeSet: RangeSet,\n        mergeRanges: mergeRanges,\n        rangesOverlap: rangesOverlap\n    });\n\n    __assign(Dexie$1, namedExports, { default: Dexie$1 });\n\n    return Dexie$1;\n\n}));\n//# sourceMappingURL=dexie.js.map\n","// Making the module version consumable via require - to prohibit\n// multiple occurrancies of the same module in the same app\n// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)\nimport _Dexie from \"./dist/dexie.js\";\nconst DexieSymbol = Symbol.for(\"Dexie\");\nconst Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _Dexie);\nif (_Dexie.semVer !== Dexie.semVer) {\n    throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);\n}\nconst { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Entity,\n    PropModification, replacePrefix, add, remove,\n    DexieYProvider } = Dexie;\nexport { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Dexie, Entity,\n    PropModification, replacePrefix, add, remove,\n    DexieYProvider};\n    \nexport default Dexie;\n","// IndexedDB database using Dexie.js\n// This provides a structured, indexed storage layer for bookmarks and enrichment data\n\nimport Dexie from 'dexie';\n\n// Initialize Dexie database\nexport const db = new Dexie('BookmarkInsightsDB');\n\n// Define schema version 1\ndb.version(1).stores({\n  bookmarks: 'id, url, title, domain, category, dateAdded, lastAccessed, lastChecked, isAlive, parentId',\n  enrichmentQueue: '++queueId, bookmarkId, addedAt, priority',\n  events: '++eventId, bookmarkId, type, timestamp',\n  cache: 'key',\n  settings: 'key'\n});\n\n// Schema version 2: Add rawMetadata field for comprehensive data storage\ndb.version(2).stores({\n  bookmarks: 'id, url, title, domain, category, dateAdded, lastAccessed, lastChecked, isAlive, parentId',\n  enrichmentQueue: '++queueId, bookmarkId, addedAt, priority',\n  events: '++eventId, bookmarkId, type, timestamp',\n  cache: 'key',\n  settings: 'key'\n}).upgrade(tx => {\n  console.log('Upgrading database to version 2 - adding rawMetadata support');\n  // No need to modify existing records, new field will be added on enrichment\n});\n\n// Schema version 3: Add similarities and computedMetrics tables for caching\ndb.version(3).stores({\n  bookmarks: 'id, url, title, domain, category, dateAdded, lastAccessed, lastChecked, isAlive, parentId',\n  enrichmentQueue: '++queueId, bookmarkId, addedAt, priority',\n  events: '++eventId, bookmarkId, type, timestamp',\n  cache: 'key',\n  settings: 'key',\n  similarities: '++id, bookmark1Id, bookmark2Id, score, [bookmark1Id+bookmark2Id]',\n  computedMetrics: 'key'\n}).upgrade(tx => {\n  console.log('Upgrading database to version 3 - adding similarities and computedMetrics tables');\n});\n\n// Define default settings\nconst DEFAULT_SETTINGS = {\n  enrichmentEnabled: true,\n  enrichmentSchedule: 'manual', // 'manual' only - user triggers enrichment\n  enrichmentBatchSize: 20,\n  enrichmentConcurrency: 3, // Number of parallel requests (1-10)\n  enrichmentRateLimit: 1000, // milliseconds between requests (deprecated with concurrency)\n  enrichmentFreshnessDays: 30, // Re-enrich bookmarks older than this many days (0 = always re-enrich)\n  autoCategorizationEnabled: true,\n  deadLinkCheckEnabled: true,\n  privacyMode: false, // If true, skip enrichment entirely\n  trackBrowsingBehavior: false // If false, don't track tab visits (default OFF for privacy)\n};\n\n// Initialize settings\nexport async function initializeSettings() {\n  try {\n    const existingSettings = await db.settings.get('app');\n    if (!existingSettings) {\n      await db.settings.put({ key: 'app', ...DEFAULT_SETTINGS });\n    }\n  } catch (error) {\n    console.error('Error initializing settings:', error);\n  }\n}\n\n// Get current settings\nexport async function getSettings() {\n  try {\n    const settings = await db.settings.get('app');\n    return settings || DEFAULT_SETTINGS;\n  } catch (error) {\n    console.error('Error getting settings:', error);\n    return DEFAULT_SETTINGS;\n  }\n}\n\n// Update settings\nexport async function updateSettings(newSettings) {\n  try {\n    const current = await getSettings();\n    await db.settings.put({ key: 'app', ...current, ...newSettings });\n    return true;\n  } catch (error) {\n    console.error('Error updating settings:', error);\n    return false;\n  }\n}\n\n// Migration: Import data from chrome.storage.local to IndexedDB\nexport async function migrateFromChromeStorage() {\n  try {\n    // Check if migration has already been done\n    const migrationStatus = await db.settings.get('migration');\n    if (migrationStatus && migrationStatus.completed) {\n      console.log('Migration already completed');\n      return { success: true, alreadyMigrated: true };\n    }\n\n    console.log('Starting migration from chrome.storage.local to IndexedDB...');\n    \n    // Get existing data from chrome.storage.local\n    const result = await chrome.storage.local.get(['bookmarks', 'lastSyncTime']);\n    const oldBookmarks = result.bookmarks || [];\n    \n    if (oldBookmarks.length === 0) {\n      console.log('No bookmarks to migrate');\n      await db.settings.put({ key: 'migration', completed: true, timestamp: Date.now(), count: 0 });\n      return { success: true, count: 0 };\n    }\n\n    // Transform old bookmarks to new schema with enrichment fields\n    const newBookmarks = oldBookmarks.map(bookmark => ({\n      ...bookmark,\n      // New enrichment fields\n      description: null,\n      keywords: [],\n      category: null,\n      tags: [],\n      isAlive: null, // null = unknown, true = alive, false = dead\n      lastChecked: null,\n      faviconUrl: null,\n      contentSnippet: null,\n      lastAccessed: null,\n      accessCount: 0\n    }));\n\n    // Bulk insert into IndexedDB\n    await db.bookmarks.bulkPut(newBookmarks);\n    \n    // Mark migration as complete\n    await db.settings.put({ \n      key: 'migration', \n      completed: true, \n      timestamp: Date.now(), \n      count: newBookmarks.length,\n      oldSyncTime: result.lastSyncTime\n    });\n\n    console.log(`Successfully migrated ${newBookmarks.length} bookmarks`);\n    return { success: true, count: newBookmarks.length };\n  } catch (error) {\n    console.error('Migration error:', error);\n    return { success: false, error: error.message };\n  }\n}\n\n// Get all bookmarks from IndexedDB\nexport async function getAllBookmarks() {\n  try {\n    return await db.bookmarks.toArray();\n  } catch (error) {\n    console.error('Error getting bookmarks:', error);\n    return [];\n  }\n}\n\n// Get bookmark by ID\nexport async function getBookmark(id) {\n  try {\n    return await db.bookmarks.get(id);\n  } catch (error) {\n    console.error('Error getting bookmark:', error);\n    return null;\n  }\n}\n\n// Add or update a bookmark\nexport async function upsertBookmark(bookmark) {\n  try {\n    await db.bookmarks.put(bookmark);\n    return true;\n  } catch (error) {\n    console.error('Error upserting bookmark:', error);\n    return false;\n  }\n}\n\n// Add multiple bookmarks\nexport async function bulkUpsertBookmarks(bookmarks) {\n  try {\n    await db.bookmarks.bulkPut(bookmarks);\n    return true;\n  } catch (error) {\n    console.error('Error bulk upserting bookmarks:', error);\n    return false;\n  }\n}\n\n/**\n * Smart merge bookmarks - preserves enrichment data during sync\n * This fixes the issue where extension updates reset enrichment progress\n * @param {Array} newBookmarks - Fresh bookmarks from Chrome API\n * @returns {Promise<boolean>} Success status\n */\nexport async function smartMergeBookmarks(newBookmarks) {\n  try {\n    // Get all existing bookmarks as a map for fast lookup\n    const existingBookmarks = await db.bookmarks.toArray();\n    const existingMap = new Map(existingBookmarks.map(b => [b.id, b]));\n    \n    // Merge new bookmarks with existing enrichment data\n    const mergedBookmarks = newBookmarks.map(newBookmark => {\n      const existing = existingMap.get(newBookmark.id);\n      \n      if (existing) {\n        // Preserve enrichment data from existing bookmark\n        return {\n          // Chrome bookmark fields (always take fresh)\n          id: newBookmark.id,\n          title: newBookmark.title,\n          url: newBookmark.url,\n          dateAdded: newBookmark.dateAdded,\n          parentId: newBookmark.parentId,\n          folderPath: newBookmark.folderPath,\n          domain: newBookmark.domain,\n          // Enrichment fields (preserve existing)\n          description: existing.description ?? null,\n          keywords: existing.keywords ?? [],\n          category: existing.category ?? null,\n          tags: existing.tags ?? [],\n          isAlive: existing.isAlive ?? null,\n          lastChecked: existing.lastChecked ?? null,\n          faviconUrl: existing.faviconUrl ?? null,\n          contentSnippet: existing.contentSnippet ?? null,\n          rawMetadata: existing.rawMetadata ?? null,\n          lastAccessed: existing.lastAccessed ?? null,\n          accessCount: existing.accessCount ?? 0,\n        };\n      }\n      \n      // New bookmark - use default enrichment fields\n      return {\n        ...newBookmark,\n        description: null,\n        keywords: [],\n        category: null,\n        tags: [],\n        isAlive: null,\n        lastChecked: null,\n        faviconUrl: null,\n        contentSnippet: null,\n        rawMetadata: null,\n        lastAccessed: null,\n        accessCount: 0,\n      };\n    });\n    \n    // Bulk upsert the merged bookmarks\n    await db.bookmarks.bulkPut(mergedBookmarks);\n    \n    console.log(`Smart merged ${mergedBookmarks.length} bookmarks (${newBookmarks.length - existingMap.size} new, ${existingMap.size} updated)`);\n    return true;\n  } catch (error) {\n    console.error('Error smart merging bookmarks:', error);\n    return false;\n  }\n}\n\n// Delete a bookmark\nexport async function deleteBookmark(id) {\n  try {\n    await db.bookmarks.delete(id);\n    return true;\n  } catch (error) {\n    console.error('Error deleting bookmark:', error);\n    return false;\n  }\n}\n\n// Search bookmarks (basic implementation, will be enhanced with FlexSearch later)\nexport async function searchBookmarks(query) {\n  try {\n    if (!query || !query.trim()) {\n      return await db.bookmarks.orderBy('dateAdded').reverse().toArray();\n    }\n\n    const lowerQuery = query.toLowerCase();\n    const bookmarks = await db.bookmarks.toArray();\n    \n    return bookmarks.filter(bookmark => \n      bookmark.title.toLowerCase().includes(lowerQuery) ||\n      bookmark.url.toLowerCase().includes(lowerQuery) ||\n      (bookmark.domain && bookmark.domain.toLowerCase().includes(lowerQuery)) ||\n      (bookmark.description && bookmark.description.toLowerCase().includes(lowerQuery)) ||\n      (bookmark.keywords && bookmark.keywords.some(k => k.toLowerCase().includes(lowerQuery)))\n    ).sort((a, b) => b.dateAdded - a.dateAdded);\n  } catch (error) {\n    console.error('Search error:', error);\n    return [];\n  }\n}\n\n// Get bookmarks by domain\nexport async function getBookmarksByDomain(domain) {\n  try {\n    return await db.bookmarks.where('domain').equals(domain).toArray();\n  } catch (error) {\n    console.error('Error getting bookmarks by domain:', error);\n    return [];\n  }\n}\n\n// Get bookmarks by category\nexport async function getBookmarksByCategory(category) {\n  try {\n    return await db.bookmarks.where('category').equals(category).toArray();\n  } catch (error) {\n    console.error('Error getting bookmarks by category:', error);\n    return [];\n  }\n}\n\n// Get bookmarks by date range\nexport async function getBookmarksByDateRange(startDate, endDate) {\n  try {\n    return await db.bookmarks\n      .where('dateAdded')\n      .between(startDate, endDate, true, true)\n      .toArray();\n  } catch (error) {\n    console.error('Error getting bookmarks by date range:', error);\n    return [];\n  }\n}\n\n// Get unique domains\nexport async function getUniqueDomains() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const domains = [...new Set(bookmarks.map(b => b.domain).filter(d => d))];\n    return domains.sort();\n  } catch (error) {\n    console.error('Error getting unique domains:', error);\n    return [];\n  }\n}\n\n// Get unique categories\nexport async function getUniqueCategories() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const categories = [...new Set(bookmarks.map(b => b.category).filter(c => c))];\n    return categories.sort();\n  } catch (error) {\n    console.error('Error getting unique categories:', error);\n    return [];\n  }\n}\n\n// Get domain statistics\nexport async function getDomainStats() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const domainCount = {};\n    \n    bookmarks.forEach(bookmark => {\n      if (bookmark.domain) {\n        domainCount[bookmark.domain] = (domainCount[bookmark.domain] || 0) + 1;\n      }\n    });\n    \n    return Object.entries(domainCount)\n      .sort(([, a], [, b]) => b - a)\n      .slice(0, 10);\n  } catch (error) {\n    console.error('Error getting domain stats:', error);\n    return [];\n  }\n}\n\n// Get activity timeline\nexport async function getActivityTimeline() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const monthlyCount = {};\n    \n    bookmarks.forEach(bookmark => {\n      const date = new Date(bookmark.dateAdded);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      monthlyCount[monthKey] = (monthlyCount[monthKey] || 0) + 1;\n    });\n    \n    return Object.entries(monthlyCount).sort();\n  } catch (error) {\n    console.error('Error getting activity timeline:', error);\n    return [];\n  }\n}\n\n// Event logging\nexport async function logEvent(bookmarkId, type, metadata = {}) {\n  try {\n    await db.events.add({\n      bookmarkId,\n      type, // 'create', 'delete', 'access', 'update', 'enrichment'\n      timestamp: Date.now(),\n      ...metadata\n    });\n    return true;\n  } catch (error) {\n    console.error('Error logging event:', error);\n    return false;\n  }\n}\n\n// Get events for a bookmark\nexport async function getBookmarkEvents(bookmarkId, limit = 50) {\n  try {\n    return await db.events\n      .where('bookmarkId').equals(bookmarkId)\n      .reverse()\n      .limit(limit)\n      .toArray();\n  } catch (error) {\n    console.error('Error getting bookmark events:', error);\n    return [];\n  }\n}\n\n// Get recent events\nexport async function getRecentEvents(limit = 100) {\n  try {\n    return await db.events\n      .orderBy('timestamp')\n      .reverse()\n      .limit(limit)\n      .toArray();\n  } catch (error) {\n    console.error('Error getting recent events:', error);\n    return [];\n  }\n}\n\n// Cache operations\nexport async function setCache(key, value, ttl = null) {\n  try {\n    await db.cache.put({\n      key,\n      value,\n      timestamp: Date.now(),\n      ttl\n    });\n    return true;\n  } catch (error) {\n    console.error('Error setting cache:', error);\n    return false;\n  }\n}\n\nexport async function getCache(key) {\n  try {\n    const cached = await db.cache.get(key);\n    if (!cached) return null;\n    \n    // Check TTL\n    if (cached.ttl && Date.now() - cached.timestamp > cached.ttl) {\n      await db.cache.delete(key);\n      return null;\n    }\n    \n    return cached.value;\n  } catch (error) {\n    console.error('Error getting cache:', error);\n    return null;\n  }\n}\n\nexport async function clearCache(keyPattern = null) {\n  try {\n    if (keyPattern) {\n      const allCache = await db.cache.toArray();\n      const toDelete = allCache.filter(c => c.key.includes(keyPattern)).map(c => c.key);\n      await db.cache.bulkDelete(toDelete);\n    } else {\n      await db.cache.clear();\n    }\n    return true;\n  } catch (error) {\n    console.error('Error clearing cache:', error);\n    return false;\n  }\n}\n\n// Enrichment queue operations\nexport async function addToEnrichmentQueue(bookmarkId, priority = 0) {\n  try {\n    // Check if already in queue\n    const existing = await db.enrichmentQueue.where('bookmarkId').equals(bookmarkId).first();\n    if (existing) {\n      return false; // Already queued\n    }\n    \n    await db.enrichmentQueue.add({\n      bookmarkId,\n      addedAt: Date.now(),\n      priority // Higher priority = processed first\n    });\n    return true;\n  } catch (error) {\n    console.error('Error adding to enrichment queue:', error);\n    return false;\n  }\n}\n\nexport async function getNextEnrichmentBatch(batchSize = 20) {\n  try {\n    return await db.enrichmentQueue\n      .orderBy('priority')\n      .reverse()\n      .limit(batchSize)\n      .toArray();\n  } catch (error) {\n    console.error('Error getting enrichment batch:', error);\n    return [];\n  }\n}\n\nexport async function removeFromEnrichmentQueue(queueId) {\n  try {\n    await db.enrichmentQueue.delete(queueId);\n    return true;\n  } catch (error) {\n    console.error('Error removing from enrichment queue:', error);\n    return false;\n  }\n}\n\nexport async function clearEnrichmentQueue() {\n  try {\n    await db.enrichmentQueue.clear();\n    return true;\n  } catch (error) {\n    console.error('Error clearing enrichment queue:', error);\n    return false;\n  }\n}\n\nexport async function getEnrichmentQueueSize() {\n  try {\n    return await db.enrichmentQueue.count();\n  } catch (error) {\n    console.error('Error getting queue size:', error);\n    return 0;\n  }\n}\n\n// Initialize database\nexport async function initializeDatabase() {\n  try {\n    await initializeSettings();\n    const migrationResult = await migrateFromChromeStorage();\n    console.log('Database initialized', migrationResult);\n    return migrationResult;\n  } catch (error) {\n    console.error('Error initializing database:', error);\n    return { success: false, error: error.message };\n  }\n}\n\n// =============================================\n// Computed Metrics Caching System\n// =============================================\n\n/**\n * Cache duration constants (in milliseconds)\n */\nconst CACHE_DURATIONS = {\n  domainStats: 60 * 60 * 1000,      // 1 hour\n  activityTimeline: 6 * 60 * 60 * 1000,  // 6 hours\n  wordFrequency: 24 * 60 * 60 * 1000,    // 24 hours\n  ageDistribution: 6 * 60 * 60 * 1000,   // 6 hours\n  categoryTrends: 24 * 60 * 60 * 1000,   // 24 hours\n  expertiseAreas: 24 * 60 * 60 * 1000,   // 24 hours\n  quickStats: 5 * 60 * 1000,             // 5 minutes\n  duplicates: 24 * 60 * 60 * 1000,       // 24 hours\n  similarities: 24 * 60 * 60 * 1000,     // 24 hours\n  insightsSummary: 5 * 60 * 1000,        // 5 minutes\n};\n\n/**\n * Generic cached metric getter\n * @param {string} key - Cache key\n * @param {Function} computeFn - Function to compute the metric if not cached\n * @param {number} ttlMs - Time to live in milliseconds\n * @returns {Promise<any>} Cached or computed data\n */\nexport async function getCachedMetric(key, computeFn, ttlMs) {\n  try {\n    const cached = await db.computedMetrics.get(key);\n    if (cached && cached.validUntil > Date.now()) {\n      console.log(`Cache hit for metric: ${key}`);\n      return cached.data;\n    }\n    \n    console.log(`Cache miss for metric: ${key}, computing...`);\n    const data = await computeFn();\n    \n    await db.computedMetrics.put({\n      key,\n      data,\n      computedAt: Date.now(),\n      validUntil: Date.now() + ttlMs\n    });\n    \n    return data;\n  } catch (error) {\n    console.error(`Error getting cached metric ${key}:`, error);\n    // Fall back to computing without cache\n    return computeFn();\n  }\n}\n\n/**\n * Invalidate specific metric caches based on change type\n * @param {string} changeType - Type of change: 'add', 'delete', 'update', 'enrich'\n */\nexport async function invalidateMetricCaches(changeType) {\n  const keysToInvalidate = {\n    'add': ['domainStats', 'quickStats', 'activityTimeline', 'ageDistribution', 'insightsSummary'],\n    'delete': ['domainStats', 'quickStats', 'duplicates', 'similarities', 'insightsSummary'],\n    'update': ['quickStats', 'insightsSummary'],\n    'enrich': ['categoryTrends', 'expertiseAreas', 'insightsSummary', 'quickStats'],\n    'all': Object.keys(CACHE_DURATIONS) // Invalidate all\n  };\n  \n  const keys = keysToInvalidate[changeType] || [];\n  \n  try {\n    for (const key of keys) {\n      await db.computedMetrics.delete(key);\n    }\n    console.log(`Invalidated caches for change type: ${changeType}`, keys);\n  } catch (error) {\n    console.error('Error invalidating metric caches:', error);\n  }\n}\n\n/**\n * Clear all computed metrics (useful for debugging or forced refresh)\n */\nexport async function clearAllMetricCaches() {\n  try {\n    await db.computedMetrics.clear();\n    console.log('Cleared all metric caches');\n    return true;\n  } catch (error) {\n    console.error('Error clearing metric caches:', error);\n    return false;\n  }\n}\n\n// =============================================\n// Similarity Storage Functions\n// =============================================\n\n/**\n * Store similarity results for a bookmark\n * @param {string} bookmarkId - Source bookmark ID\n * @param {Array} similarities - Array of {bookmark2Id, score} objects\n */\nexport async function storeSimilarities(bookmarkId, similarities) {\n  try {\n    // Remove old similarities for this bookmark\n    await db.similarities.where('bookmark1Id').equals(bookmarkId).delete();\n    \n    // Add new similarities\n    const records = similarities.map(sim => ({\n      bookmark1Id: bookmarkId,\n      bookmark2Id: sim.bookmark2Id,\n      score: sim.score,\n      computedAt: Date.now()\n    }));\n    \n    await db.similarities.bulkAdd(records);\n    return true;\n  } catch (error) {\n    console.error('Error storing similarities:', error);\n    return false;\n  }\n}\n\n/**\n * Get stored similar bookmarks for a specific bookmark\n * @param {string} bookmarkId - Bookmark ID\n * @returns {Promise<Array>} Array of similar bookmarks with scores\n */\nexport async function getStoredSimilarities(bookmarkId) {\n  try {\n    return await db.similarities.where('bookmark1Id').equals(bookmarkId).toArray();\n  } catch (error) {\n    console.error('Error getting stored similarities:', error);\n    return [];\n  }\n}\n\n/**\n * Clear all stored similarities (call when bookmarks are deleted)\n */\nexport async function clearSimilarities() {\n  try {\n    await db.similarities.clear();\n    return true;\n  } catch (error) {\n    console.error('Error clearing similarities:', error);\n    return false;\n  }\n}\n\n// Export cache durations for use in other modules\nexport { CACHE_DURATIONS };\n\n// =============================================\n// Consolidated Analytics Functions\n// (Migrated from database.js for single source of truth)\n// =============================================\n\n/**\n * Get bookmarks with pagination and filtering\n * @param {number} page - Page number (0-indexed)\n * @param {number} pageSize - Items per page\n * @param {Object} filters - Filter options\n * @returns {Promise<Object>} Paginated results\n */\nexport async function getBookmarksPaginated(page = 0, pageSize = 50, filters = {}) {\n  try {\n    let bookmarks = await getAllBookmarks();\n    \n    // Apply multiple filters\n    if (filters.domains && filters.domains.length > 0) {\n      bookmarks = bookmarks.filter(b => filters.domains.includes(b.domain));\n    }\n    \n    if (filters.folders && filters.folders.length > 0) {\n      bookmarks = bookmarks.filter(b => filters.folders.includes(b.folderPath));\n    }\n    \n    if (filters.dateRange) {\n      bookmarks = bookmarks.filter(b => \n        b.dateAdded >= filters.dateRange.startDate && \n        b.dateAdded <= filters.dateRange.endDate\n      );\n    }\n    \n    if (filters.searchQuery) {\n      const lowerQuery = filters.searchQuery.toLowerCase();\n      bookmarks = bookmarks.filter(b => \n        (b.title && b.title.toLowerCase().includes(lowerQuery)) ||\n        (b.url && b.url.toLowerCase().includes(lowerQuery)) ||\n        (b.domain && b.domain.toLowerCase().includes(lowerQuery)) ||\n        (b.description && b.description.toLowerCase().includes(lowerQuery))\n      );\n    }\n    \n    if (filters.category) {\n      bookmarks = bookmarks.filter(b => b.category === filters.category);\n    }\n    \n    if (filters.isEnriched !== undefined) {\n      bookmarks = filters.isEnriched \n        ? bookmarks.filter(b => b.lastChecked) \n        : bookmarks.filter(b => !b.lastChecked);\n    }\n    \n    // Apply sorting\n    const sortBy = filters.sortBy || 'date_desc';\n    switch (sortBy) {\n      case 'date_asc':\n        bookmarks.sort((a, b) => a.dateAdded - b.dateAdded);\n        break;\n      case 'title_asc':\n        bookmarks.sort((a, b) => (a.title || '').localeCompare(b.title || ''));\n        break;\n      case 'title_desc':\n        bookmarks.sort((a, b) => (b.title || '').localeCompare(a.title || ''));\n        break;\n      case 'domain_asc':\n        bookmarks.sort((a, b) => (a.domain || '').localeCompare(b.domain || ''));\n        break;\n      case 'accessed_desc':\n        bookmarks.sort((a, b) => (b.lastAccessed || 0) - (a.lastAccessed || 0));\n        break;\n      case 'date_desc':\n      default:\n        bookmarks.sort((a, b) => b.dateAdded - a.dateAdded);\n        break;\n    }\n    \n    const startIndex = page * pageSize;\n    const endIndex = startIndex + pageSize;\n    \n    return {\n      bookmarks: bookmarks.slice(startIndex, endIndex),\n      totalCount: bookmarks.length,\n      hasMore: endIndex < bookmarks.length,\n      currentPage: page,\n      totalPages: Math.ceil(bookmarks.length / pageSize)\n    };\n  } catch (error) {\n    console.error('Error getting paginated bookmarks:', error);\n    return { bookmarks: [], totalCount: 0, hasMore: false, currentPage: 0, totalPages: 0 };\n  }\n}\n\n/**\n * Get consolidated domain analytics in a single pass\n */\nexport async function getConsolidatedDomainAnalytics() {\n  return getCachedMetric('domainAnalytics', async () => {\n    const bookmarks = await getAllBookmarks();\n    const domainData = {};\n    \n    bookmarks.forEach(bookmark => {\n      if (!bookmark.domain) return;\n      \n      if (!domainData[bookmark.domain]) {\n        domainData[bookmark.domain] = {\n          domain: bookmark.domain,\n          count: 0,\n          latestDate: 0,\n          oldestDate: Infinity,\n          enrichedCount: 0\n        };\n      }\n      \n      const data = domainData[bookmark.domain];\n      data.count++;\n      if (bookmark.lastChecked) data.enrichedCount++;\n      if (bookmark.dateAdded > data.latestDate) data.latestDate = bookmark.dateAdded;\n      if (bookmark.dateAdded < data.oldestDate) data.oldestDate = bookmark.dateAdded;\n    });\n    \n    const domainArray = Object.values(domainData);\n    const totalBookmarks = bookmarks.length;\n    \n    domainArray.forEach(d => {\n      d.percentage = totalBookmarks > 0 ? Math.round((d.count / totalBookmarks) * 100) : 0;\n      d.dateAdded = d.latestDate;\n    });\n    \n    return {\n      byRecency: [...domainArray].sort((a, b) => b.latestDate - a.latestDate),\n      byCount: [...domainArray].sort((a, b) => b.count - a.count),\n      top10: [...domainArray].sort((a, b) => b.count - a.count).slice(0, 10),\n      totalDomains: domainArray.length,\n      totalBookmarks\n    };\n  }, CACHE_DURATIONS.domainStats);\n}\n\n/**\n * Get unique folders from bookmarks\n */\nexport async function getUniqueFolders() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    const folders = [...new Set(bookmarks.map(b => b.folderPath).filter(f => f))];\n    return folders.sort();\n  } catch (error) {\n    console.error('Error getting unique folders:', error);\n    return [];\n  }\n}\n\n/**\n * Get bookmark age distribution\n */\nexport async function getBookmarkAgeDistribution() {\n  return getCachedMetric('ageDistribution', async () => {\n    const bookmarks = await getAllBookmarks();\n    const now = Date.now();\n    const ageGroups = {\n      'Last 24 hours': 0,\n      'Last week': 0,\n      'Last month': 0,\n      'Last 3 months': 0,\n      'Last 6 months': 0,\n      'Last year': 0,\n      'Over 1 year': 0\n    };\n    \n    const DAY = 24 * 60 * 60 * 1000;\n    const WEEK = 7 * DAY;\n    const MONTH = 30 * DAY;\n    \n    bookmarks.forEach(bookmark => {\n      const age = now - bookmark.dateAdded;\n      \n      if (age <= DAY) ageGroups['Last 24 hours']++;\n      else if (age <= WEEK) ageGroups['Last week']++;\n      else if (age <= MONTH) ageGroups['Last month']++;\n      else if (age <= 3 * MONTH) ageGroups['Last 3 months']++;\n      else if (age <= 6 * MONTH) ageGroups['Last 6 months']++;\n      else if (age <= 365 * DAY) ageGroups['Last year']++;\n      else ageGroups['Over 1 year']++;\n    });\n    \n    return Object.entries(ageGroups);\n  }, CACHE_DURATIONS.ageDistribution);\n}\n\n/**\n * Get bookmark creation patterns (hourly, daily, monthly)\n */\nexport async function getBookmarkCreationPatterns() {\n  return getCachedMetric('creationPatterns', async () => {\n    const bookmarks = await getAllBookmarks();\n    const hourPatterns = new Array(24).fill(0);\n    const dayPatterns = new Array(7).fill(0);\n    const monthPatterns = new Array(12).fill(0);\n    \n    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    \n    bookmarks.forEach(bookmark => {\n      const date = new Date(bookmark.dateAdded);\n      hourPatterns[date.getHours()]++;\n      dayPatterns[date.getDay()]++;\n      monthPatterns[date.getMonth()]++;\n    });\n    \n    return {\n      hourly: hourPatterns.map((count, hour) => [`${hour}:00`, count]),\n      daily: dayPatterns.map((count, day) => [dayNames[day], count]),\n      monthly: monthPatterns.map((count, month) => [monthNames[month], count])\n    };\n  }, CACHE_DURATIONS.ageDistribution);\n}\n\n/**\n * Get title word frequency\n */\nexport async function getTitleWordFrequency() {\n  return getCachedMetric('wordFrequency', async () => {\n    const bookmarks = await getAllBookmarks();\n    const wordCount = {};\n    \n    const stopWords = new Set([\n      'the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by',\n      'is', 'are', 'was', 'were', 'be', 'been', 'have', 'has', 'had', 'do', 'does', 'did',\n      'will', 'would', 'could', 'should', 'may', 'might', 'can', 'about', 'from', 'up', 'out'\n    ]);\n    \n    bookmarks.forEach(bookmark => {\n      if (bookmark.title) {\n        const words = bookmark.title\n          .toLowerCase()\n          .replace(/[^\\w\\s]/g, ' ')\n          .split(/\\s+/)\n          .filter(word => word.length > 2 && !stopWords.has(word));\n        \n        words.forEach(word => {\n          wordCount[word] = (wordCount[word] || 0) + 1;\n        });\n      }\n    });\n    \n    return Object.entries(wordCount)\n      .sort(([, a], [, b]) => b - a)\n      .slice(0, 20);\n  }, CACHE_DURATIONS.wordFrequency);\n}\n\n/**\n * Find duplicate bookmarks\n */\nexport async function findDuplicates() {\n  return getCachedMetric('duplicates', async () => {\n    const bookmarks = await getAllBookmarks();\n    const urlMap = {};\n    \n    bookmarks.forEach(bookmark => {\n      const normalizedUrl = bookmark.url.toLowerCase().replace(/\\/$/, '');\n      if (!urlMap[normalizedUrl]) {\n        urlMap[normalizedUrl] = [];\n      }\n      urlMap[normalizedUrl].push(bookmark);\n    });\n    \n    return Object.values(urlMap).filter(group => group.length > 1);\n  }, CACHE_DURATIONS.duplicates);\n}\n\n/**\n * Find uncategorized bookmarks (in root folders)\n */\nexport async function findUncategorizedBookmarks() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    const rootFolders = ['Bookmarks Bar', 'Other Bookmarks', 'Mobile Bookmarks', ''];\n    \n    return bookmarks.filter(bookmark => {\n      const folderPath = bookmark.folderPath || '';\n      return rootFolders.includes(folderPath) || !folderPath.includes('/');\n    });\n  } catch (error) {\n    console.error('Error finding uncategorized bookmarks:', error);\n    return [];\n  }\n}\n\n/**\n * Find malformed URLs\n */\nexport async function findMalformedUrls() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    \n    const validSchemes = [\n      'http://', 'https://', 'chrome://', 'chrome-extension://',\n      'file://', 'javascript:', 'data:', 'about:', 'mailto:',\n      'tel:', 'ftp://', 'sftp://', 'ssh://'\n    ];\n    \n    return bookmarks.filter(bookmark => {\n      const url = bookmark.url || '';\n      const hasValidScheme = validSchemes.some(scheme => url.startsWith(scheme));\n      return !hasValidScheme || url.trim() === '';\n    });\n  } catch (error) {\n    console.error('Error finding malformed URLs:', error);\n    return [];\n  }\n}\n\n/**\n * Get quick statistics for dashboard\n */\nexport async function getQuickStats() {\n  return getCachedMetric('quickStats', async () => {\n    const bookmarks = await getAllBookmarks();\n    const duplicates = await findDuplicates();\n    const uncategorized = await findUncategorizedBookmarks();\n    const malformed = await findMalformedUrls();\n    \n    const now = Date.now();\n    const oneWeek = 7 * 24 * 60 * 60 * 1000;\n    const oneMonth = 30 * 24 * 60 * 60 * 1000;\n    \n    const enriched = bookmarks.filter(b => b.lastChecked).length;\n    const deadLinks = bookmarks.filter(b => b.isAlive === false).length;\n    const uniqueDomains = new Set(bookmarks.map(b => b.domain).filter(d => d)).size;\n    \n    return {\n      total: bookmarks.length,\n      enriched,\n      pending: bookmarks.length - enriched,\n      enrichedPercentage: bookmarks.length > 0 ? Math.round((enriched / bookmarks.length) * 100) : 0,\n      duplicateGroups: duplicates.length,\n      uncategorized: uncategorized.length,\n      malformed: malformed.length,\n      deadLinks,\n      uniqueDomains,\n      addedThisWeek: bookmarks.filter(b => now - b.dateAdded < oneWeek).length,\n      addedThisMonth: bookmarks.filter(b => now - b.dateAdded < oneMonth).length,\n      oldestBookmark: bookmarks.reduce((oldest, b) => b.dateAdded < oldest ? b.dateAdded : oldest, Date.now()),\n      newestBookmark: bookmarks.reduce((newest, b) => b.dateAdded > newest ? b.dateAdded : newest, 0)\n    };\n  }, CACHE_DURATIONS.quickStats);\n}\n\n/**\n * Export bookmarks to JSON format\n */\nexport async function exportBookmarks() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    return {\n      exportDate: new Date().toISOString(),\n      version: '2.0',\n      totalBookmarks: bookmarks.length,\n      bookmarks: bookmarks\n    };\n  } catch (error) {\n    console.error('Error exporting bookmarks:', error);\n    throw error;\n  }\n}\n\n// =============================================\n// Additional Analytics Functions (migrated from database.js)\n// =============================================\n\n/**\n * Get bookmarks by folder path\n */\nexport async function getBookmarksByFolder(folderPath) {\n  try {\n    const bookmarks = await getAllBookmarks();\n    return bookmarks.filter(bookmark => bookmark.folderPath === folderPath);\n  } catch (error) {\n    console.error('Error getting bookmarks by folder:', error);\n    return [];\n  }\n}\n\n/**\n * Find similar bookmarks using word overlap\n */\nexport async function findSimilarBookmarks(threshold = 0.7, maxPairs = 100) {\n  try {\n    const bookmarks = await getAllBookmarks();\n    const similar = [];\n    \n    // Pre-compute word sets\n    const wordSets = bookmarks.map(b => ({\n      bookmark: b,\n      words: new Set(b.title.toLowerCase().split(/\\s+/).filter(w => w.length > 2))\n    })).filter(item => item.words.size > 0);\n    \n    for (let i = 0; i < wordSets.length; i++) {\n      for (let j = i + 1; j < wordSets.length; j++) {\n        if (wordSets[i].bookmark.url === wordSets[j].bookmark.url) continue;\n        \n        const words1 = wordSets[i].words;\n        const words2 = wordSets[j].words;\n        \n        const intersection = [...words1].filter(w => words2.has(w)).length;\n        const similarity = (2 * intersection) / (words1.size + words2.size);\n        \n        if (similarity >= threshold) {\n          similar.push([wordSets[i].bookmark, wordSets[j].bookmark, similarity]);\n        }\n      }\n      \n      if (similar.length >= maxPairs * 2) break;\n    }\n    \n    return similar.sort((a, b) => b[2] - a[2]).slice(0, maxPairs);\n  } catch (error) {\n    console.error('Error finding similar bookmarks:', error);\n    return [];\n  }\n}\n\n/**\n * Legacy alias for backward compatibility\n */\nexport async function findOrphans() {\n  return findUncategorizedBookmarks();\n}\n\n/**\n * Get domains sorted by recency\n */\nexport async function getDomainsByRecency() {\n  const analytics = await getConsolidatedDomainAnalytics();\n  return analytics.byRecency;\n}\n\n/**\n * Get domains sorted by count\n */\nexport async function getDomainsByCount() {\n  const analytics = await getConsolidatedDomainAnalytics();\n  return analytics.byCount;\n}\n\n/**\n * Delete multiple bookmarks\n */\nexport async function deleteBookmarks(bookmarkIds) {\n  try {\n    const errors = [];\n    \n    // Delete from Chrome bookmarks API\n    for (const id of bookmarkIds) {\n      try {\n        await chrome.bookmarks.remove(id);\n      } catch (error) {\n        console.error(`Error deleting bookmark ${id}:`, error);\n        errors.push({ id, error: error.message });\n      }\n    }\n    \n    // Remove from IndexedDB\n    await db.bookmarks.bulkDelete(bookmarkIds);\n    \n    // Invalidate caches\n    await invalidateMetricCaches('delete');\n    \n    return {\n      success: bookmarkIds.length - errors.length,\n      errors: errors\n    };\n  } catch (error) {\n    console.error('Error deleting bookmarks:', error);\n    throw error;\n  }\n}\n\n/**\n * Get common title patterns\n */\nexport async function getTitlePatterns() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    const patterns = {};\n    \n    bookmarks.forEach(bookmark => {\n      if (bookmark.title) {\n        const title = bookmark.title.toLowerCase();\n        \n        if (title.includes('how to')) patterns['How-to guides'] = (patterns['How-to guides'] || 0) + 1;\n        if (title.includes('tutorial')) patterns['Tutorials'] = (patterns['Tutorials'] || 0) + 1;\n        if (title.includes('documentation') || title.includes('docs')) patterns['Documentation'] = (patterns['Documentation'] || 0) + 1;\n        if (title.includes('api') || title.includes('reference')) patterns['API/Reference'] = (patterns['API/Reference'] || 0) + 1;\n        if (title.includes('blog') || title.includes('article')) patterns['Blog/Articles'] = (patterns['Blog/Articles'] || 0) + 1;\n        if (title.includes('github') || title.includes('repository')) patterns['Code Repositories'] = (patterns['Code Repositories'] || 0) + 1;\n        if (title.includes('video') || title.includes('youtube')) patterns['Videos'] = (patterns['Videos'] || 0) + 1;\n        if (title.includes('tool') || title.includes('app')) patterns['Tools/Apps'] = (patterns['Tools/Apps'] || 0) + 1;\n        \n        if (title.length > 60) patterns['Long titles (60+ chars)'] = (patterns['Long titles (60+ chars)'] || 0) + 1;\n        if (title.split(' ').length <= 3) patterns['Short titles (3 words)'] = (patterns['Short titles (3 words)'] || 0) + 1;\n      }\n    });\n    \n    return Object.entries(patterns).sort(([,a], [,b]) => b - a);\n  } catch (error) {\n    console.error('Error getting title patterns:', error);\n    return [];\n  }\n}\n\n/**\n * Analyze URL patterns\n */\nexport async function getUrlPatterns() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    const protocols = {};\n    const topLevelDomains = {};\n    const pathPatterns = {};\n    const subdomainPatterns = {};\n    \n    bookmarks.forEach(bookmark => {\n      try {\n        const url = new URL(bookmark.url);\n        \n        protocols[url.protocol] = (protocols[url.protocol] || 0) + 1;\n        \n        const domain = url.hostname;\n        const parts = domain.split('.');\n        if (parts.length > 1) {\n          const tld = parts[parts.length - 1];\n          topLevelDomains[tld] = (topLevelDomains[tld] || 0) + 1;\n        }\n        \n        if (parts.length > 2) {\n          const subdomain = parts[0];\n          if (subdomain !== 'www') {\n            subdomainPatterns[subdomain] = (subdomainPatterns[subdomain] || 0) + 1;\n          }\n        }\n        \n        const pathSegments = url.pathname.split('/').filter(segment => segment.length > 0);\n        if (pathSegments.length > 0) {\n          const firstSegment = pathSegments[0];\n          pathPatterns[firstSegment] = (pathPatterns[firstSegment] || 0) + 1;\n        }\n      } catch (e) {\n        // Skip malformed URLs\n      }\n    });\n    \n    return {\n      protocols: Object.entries(protocols).sort(([,a], [,b]) => b - a),\n      topLevelDomains: Object.entries(topLevelDomains).sort(([,a], [,b]) => b - a).slice(0, 10),\n      subdomains: Object.entries(subdomainPatterns).sort(([,a], [,b]) => b - a).slice(0, 10),\n      pathPatterns: Object.entries(pathPatterns).sort(([,a], [,b]) => b - a).slice(0, 15)\n    };\n  } catch (error) {\n    console.error('Error getting URL patterns:', error);\n    return { protocols: [], topLevelDomains: [], subdomains: [], pathPatterns: [] };\n  }\n}\n\n/**\n * Analyze URL parameter usage\n */\nexport async function getUrlParameterUsage() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    const parameterCount = {};\n    let urlsWithParams = 0;\n    let totalUrls = 0;\n    \n    bookmarks.forEach(bookmark => {\n      totalUrls++;\n      try {\n        const url = new URL(bookmark.url);\n        const params = url.searchParams;\n        \n        if (params.toString()) {\n          urlsWithParams++;\n          for (const [key] of params) {\n            parameterCount[key] = (parameterCount[key] || 0) + 1;\n          }\n        }\n      } catch (e) {\n        // Skip malformed URLs\n      }\n    });\n    \n    const parameterUsage = Object.entries(parameterCount)\n      .sort(([,a], [,b]) => b - a)\n      .slice(0, 15);\n    \n    return {\n      parameters: parameterUsage,\n      urlsWithParams,\n      totalUrls,\n      percentage: totalUrls > 0 ? Math.round((urlsWithParams / totalUrls) * 100) : 0\n    };\n  } catch (error) {\n    console.error('Error getting URL parameter usage:', error);\n    return { parameters: [], urlsWithParams: 0, totalUrls: 0, percentage: 0 };\n  }\n}\n\n/**\n * Get domain distribution\n */\nexport async function getDomainDistribution() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    const domainCount = {};\n    \n    bookmarks.forEach(bookmark => {\n      domainCount[bookmark.domain] = (domainCount[bookmark.domain] || 0) + 1;\n    });\n    \n    const sortedDomains = Object.entries(domainCount)\n      .sort(([,a], [,b]) => b - a);\n    \n    const totalBookmarks = bookmarks.length;\n    const top10 = sortedDomains.slice(0, 10);\n    const others = sortedDomains.slice(10);\n    const othersCount = others.reduce((sum, [,count]) => sum + count, 0);\n    \n    const distribution = top10.map(([domain, count]) => ({\n      domain,\n      count,\n      percentage: Math.round((count / totalBookmarks) * 100)\n    }));\n    \n    if (othersCount > 0) {\n      distribution.push({\n        domain: 'Others',\n        count: othersCount,\n        percentage: Math.round((othersCount / totalBookmarks) * 100)\n      });\n    }\n    \n    return distribution;\n  } catch (error) {\n    console.error('Error getting domain distribution:', error);\n    return [];\n  }\n}\n\n/**\n * Get bookmarks that have been detected as dead links\n * Returns bookmarks where isAlive === false (already checked and found dead)\n */\nexport async function getDeadLinks() {\n  try {\n    const bookmarks = await getAllBookmarks();\n    return bookmarks.filter(b => b.isAlive === false);\n  } catch (error) {\n    console.error('Error getting dead links:', error);\n    return [];\n  }\n}\n\n/**\n * Check for dead links\n */\nexport async function checkDeadLinks(bookmarkIds = null, batchSize = 10) {\n  try {\n    const bookmarks = await getAllBookmarks();\n    const toCheck = bookmarkIds \n      ? bookmarks.filter(b => bookmarkIds.includes(b.id))\n      : bookmarks.filter(b => b.url.startsWith('http'));\n    \n    const results = {\n      checked: 0,\n      alive: [],\n      dead: [],\n      errors: [],\n      inProgress: false\n    };\n    \n    for (let i = 0; i < Math.min(toCheck.length, batchSize); i++) {\n      const bookmark = toCheck[i];\n      results.checked++;\n      \n      try {\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 5000);\n        \n        await fetch(bookmark.url, {\n          method: 'HEAD',\n          mode: 'no-cors',\n          signal: controller.signal\n        });\n        \n        clearTimeout(timeoutId);\n        results.alive.push(bookmark);\n      } catch (error) {\n        if (error.name === 'AbortError') {\n          results.errors.push({ bookmark, reason: 'timeout' });\n        } else {\n          results.dead.push({ bookmark, reason: error.message });\n        }\n      }\n    }\n    \n    return {\n      ...results,\n      total: toCheck.length,\n      remaining: Math.max(0, toCheck.length - batchSize)\n    };\n  } catch (error) {\n    console.error('Error checking dead links:', error);\n    return { checked: 0, alive: [], dead: [], errors: [], total: 0, remaining: 0 };\n  }\n}\n\n// =============================================\n// Backup & Restore System\n// =============================================\n\n/**\n * Create a full backup of the IndexedDB database\n * @returns {Promise<Object>} Backup object with all data\n */\nexport async function createBackup() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const settings = await db.settings.toArray();\n    const events = await db.events.orderBy('timestamp').reverse().limit(1000).toArray();\n    const similarities = await db.similarities.toArray();\n    \n    // Get stats for backup metadata\n    const enrichedCount = bookmarks.filter(b => b.lastChecked).length;\n    const categorizedCount = bookmarks.filter(b => b.category).length;\n    \n    const backup = {\n      version: '2.1',\n      schemaVersion: 3,\n      createdAt: new Date().toISOString(),\n      metadata: {\n        totalBookmarks: bookmarks.length,\n        enrichedCount,\n        categorizedCount,\n        eventsCount: events.length,\n        similaritiesCount: similarities.length\n      },\n      data: {\n        bookmarks,\n        settings,\n        events,\n        similarities\n      }\n    };\n    \n    return backup;\n  } catch (error) {\n    console.error('Error creating backup:', error);\n    throw error;\n  }\n}\n\n/**\n * Download backup as a JSON file\n */\nexport async function downloadBackup() {\n  try {\n    const backup = await createBackup();\n    const blob = new Blob([JSON.stringify(backup, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    \n    const date = new Date().toISOString().slice(0, 10);\n    const filename = `bookmark-insights-backup-${date}.json`;\n    \n    // Create download link\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    \n    return { success: true, filename, metadata: backup.metadata };\n  } catch (error) {\n    console.error('Error downloading backup:', error);\n    throw error;\n  }\n}\n\n/**\n * Restore database from a backup file\n * @param {Object} backup - The backup object to restore from\n * @param {Object} options - Restore options\n * @returns {Promise<Object>} Restore result\n */\nexport async function restoreFromBackup(backup, options = {}) {\n  const { \n    restoreBookmarks = true, \n    restoreSettings = true,\n    restoreEvents = false,  // Events are optional\n    restoreSimilarities = true,\n    mergeMode = false  // If true, merge with existing data; if false, replace\n  } = options;\n  \n  try {\n    // Validate backup format\n    if (!backup || !backup.version || !backup.data) {\n      throw new Error('Invalid backup format');\n    }\n    \n    if (!backup.data.bookmarks || !Array.isArray(backup.data.bookmarks)) {\n      throw new Error('Backup does not contain valid bookmarks data');\n    }\n    \n    const results = {\n      bookmarksRestored: 0,\n      settingsRestored: 0,\n      eventsRestored: 0,\n      similaritiesRestored: 0,\n      errors: []\n    };\n    \n    // Restore bookmarks\n    if (restoreBookmarks && backup.data.bookmarks.length > 0) {\n      if (!mergeMode) {\n        await db.bookmarks.clear();\n      }\n      \n      if (mergeMode) {\n        // Merge mode: preserve newer enrichment data\n        const existingBookmarks = await db.bookmarks.toArray();\n        const existingMap = new Map(existingBookmarks.map(b => [b.id, b]));\n        \n        for (const bookmark of backup.data.bookmarks) {\n          const existing = existingMap.get(bookmark.id);\n          if (existing) {\n            // Keep whichever has more recent lastChecked\n            const existingTime = existing.lastChecked || 0;\n            const backupTime = bookmark.lastChecked || 0;\n            if (backupTime > existingTime) {\n              await db.bookmarks.put(bookmark);\n              results.bookmarksRestored++;\n            }\n          } else {\n            await db.bookmarks.put(bookmark);\n            results.bookmarksRestored++;\n          }\n        }\n      } else {\n        // Replace mode: bulk insert\n        await db.bookmarks.bulkPut(backup.data.bookmarks);\n        results.bookmarksRestored = backup.data.bookmarks.length;\n      }\n    }\n    \n    // Restore settings\n    if (restoreSettings && backup.data.settings && backup.data.settings.length > 0) {\n      if (!mergeMode) {\n        await db.settings.clear();\n      }\n      await db.settings.bulkPut(backup.data.settings);\n      results.settingsRestored = backup.data.settings.length;\n    }\n    \n    // Restore events (optional)\n    if (restoreEvents && backup.data.events && backup.data.events.length > 0) {\n      if (!mergeMode) {\n        await db.events.clear();\n      }\n      await db.events.bulkPut(backup.data.events);\n      results.eventsRestored = backup.data.events.length;\n    }\n    \n    // Restore similarities\n    if (restoreSimilarities && backup.data.similarities && backup.data.similarities.length > 0) {\n      if (!mergeMode) {\n        await db.similarities.clear();\n      }\n      await db.similarities.bulkPut(backup.data.similarities);\n      results.similaritiesRestored = backup.data.similarities.length;\n    }\n    \n    // Clear caches after restore\n    await clearAllMetricCaches();\n    \n    return {\n      success: true,\n      results,\n      backupMetadata: backup.metadata\n    };\n  } catch (error) {\n    console.error('Error restoring from backup:', error);\n    throw error;\n  }\n}\n\n/**\n * Validate a backup file before restoring\n * @param {Object} backup - The backup object to validate\n * @returns {Object} Validation result\n */\nexport function validateBackup(backup) {\n  const issues = [];\n  \n  if (!backup) {\n    return { valid: false, issues: ['Backup is empty or null'] };\n  }\n  \n  if (!backup.version) {\n    issues.push('Missing version field');\n  }\n  \n  if (!backup.data) {\n    issues.push('Missing data field');\n  } else {\n    if (!backup.data.bookmarks || !Array.isArray(backup.data.bookmarks)) {\n      issues.push('Missing or invalid bookmarks array');\n    }\n    \n    if (backup.data.bookmarks && backup.data.bookmarks.length > 0) {\n      const sample = backup.data.bookmarks[0];\n      if (!sample.id || !sample.url) {\n        issues.push('Bookmarks are missing required fields (id, url)');\n      }\n    }\n  }\n  \n  return {\n    valid: issues.length === 0,\n    issues,\n    metadata: backup.metadata || null,\n    version: backup.version || 'unknown',\n    createdAt: backup.createdAt || 'unknown'\n  };\n}\n\n/**\n * Create an automatic backup (called before risky operations)\n * Stores backup in chrome.storage.local with rotation (keeps last 3)\n */\nexport async function createAutoBackup() {\n  try {\n    const backup = await createBackup();\n    \n    // Get existing auto-backups\n    const result = await chrome.storage.local.get(['autoBackups']);\n    let autoBackups = result.autoBackups || [];\n    \n    // Add new backup\n    autoBackups.unshift({\n      createdAt: backup.createdAt,\n      metadata: backup.metadata,\n      data: backup.data\n    });\n    \n    // Keep only last 3 auto-backups\n    if (autoBackups.length > 3) {\n      autoBackups = autoBackups.slice(0, 3);\n    }\n    \n    await chrome.storage.local.set({ autoBackups });\n    \n    console.log('Auto-backup created:', backup.metadata);\n    return { success: true, metadata: backup.metadata };\n  } catch (error) {\n    console.error('Error creating auto-backup:', error);\n    return { success: false, error: error.message };\n  }\n}\n\n/**\n * List available auto-backups\n */\nexport async function listAutoBackups() {\n  try {\n    const result = await chrome.storage.local.get(['autoBackups']);\n    const autoBackups = result.autoBackups || [];\n    \n    return autoBackups.map((b, index) => ({\n      index,\n      createdAt: b.createdAt,\n      metadata: b.metadata\n    }));\n  } catch (error) {\n    console.error('Error listing auto-backups:', error);\n    return [];\n  }\n}\n\n/**\n * Restore from an auto-backup by index\n * @param {number} index - The index of the auto-backup to restore (0 = most recent)\n */\nexport async function restoreFromAutoBackup(index = 0) {\n  try {\n    const result = await chrome.storage.local.get(['autoBackups']);\n    const autoBackups = result.autoBackups || [];\n    \n    if (index < 0 || index >= autoBackups.length) {\n      throw new Error(`Invalid backup index: ${index}. Available: 0-${autoBackups.length - 1}`);\n    }\n    \n    const backup = {\n      version: '2.1',\n      ...autoBackups[index]\n    };\n    \n    return await restoreFromBackup(backup);\n  } catch (error) {\n    console.error('Error restoring from auto-backup:', error);\n    throw error;\n  }\n}\n\n\n","// FlexSearch integration for powerful bookmark search\n// Provides fuzzy matching, relevance ranking, and multi-field search\n\nimport { Document } from 'flexsearch';\nimport { db, getAllBookmarks, setCache, getCache } from './db.js';\n\n// FlexSearch index instance\nlet searchIndex = null;\nlet indexInitialized = false;\n\n// Initialize FlexSearch index with optimized configuration\nexport async function initializeSearchIndex() {\n  if (indexInitialized) {\n    return searchIndex;\n  }\n\n  console.log('Initializing FlexSearch index...');\n\n  // Try to load serialized index from cache\n  const cachedIndex = await getCache('flexsearch_index');\n  \n  if (cachedIndex && cachedIndex.serialized) {\n    try {\n      searchIndex = new Document({\n        document: {\n          id: 'id',\n          index: ['title', 'url', 'description', 'keywords', 'category', 'domain'],\n          store: true\n        },\n        tokenize: 'forward',\n        cache: true,\n        optimize: true,\n        resolution: 9,\n        context: {\n          depth: 3,\n          bidirectional: true\n        }\n      });\n      \n      // Import serialized data\n      searchIndex.import(cachedIndex.serialized);\n      indexInitialized = true;\n      console.log('Loaded FlexSearch index from cache');\n      return searchIndex;\n    } catch (error) {\n      console.error('Error loading cached index:', error);\n      // Fall through to rebuild\n    }\n  }\n\n  // Build new index\n  await rebuildSearchIndex();\n  return searchIndex;\n}\n\n// Rebuild the entire search index from bookmarks\nexport async function rebuildSearchIndex() {\n  console.log('Building FlexSearch index...');\n  \n  searchIndex = new Document({\n    document: {\n      id: 'id',\n      index: ['title', 'url', 'description', 'keywords', 'category', 'domain'],\n      store: true\n    },\n    tokenize: 'forward',\n    cache: true,\n    optimize: true,\n    resolution: 9,\n    context: {\n      depth: 3,\n      bidirectional: true\n    }\n  });\n\n  const bookmarks = await getAllBookmarks();\n  \n  // Add all bookmarks to index\n  for (const bookmark of bookmarks) {\n    await addToIndex(bookmark);\n  }\n\n  indexInitialized = true;\n  \n  // Cache the serialized index\n  try {\n    const serialized = await searchIndex.export();\n    await setCache('flexsearch_index', { serialized, timestamp: Date.now() });\n    console.log(`Indexed ${bookmarks.length} bookmarks`);\n  } catch (error) {\n    console.error('Error caching index:', error);\n  }\n\n  return searchIndex;\n}\n\n// Add a bookmark to the search index\nexport async function addToIndex(bookmark) {\n  if (!searchIndex) {\n    await initializeSearchIndex();\n  }\n\n  // Prepare document for indexing\n  const doc = {\n    id: bookmark.id,\n    title: bookmark.title || '',\n    url: bookmark.url || '',\n    description: bookmark.description || '',\n    keywords: Array.isArray(bookmark.keywords) ? bookmark.keywords.join(' ') : '',\n    category: bookmark.category || '',\n    domain: bookmark.domain || ''\n  };\n\n  await searchIndex.add(doc);\n}\n\n// Remove a bookmark from the search index\nexport async function removeFromIndex(bookmarkId) {\n  if (!searchIndex) {\n    return;\n  }\n\n  await searchIndex.remove(bookmarkId);\n}\n\n// Update a bookmark in the search index\nexport async function updateInIndex(bookmark) {\n  await removeFromIndex(bookmark.id);\n  await addToIndex(bookmark);\n}\n\n// Search bookmarks with FlexSearch\nexport async function searchBookmarks(query, options = {}) {\n  if (!query || !query.trim()) {\n    // Return all bookmarks sorted by date if no query\n    const bookmarks = await getAllBookmarks();\n    return bookmarks\n      .sort((a, b) => b.dateAdded - a.dateAdded)\n      .slice(0, options.limit || 100);\n  }\n\n  if (!searchIndex) {\n    await initializeSearchIndex();\n  }\n\n  const {\n    limit = 50,\n    offset = 0,\n    fields = ['title', 'url', 'description', 'keywords', 'category'],\n    boost = {\n      title: 3,\n      category: 2,\n      keywords: 2,\n      description: 1,\n      url: 1,\n      domain: 1\n    }\n  } = options;\n\n  try {\n    // Perform search across specified fields\n    const results = await searchIndex.search(query, {\n      index: fields,\n      limit: limit + offset,\n      offset: 0,\n      enrich: true,\n      boost: boost\n    });\n\n    // Flatten and deduplicate results\n    const resultMap = new Map();\n    \n    for (const fieldResult of results) {\n      if (fieldResult && fieldResult.result) {\n        for (const item of fieldResult.result) {\n          const id = item.id;\n          if (!resultMap.has(id)) {\n            resultMap.set(id, {\n              id: item.id,\n              doc: item.doc,\n              score: 1,\n              matchedFields: [fieldResult.field]\n            });\n          } else {\n            const existing = resultMap.get(id);\n            existing.score += 1;\n            existing.matchedFields.push(fieldResult.field);\n          }\n        }\n      }\n    }\n\n    // Convert to array and sort by score\n    let finalResults = Array.from(resultMap.values())\n      .sort((a, b) => b.score - a.score);\n\n    // Apply offset and limit\n    if (offset > 0) {\n      finalResults = finalResults.slice(offset);\n    }\n    if (limit > 0) {\n      finalResults = finalResults.slice(0, limit);\n    }\n\n    // Get full bookmark data from IndexedDB\n    const bookmarkIds = finalResults.map(r => r.id);\n    const bookmarks = await Promise.all(\n      bookmarkIds.map(id => db.bookmarks.get(id))\n    );\n\n    // Merge with search metadata\n    return bookmarks\n      .filter(b => b !== undefined)\n      .map((bookmark, index) => ({\n        ...bookmark,\n        _searchScore: finalResults[index].score,\n        _matchedFields: finalResults[index].matchedFields\n      }));\n  } catch (error) {\n    console.error('Search error:', error);\n    // Fallback to basic search\n    return fallbackSearch(query, limit);\n  }\n}\n\n// Fallback search using simple string matching (if FlexSearch fails)\nasync function fallbackSearch(query, limit = 50) {\n  console.log('Using fallback search');\n  const bookmarks = await getAllBookmarks();\n  const lowerQuery = query.toLowerCase();\n\n  return bookmarks\n    .filter(bookmark => \n      (bookmark.title && bookmark.title.toLowerCase().includes(lowerQuery)) ||\n      (bookmark.url && bookmark.url.toLowerCase().includes(lowerQuery)) ||\n      (bookmark.description && bookmark.description.toLowerCase().includes(lowerQuery)) ||\n      (bookmark.domain && bookmark.domain.toLowerCase().includes(lowerQuery)) ||\n      (bookmark.category && bookmark.category.toLowerCase().includes(lowerQuery)) ||\n      (bookmark.keywords && bookmark.keywords.some(k => k.toLowerCase().includes(lowerQuery)))\n    )\n    .sort((a, b) => b.dateAdded - a.dateAdded)\n    .slice(0, limit);\n}\n\n// Advanced search with filters\nexport async function advancedSearch(query, filters = {}) {\n  let results = await searchBookmarks(query, {\n    limit: 1000, // Get more results for filtering\n    fields: filters.fields || ['title', 'url', 'description', 'keywords', 'category']\n  });\n\n  // Apply filters\n  if (filters.category) {\n    results = results.filter(b => b.category === filters.category);\n  }\n\n  if (filters.domain) {\n    results = results.filter(b => b.domain === filters.domain);\n  }\n\n  if (filters.domains && filters.domains.length > 0) {\n    results = results.filter(b => filters.domains.includes(b.domain));\n  }\n\n  if (filters.categories && filters.categories.length > 0) {\n    results = results.filter(b => filters.categories.includes(b.category));\n  }\n\n  if (filters.dateRange) {\n    const { startDate, endDate } = filters.dateRange;\n    results = results.filter(b => \n      b.dateAdded >= startDate && b.dateAdded <= endDate\n    );\n  }\n\n  if (filters.isAlive !== undefined) {\n    results = results.filter(b => b.isAlive === filters.isAlive);\n  }\n\n  if (filters.hasDescription !== undefined) {\n    if (filters.hasDescription) {\n      results = results.filter(b => b.description && b.description.length > 0);\n    } else {\n      results = results.filter(b => !b.description || b.description.length === 0);\n    }\n  }\n\n  // Apply sorting\n  if (filters.sortBy) {\n    switch (filters.sortBy) {\n      case 'relevance':\n        // Already sorted by search score\n        break;\n      case 'date_desc':\n        results.sort((a, b) => b.dateAdded - a.dateAdded);\n        break;\n      case 'date_asc':\n        results.sort((a, b) => a.dateAdded - b.dateAdded);\n        break;\n      case 'title_asc':\n        results.sort((a, b) => (a.title || '').localeCompare(b.title || ''));\n        break;\n      case 'title_desc':\n        results.sort((a, b) => (b.title || '').localeCompare(a.title || ''));\n        break;\n      case 'domain':\n        results.sort((a, b) => (a.domain || '').localeCompare(b.domain || ''));\n        break;\n    }\n  }\n\n  // Apply pagination\n  const limit = filters.limit || 50;\n  const offset = filters.offset || 0;\n  \n  return {\n    results: results.slice(offset, offset + limit),\n    total: results.length,\n    hasMore: offset + limit < results.length\n  };\n}\n\n// Get search suggestions (autocomplete)\nexport async function getSearchSuggestions(query, limit = 10) {\n  if (!query || query.length < 2) {\n    return [];\n  }\n\n  if (!searchIndex) {\n    await initializeSearchIndex();\n  }\n\n  try {\n    // Search with prefix matching\n    const results = await searchIndex.search(query, {\n      index: ['title', 'category', 'domain'],\n      limit: limit * 2,\n      suggest: true,\n      enrich: true\n    });\n\n    const suggestions = new Set();\n    \n    for (const fieldResult of results) {\n      if (fieldResult && fieldResult.result) {\n        for (const item of fieldResult.result) {\n          if (item.doc) {\n            // Add title\n            if (item.doc.title) {\n              suggestions.add(item.doc.title);\n            }\n            // Add domain\n            if (item.doc.domain && !item.doc.domain.includes('unknown')) {\n              suggestions.add(item.doc.domain);\n            }\n            // Add category\n            if (item.doc.category) {\n              suggestions.add(item.doc.category);\n            }\n          }\n        }\n      }\n    }\n\n    return Array.from(suggestions).slice(0, limit);\n  } catch (error) {\n    console.error('Error getting suggestions:', error);\n    return [];\n  }\n}\n\n// Clear the search index\nexport async function clearSearchIndex() {\n  if (searchIndex) {\n    searchIndex.clear();\n  }\n  await setCache('flexsearch_index', null);\n  indexInitialized = false;\n}\n\n// Export for statistics\nexport function getIndexStats() {\n  if (!searchIndex || !indexInitialized) {\n    return { initialized: false };\n  }\n\n  return {\n    initialized: true,\n    // FlexSearch doesn't expose size directly, but we can estimate\n    cached: true\n  };\n}\n","<script>\n  import { createEventDispatcher, onMount } from 'svelte';\n  import { getSearchSuggestions } from './search.js';\n  \n  const dispatch = createEventDispatcher();\n  \n  export let value = '';\n  export let placeholder = 'Search bookmarks by title, URL, category, or keywords...';\n  export let showSuggestions = true;\n  \n  let debounceTimer;\n  let suggestions = [];\n  let showSuggestionsList = false;\n  let selectedSuggestionIndex = -1;\n  let inputElement;\n  \n  function handleInput(event) {\n    value = event.target.value;\n    selectedSuggestionIndex = -1;\n    \n    // Get suggestions if query is long enough\n    if (showSuggestions && value.length >= 2) {\n      getSuggestions(value);\n    } else {\n      suggestions = [];\n      showSuggestionsList = false;\n    }\n    \n    // Debounce search to avoid too many queries\n    clearTimeout(debounceTimer);\n    debounceTimer = setTimeout(() => {\n      dispatch('search', { query: value });\n    }, 300);\n  }\n  \n  async function getSuggestions(query) {\n    try {\n      suggestions = await getSearchSuggestions(query, 8);\n      showSuggestionsList = suggestions.length > 0;\n    } catch (error) {\n      console.error('Error getting suggestions:', error);\n      suggestions = [];\n      showSuggestionsList = false;\n    }\n  }\n  \n  function selectSuggestion(suggestion) {\n    value = suggestion;\n    suggestions = [];\n    showSuggestionsList = false;\n    dispatch('search', { query: value });\n    inputElement?.blur();\n  }\n  \n  function handleKeyDown(event) {\n    if (!showSuggestionsList || suggestions.length === 0) {\n      return;\n    }\n    \n    switch (event.key) {\n      case 'ArrowDown':\n        event.preventDefault();\n        selectedSuggestionIndex = Math.min(selectedSuggestionIndex + 1, suggestions.length - 1);\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n        selectedSuggestionIndex = Math.max(selectedSuggestionIndex - 1, -1);\n        break;\n      case 'Enter':\n        if (selectedSuggestionIndex >= 0) {\n          event.preventDefault();\n          selectSuggestion(suggestions[selectedSuggestionIndex]);\n        }\n        break;\n      case 'Escape':\n        suggestions = [];\n        showSuggestionsList = false;\n        selectedSuggestionIndex = -1;\n        break;\n    }\n  }\n  \n  function clearSearch() {\n    value = '';\n    suggestions = [];\n    showSuggestionsList = false;\n    dispatch('search', { query: '' });\n  }\n  \n  function handleBlur() {\n    // Delay to allow click on suggestion\n    setTimeout(() => {\n      showSuggestionsList = false;\n    }, 200);\n  }\n  \n  function handleFocus() {\n    if (suggestions.length > 0 && value.length >= 2) {\n      showSuggestionsList = true;\n    }\n  }\n</script>\n\n<div class=\"relative mb-6\">\n  <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n    <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\n    </svg>\n  </div>\n  <input\n    bind:this={inputElement}\n    type=\"text\"\n    bind:value\n    on:input={handleInput}\n    on:keydown={handleKeyDown}\n    on:blur={handleBlur}\n    on:focus={handleFocus}\n    placeholder={placeholder}\n    class=\"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n    autocomplete=\"off\"\n  />\n  {#if value}\n    <button\n      on:click={clearSearch}\n      class=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n      type=\"button\"\n    >\n      <svg class=\"h-5 w-5 text-gray-400 hover:text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n      </svg>\n    </button>\n  {/if}\n  \n  <!-- Suggestions dropdown -->\n  {#if showSuggestionsList && suggestions.length > 0}\n    <div class=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto\">\n      {#each suggestions as suggestion, index}\n        <button\n          type=\"button\"\n          on:click={() => selectSuggestion(suggestion)}\n          class=\"w-full text-left px-4 py-2 hover:bg-blue-50 focus:bg-blue-50 focus:outline-none {selectedSuggestionIndex === index ? 'bg-blue-50' : ''}\"\n        >\n          <div class=\"flex items-center\">\n            <svg class=\"h-4 w-4 text-gray-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\n            </svg>\n            <span class=\"text-sm text-gray-700\">{suggestion}</span>\n          </div>\n        </button>\n      {/each}\n    </div>\n  {/if}\n</div>\n","<script>\n  import { createEventDispatcher, onMount } from 'svelte';\n  import { getDomainsByRecency, getDomainsByCount, getUniqueFolders } from './db.js';\n  \n  const dispatch = createEventDispatcher();\n  \n  let domainsByRecency = [];\n  let domainsByCount = [];\n  let folders = [];\n  let selectedFilters = {\n    domains: [],\n    folders: [],\n    dateRange: null\n  };\n  let domainSortMode = 'recency'; // 'recency' or 'count'\n  \n  onMount(async () => {\n    try {\n      await loadDomains();\n      folders = await getUniqueFolders();\n    } catch (error) {\n      console.error('Error loading filters:', error);\n    }\n  });\n\n  async function loadDomains() {\n    domainsByRecency = await getDomainsByRecency();\n    domainsByCount = await getDomainsByCount();\n  }\n\n  $: currentDomains = domainSortMode === 'recency' ? domainsByRecency : domainsByCount;\n  \n  function toggleDomainFilter(domain) {\n    if (selectedFilters.domains.includes(domain)) {\n      selectedFilters.domains = selectedFilters.domains.filter(d => d !== domain);\n    } else {\n      selectedFilters.domains = [...selectedFilters.domains, domain];\n    }\n    dispatchFilters();\n  }\n\n  function toggleFolderFilter(folder) {\n    if (selectedFilters.folders.includes(folder)) {\n      selectedFilters.folders = selectedFilters.folders.filter(f => f !== folder);\n    } else {\n      selectedFilters.folders = [...selectedFilters.folders, folder];\n    }\n    dispatchFilters();\n  }\n\n  function setDateFilter(startDate, endDate, period) {\n    selectedFilters.dateRange = { startDate, endDate, period };\n    dispatchFilters();\n  }\n  \n  function clearFilters() {\n    selectedFilters = {\n      domains: [],\n      folders: [],\n      dateRange: null\n    };\n    dispatchFilters();\n  }\n\n  function dispatchFilters() {\n    dispatch('filter', selectedFilters);\n  }\n\n  function hasActiveFilters() {\n    return selectedFilters.domains.length > 0 || \n           selectedFilters.folders.length > 0 || \n           selectedFilters.dateRange !== null;\n  }\n  \n  function applyDateFilter(period) {\n    const now = new Date();\n    let startDate;\n    \n    switch (period) {\n      case 'week':\n        startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n        break;\n      case 'month':\n        startDate = new Date(now.getFullYear(), now.getMonth(), 1);\n        break;\n      case 'year':\n        startDate = new Date(now.getFullYear(), 0, 1);\n        break;\n    }\n    \n    setDateFilter(startDate.getTime(), now.getTime(), period);\n  }\n\n  function formatTimeAgo(timestamp) {\n    const now = Date.now();\n    const diff = now - timestamp;\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n    \n    if (days === 0) return 'Today';\n    if (days === 1) return '1 day ago';\n    if (days < 7) return `${days} days ago`;\n    if (days < 30) return `${Math.floor(days / 7)} weeks ago`;\n    if (days < 365) return `${Math.floor(days / 30)} months ago`;\n    return `${Math.floor(days / 365)} years ago`;\n  }\n</script>\n\n<div class=\"w-64 bg-gray-50 border-r border-gray-200 p-4 overflow-y-auto flex-shrink-0\">\n  <div class=\"mb-6\">\n    <div class=\"flex items-center justify-between mb-3\">\n      <h3 class=\"text-sm font-medium text-gray-900\">Filters</h3>\n      {#if hasActiveFilters()}\n        <button\n          on:click={clearFilters}\n          class=\"text-xs text-blue-600 hover:text-blue-800\"\n        >\n          Clear All\n        </button>\n      {/if}\n    </div>\n    \n    <!-- Active Filters Display -->\n    {#if hasActiveFilters()}\n      <div class=\"mb-4 space-y-2\">\n        {#each selectedFilters.domains as domain}\n          <div class=\"flex items-center justify-between p-2 bg-blue-50 rounded-md\">\n            <div class=\"text-xs text-blue-800\">Domain: {domain}</div>\n            <button \n              on:click={() => toggleDomainFilter(domain)}\n              class=\"text-blue-600 hover:text-blue-800\"\n            >\n              \n            </button>\n          </div>\n        {/each}\n        {#each selectedFilters.folders as folder}\n          <div class=\"flex items-center justify-between p-2 bg-green-50 rounded-md\">\n            <div class=\"text-xs text-green-800\">Folder: {folder}</div>\n            <button \n              on:click={() => toggleFolderFilter(folder)}\n              class=\"text-green-600 hover:text-green-800\"\n            >\n              \n            </button>\n          </div>\n        {/each}\n        {#if selectedFilters.dateRange}\n          <div class=\"flex items-center justify-between p-2 bg-purple-50 rounded-md\">\n            <div class=\"text-xs text-purple-800\">\n              {selectedFilters.dateRange.period === 'week' ? 'This Week' : \n               selectedFilters.dateRange.period === 'month' ? 'This Month' : 'This Year'}\n            </div>\n            <button \n              on:click={() => { selectedFilters.dateRange = null; dispatchFilters(); }}\n              class=\"text-purple-600 hover:text-purple-800\"\n            >\n              \n            </button>\n          </div>\n        {/if}\n      </div>\n    {/if}\n  </div>\n  \n  <!-- Date Filters -->\n  <div class=\"mb-6\">\n    <h4 class=\"text-xs font-medium text-gray-700 uppercase tracking-wide mb-2\">\n      Date Added\n    </h4>\n    <div class=\"space-y-1\">\n      <button\n        on:click={() => applyDateFilter('week')}\n        class=\"w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded\"\n        class:bg-blue-50={selectedFilters.dateRange?.period === 'week'}\n        class:text-blue-700={selectedFilters.dateRange?.period === 'week'}\n      >\n        This Week\n      </button>\n      <button\n        on:click={() => applyDateFilter('month')}\n        class=\"w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded\"\n        class:bg-blue-50={selectedFilters.dateRange?.period === 'month'}\n        class:text-blue-700={selectedFilters.dateRange?.period === 'month'}\n      >\n        This Month\n      </button>\n      <button\n        on:click={() => applyDateFilter('year')}\n        class=\"w-full text-left px-2 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded\"\n        class:bg-blue-50={selectedFilters.dateRange?.period === 'year'}\n        class:text-blue-700={selectedFilters.dateRange?.period === 'year'}\n      >\n        This Year\n      </button>\n    </div>\n  </div>\n  \n  <!-- Domain Filters -->\n  <div class=\"mb-6\">\n    <div class=\"flex items-center justify-between mb-2\">\n      <h4 class=\"text-xs font-medium text-gray-700 uppercase tracking-wide\">\n        Domains ({currentDomains.length})\n      </h4>\n      <div class=\"flex space-x-1\">\n        <button\n          on:click={() => domainSortMode = 'recency'}\n          class=\"text-xs px-2 py-1 rounded\"\n          class:bg-blue-100={domainSortMode === 'recency'}\n          class:text-blue-700={domainSortMode === 'recency'}\n          class:text-gray-500={domainSortMode !== 'recency'}\n          title=\"Sort by most recent bookmark\"\n        >\n          Recent\n        </button>\n        <button\n          on:click={() => domainSortMode = 'count'}\n          class=\"text-xs px-2 py-1 rounded\"\n          class:bg-blue-100={domainSortMode === 'count'}\n          class:text-blue-700={domainSortMode === 'count'}\n          class:text-gray-500={domainSortMode !== 'count'}\n          title=\"Sort by bookmark count\"\n        >\n          Count\n        </button>\n      </div>\n    </div>\n    <div class=\"space-y-1 max-h-64 overflow-y-auto\">\n      {#each currentDomains.slice(0, 30) as domainData}\n        <button\n          on:click={() => toggleDomainFilter(domainData.domain)}\n          class=\"w-full text-left px-2 py-2 text-sm hover:bg-gray-100 rounded border\"\n          class:bg-blue-50={selectedFilters.domains.includes(domainData.domain)}\n          class:text-blue-700={selectedFilters.domains.includes(domainData.domain)}\n          class:border-blue-200={selectedFilters.domains.includes(domainData.domain)}\n          class:text-gray-600={!selectedFilters.domains.includes(domainData.domain)}\n          class:border-transparent={!selectedFilters.domains.includes(domainData.domain)}\n          title={domainData.domain}\n        >\n          <div class=\"truncate font-medium\">{domainData.domain}</div>\n          <div class=\"flex justify-between items-center text-xs text-gray-500 mt-1\">\n            <span>{domainData.count} bookmark{domainData.count !== 1 ? 's' : ''}</span>\n            {#if domainSortMode === 'recency'}\n              <span>{formatTimeAgo(domainData.dateAdded || domainData.latestDate)}</span>\n            {/if}\n          </div>\n        </button>\n      {/each}\n      {#if currentDomains.length > 30}\n        <div class=\"text-xs text-gray-400 px-2 py-1\">\n          ... and {currentDomains.length - 30} more\n        </div>\n      {/if}\n    </div>\n  </div>\n  \n  <!-- Folder Filters -->\n  <div class=\"mb-6\">\n    <h4 class=\"text-xs font-medium text-gray-700 uppercase tracking-wide mb-2\">\n      Folders ({folders.length})\n    </h4>\n    <div class=\"space-y-1 max-h-48 overflow-y-auto\">\n      {#each folders.slice(0, 15) as folder}\n        <button\n          on:click={() => toggleFolderFilter(folder)}\n          class=\"w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded border\"\n          class:bg-green-50={selectedFilters.folders.includes(folder)}\n          class:text-green-700={selectedFilters.folders.includes(folder)}\n          class:border-green-200={selectedFilters.folders.includes(folder)}\n          class:text-gray-600={!selectedFilters.folders.includes(folder)}\n          class:border-transparent={!selectedFilters.folders.includes(folder)}\n          title={folder}\n        >\n          <span class=\"truncate\"> {folder}</span>\n        </button>\n      {/each}\n      {#if folders.length > 15}\n        <div class=\"text-xs text-gray-400 px-2 py-1\">\n          ... and {folders.length - 15} more\n        </div>\n      {/if}\n    </div>\n  </div>\n</div>\n","// Advanced insights and analytics module for bookmark data\n// Provides domain hierarchy visualization, behavioral analytics, and data insights\n\nimport { db } from './db.js';\n\n/**\n * Build domain hierarchy tree for visualization\n * Returns a nested structure: domain  subdomain  paths\n */\nexport async function getDomainHierarchy() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const hierarchy = {};\n\n    bookmarks.forEach(bookmark => {\n      if (!bookmark.url) return;\n      \n      try {\n        const urlObj = new URL(bookmark.url);\n        const hostname = urlObj.hostname;\n        const pathname = urlObj.pathname;\n        \n        // Extract TLD and domain parts\n        const hostParts = hostname.split('.').reverse();\n        const tld = hostParts[0];\n        const domain = hostParts[1] || '';\n        const subdomain = hostParts.length > 2 ? hostParts.slice(2).reverse().join('.') : 'www';\n        \n        // Create hierarchy key\n        const domainKey = `${domain}.${tld}`;\n        \n        if (!hierarchy[domainKey]) {\n          hierarchy[domainKey] = {\n            name: domainKey,\n            count: 0,\n            subdomains: {}\n          };\n        }\n        \n        hierarchy[domainKey].count++;\n        \n        // Track subdomain\n        if (!hierarchy[domainKey].subdomains[subdomain]) {\n          hierarchy[domainKey].subdomains[subdomain] = {\n            name: subdomain,\n            count: 0,\n            paths: {}\n          };\n        }\n        hierarchy[domainKey].subdomains[subdomain].count++;\n        \n        // Track top-level path\n        const pathParts = pathname.split('/').filter(p => p);\n        const topPath = pathParts[0] || '/';\n        \n        if (!hierarchy[domainKey].subdomains[subdomain].paths[topPath]) {\n          hierarchy[domainKey].subdomains[subdomain].paths[topPath] = 0;\n        }\n        hierarchy[domainKey].subdomains[subdomain].paths[topPath]++;\n        \n      } catch (e) {\n        // Invalid URL, skip\n      }\n    });\n    \n    // Convert to array sorted by count\n    const result = Object.values(hierarchy)\n      .map(domain => ({\n        ...domain,\n        subdomains: Object.values(domain.subdomains)\n          .map(sub => ({\n            ...sub,\n            paths: Object.entries(sub.paths)\n              .map(([path, count]) => ({ name: path, count }))\n              .sort((a, b) => b.count - a.count)\n              .slice(0, 10)\n          }))\n          .sort((a, b) => b.count - a.count)\n      }))\n      .sort((a, b) => b.count - a.count);\n    \n    return result;\n  } catch (error) {\n    console.error('Error building domain hierarchy:', error);\n    return [];\n  }\n}\n\n/**\n * Get domain hierarchy in treemap format for Chart.js\n */\nexport async function getDomainTreemapData() {\n  try {\n    const hierarchy = await getDomainHierarchy();\n    \n    // Convert to flat treemap format with groups\n    const data = [];\n    const backgroundColors = [\n      '#3B82F6', '#EF4444', '#10B981', '#F59E0B', '#8B5CF6',\n      '#EC4899', '#6B7280', '#14B8A6', '#F97316', '#84CC16',\n      '#06B6D4', '#F43F5E', '#22C55E', '#A855F7', '#0EA5E9'\n    ];\n    \n    hierarchy.slice(0, 20).forEach((domain, idx) => {\n      // Add domain as group\n      data.push({\n        name: domain.name,\n        value: domain.count,\n        group: domain.name,\n        color: backgroundColors[idx % backgroundColors.length]\n      });\n    });\n    \n    return data;\n  } catch (error) {\n    console.error('Error getting treemap data:', error);\n    return [];\n  }\n}\n\n/**\n * Get stale bookmarks (old + never accessed)\n * @param {number} daysThreshold - Number of days to consider \"old\"\n */\nexport async function getStaleBookmarks(daysThreshold = 90) {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const now = Date.now();\n    const threshold = daysThreshold * 24 * 60 * 60 * 1000;\n    \n    return bookmarks.filter(bookmark => {\n      const age = now - bookmark.dateAdded;\n      const neverAccessed = !bookmark.lastAccessed || bookmark.accessCount === 0;\n      return age > threshold && neverAccessed;\n    }).sort((a, b) => a.dateAdded - b.dateAdded);\n  } catch (error) {\n    console.error('Error getting stale bookmarks:', error);\n    return [];\n  }\n}\n\n/**\n * Get reading list suggestions (recently added but not accessed)\n */\nexport async function getReadingListSuggestions(limit = 20) {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const thirtyDaysAgo = Date.now() - (30 * 24 * 60 * 60 * 1000);\n    \n    return bookmarks\n      .filter(bookmark => {\n        const isRecent = bookmark.dateAdded > thirtyDaysAgo;\n        const notAccessed = !bookmark.lastAccessed || bookmark.accessCount === 0;\n        return isRecent && notAccessed;\n      })\n      .sort((a, b) => b.dateAdded - a.dateAdded)\n      .slice(0, limit);\n  } catch (error) {\n    console.error('Error getting reading list suggestions:', error);\n    return [];\n  }\n}\n\n/**\n * Get most accessed bookmarks\n */\nexport async function getMostAccessedBookmarks(limit = 20) {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    \n    return bookmarks\n      .filter(b => b.accessCount > 0)\n      .sort((a, b) => b.accessCount - a.accessCount)\n      .slice(0, limit);\n  } catch (error) {\n    console.error('Error getting most accessed bookmarks:', error);\n    return [];\n  }\n}\n\n/**\n * Get category distribution over time\n */\nexport async function getCategoryTrends() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const trends = {};\n    \n    bookmarks.forEach(bookmark => {\n      if (!bookmark.category) return;\n      \n      const date = new Date(bookmark.dateAdded);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n      \n      if (!trends[monthKey]) {\n        trends[monthKey] = {};\n      }\n      \n      if (!trends[monthKey][bookmark.category]) {\n        trends[monthKey][bookmark.category] = 0;\n      }\n      \n      trends[monthKey][bookmark.category]++;\n    });\n    \n    // Get top categories\n    const categoryTotals = {};\n    Object.values(trends).forEach(monthData => {\n      Object.entries(monthData).forEach(([cat, count]) => {\n        categoryTotals[cat] = (categoryTotals[cat] || 0) + count;\n      });\n    });\n    \n    const topCategories = Object.entries(categoryTotals)\n      .sort(([, a], [, b]) => b - a)\n      .slice(0, 5)\n      .map(([cat]) => cat);\n    \n    // Build time series\n    const months = Object.keys(trends).sort();\n    const datasets = topCategories.map(category => ({\n      category,\n      data: months.map(month => trends[month][category] || 0)\n    }));\n    \n    return { months, datasets };\n  } catch (error) {\n    console.error('Error getting category trends:', error);\n    return { months: [], datasets: [] };\n  }\n}\n\n/**\n * Get expertise areas based on bookmark patterns\n */\nexport async function getExpertiseAreas() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const expertiseScores = {};\n    \n    bookmarks.forEach(bookmark => {\n      // Weight by access count and category\n      const weight = 1 + (bookmark.accessCount || 0);\n      const category = bookmark.category || 'uncategorized';\n      \n      expertiseScores[category] = (expertiseScores[category] || 0) + weight;\n    });\n    \n    // Normalize scores\n    const totalScore = Object.values(expertiseScores).reduce((a, b) => a + b, 0);\n    \n    return Object.entries(expertiseScores)\n      .map(([area, score]) => ({\n        area,\n        score,\n        percentage: totalScore > 0 ? ((score / totalScore) * 100).toFixed(1) : 0\n      }))\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 10);\n  } catch (error) {\n    console.error('Error getting expertise areas:', error);\n    return [];\n  }\n}\n\n/**\n * Get \"bookmark and forget\" detection - bookmarks never accessed\n */\nexport async function getBookmarkAndForget() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const sixMonthsAgo = Date.now() - (180 * 24 * 60 * 60 * 1000);\n    \n    return bookmarks\n      .filter(bookmark => {\n        const isOld = bookmark.dateAdded < sixMonthsAgo;\n        const neverAccessed = !bookmark.lastAccessed && (!bookmark.accessCount || bookmark.accessCount === 0);\n        return isOld && neverAccessed;\n      })\n      .sort((a, b) => a.dateAdded - b.dateAdded);\n  } catch (error) {\n    console.error('Error detecting bookmark-and-forget:', error);\n    return [];\n  }\n}\n\n/**\n * Get content freshness analysis\n */\nexport async function getContentFreshness() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const now = Date.now();\n    \n    const ageGroups = {\n      'Last 7 days': 0,\n      'Last 30 days': 0,\n      'Last 90 days': 0,\n      'Last year': 0,\n      'Older': 0\n    };\n    \n    const thresholds = {\n      'Last 7 days': 7 * 24 * 60 * 60 * 1000,\n      'Last 30 days': 30 * 24 * 60 * 60 * 1000,\n      'Last 90 days': 90 * 24 * 60 * 60 * 1000,\n      'Last year': 365 * 24 * 60 * 60 * 1000\n    };\n    \n    bookmarks.forEach(bookmark => {\n      const age = now - bookmark.dateAdded;\n      \n      if (age <= thresholds['Last 7 days']) {\n        ageGroups['Last 7 days']++;\n      } else if (age <= thresholds['Last 30 days']) {\n        ageGroups['Last 30 days']++;\n      } else if (age <= thresholds['Last 90 days']) {\n        ageGroups['Last 90 days']++;\n      } else if (age <= thresholds['Last year']) {\n        ageGroups['Last year']++;\n      } else {\n        ageGroups['Older']++;\n      }\n    });\n    \n    return Object.entries(ageGroups).map(([period, count]) => ({ period, count }));\n  } catch (error) {\n    console.error('Error analyzing content freshness:', error);\n    return [];\n  }\n}\n\n/**\n * Get overall insights summary\n */\nexport async function getInsightsSummary() {\n  try {\n    const bookmarks = await db.bookmarks.toArray();\n    const events = await db.events.toArray();\n    \n    const now = Date.now();\n    const weekAgo = now - (7 * 24 * 60 * 60 * 1000);\n    const monthAgo = now - (30 * 24 * 60 * 60 * 1000);\n    \n    // Calculate metrics\n    const totalBookmarks = bookmarks.length;\n    const categorized = bookmarks.filter(b => b.category).length;\n    const enriched = bookmarks.filter(b => b.description || b.keywords?.length > 0).length;\n    const aliveChecked = bookmarks.filter(b => b.isAlive !== null).length;\n    const deadLinks = bookmarks.filter(b => b.isAlive === false).length;\n    const neverAccessed = bookmarks.filter(b => !b.lastAccessed && (!b.accessCount || b.accessCount === 0)).length;\n    \n    // Recent activity\n    const addedThisWeek = bookmarks.filter(b => b.dateAdded > weekAgo).length;\n    const addedThisMonth = bookmarks.filter(b => b.dateAdded > monthAgo).length;\n    \n    // Events summary\n    const recentEvents = events.filter(e => e.timestamp > weekAgo);\n    const accessEvents = recentEvents.filter(e => e.type === 'access').length;\n    const createEvents = recentEvents.filter(e => e.type === 'create').length;\n    \n    // Top categories\n    const categoryCount = {};\n    bookmarks.forEach(b => {\n      if (b.category) {\n        categoryCount[b.category] = (categoryCount[b.category] || 0) + 1;\n      }\n    });\n    const topCategories = Object.entries(categoryCount)\n      .sort(([, a], [, b]) => b - a)\n      .slice(0, 5);\n    \n    // Unique domains\n    const uniqueDomains = new Set(bookmarks.map(b => b.domain).filter(d => d)).size;\n    \n    return {\n      totalBookmarks,\n      categorized,\n      categorizedPercentage: totalBookmarks > 0 ? ((categorized / totalBookmarks) * 100).toFixed(1) : 0,\n      enriched,\n      enrichedPercentage: totalBookmarks > 0 ? ((enriched / totalBookmarks) * 100).toFixed(1) : 0,\n      aliveChecked,\n      deadLinks,\n      neverAccessed,\n      neverAccessedPercentage: totalBookmarks > 0 ? ((neverAccessed / totalBookmarks) * 100).toFixed(1) : 0,\n      addedThisWeek,\n      addedThisMonth,\n      accessEventsThisWeek: accessEvents,\n      createEventsThisWeek: createEvents,\n      topCategories,\n      uniqueDomains\n    };\n  } catch (error) {\n    console.error('Error getting insights summary:', error);\n    return {};\n  }\n}\n\n/**\n * Get event statistics for behavioral analytics\n */\nexport async function getEventStatistics() {\n  try {\n    const events = await db.events.toArray();\n    const now = Date.now();\n    \n    // Group events by type and time\n    const eventsByType = {};\n    const eventsByDay = {};\n    \n    events.forEach(event => {\n      // By type\n      eventsByType[event.type] = (eventsByType[event.type] || 0) + 1;\n      \n      // By day\n      const date = new Date(event.timestamp);\n      const dayKey = date.toISOString().split('T')[0];\n      if (!eventsByDay[dayKey]) {\n        eventsByDay[dayKey] = { total: 0, byType: {} };\n      }\n      eventsByDay[dayKey].total++;\n      eventsByDay[dayKey].byType[event.type] = (eventsByDay[dayKey].byType[event.type] || 0) + 1;\n    });\n    \n    // Get last 30 days\n    const last30Days = [];\n    for (let i = 29; i >= 0; i--) {\n      const date = new Date(now - i * 24 * 60 * 60 * 1000);\n      const dayKey = date.toISOString().split('T')[0];\n      last30Days.push({\n        date: dayKey,\n        total: eventsByDay[dayKey]?.total || 0,\n        ...eventsByDay[dayKey]?.byType || {}\n      });\n    }\n    \n    return {\n      summary: eventsByType,\n      timeline: last30Days,\n      totalEvents: events.length\n    };\n  } catch (error) {\n    console.error('Error getting event statistics:', error);\n    return { summary: {}, timeline: [], totalEvents: 0 };\n  }\n}\n\n/**\n * Record a bookmark access event\n */\nexport async function recordBookmarkAccess(bookmarkId, url) {\n  try {\n    // Update bookmark access stats\n    const bookmark = await db.bookmarks.get(bookmarkId);\n    if (bookmark) {\n      await db.bookmarks.update(bookmarkId, {\n        lastAccessed: Date.now(),\n        accessCount: (bookmark.accessCount || 0) + 1\n      });\n    }\n    \n    // Log event\n    await db.events.add({\n      bookmarkId,\n      type: 'access',\n      timestamp: Date.now(),\n      url\n    });\n    \n    return true;\n  } catch (error) {\n    console.error('Error recording bookmark access:', error);\n    return false;\n  }\n}\n\n/**\n * Find bookmark by URL for access tracking\n */\nexport async function findBookmarkByUrl(url) {\n  try {\n    return await db.bookmarks.where('url').equals(url).first();\n  } catch (error) {\n    console.error('Error finding bookmark by URL:', error);\n    return null;\n  }\n}\n\n/**\n * Get hourly access patterns\n */\nexport async function getHourlyAccessPatterns() {\n  try {\n    const events = await db.events.where('type').equals('access').toArray();\n    \n    const hourlyPattern = Array(24).fill(0);\n    \n    events.forEach(event => {\n      const hour = new Date(event.timestamp).getHours();\n      hourlyPattern[hour]++;\n    });\n    \n    return hourlyPattern.map((count, hour) => ({\n      hour: `${hour.toString().padStart(2, '0')}:00`,\n      count\n    }));\n  } catch (error) {\n    console.error('Error getting hourly patterns:', error);\n    return Array(24).fill(0).map((_, hour) => ({ hour: `${hour.toString().padStart(2, '0')}:00`, count: 0 }));\n  }\n}\n","<script>\n  import { onMount } from 'svelte';\n  import { Chart, registerables } from 'chart.js';\n  import BookmarkCard from './BookmarkCard.svelte';\n  import BookmarkListItem from './BookmarkListItem.svelte';\n  import SearchBar from './SearchBar.svelte';\n  import Sidebar from './Sidebar.svelte';\n  import { SORT_OPTIONS } from './utils.js';\n  import { \n    searchBookmarks, \n    getBookmarksPaginated, \n    getBookmarksByDomain, \n    getBookmarksByDateRange, \n    getBookmarksByFolder,\n    getDomainStats,\n    getActivityTimeline,\n    findDuplicates,\n    findMalformedUrls,\n    findSimilarBookmarks,\n    deleteBookmark,\n    deleteBookmarks,\n    getDeadLinks,\n    exportBookmarks,\n    getQuickStats,\n    getSettings,\n    // Analytics functions\n    getTitleWordFrequency,\n    getTitlePatterns,\n    getBookmarkAgeDistribution,\n    getBookmarkCreationPatterns,\n    getUrlPatterns,\n    getUrlParameterUsage,\n    getDomainDistribution,\n    // Backup functions\n    downloadBackup,\n    restoreFromBackup,\n    validateBackup,\n    createAutoBackup,\n    listAutoBackups,\n    restoreFromAutoBackup\n  } from './db.js';\n  \n  // Import new insights functions\n  import {\n    getDomainHierarchy,\n    getDomainTreemapData,\n    getContentFreshness,\n    getInsightsSummary,\n    getEventStatistics,\n    getHourlyAccessPatterns\n  } from './insights.js';\n  \n  Chart.register(...registerables);\n  \n  let bookmarks = [];\n  let loading = true;\n  let error = null;\n  let currentView = 'bookmarks'; // bookmarks, insights, health\n  let searchQuery = '';\n  \n  // Pagination variables\n  let currentPage = 0;\n  let totalCount = 0;\n  let hasMore = false;\n  let pageSize = 50;\n  \n  // Sorting state\n  let currentSortBy = 'date_desc';\n  \n  // Filter state\n  let currentFilters = {\n    domains: [],\n    folders: [],\n    dateRange: null,\n    searchQuery: '',\n    sortBy: 'date_desc'\n  };\n  \n  // Chart variables\n  let domainChart = null;\n  let activityChart = null;\n  let wordCloudChart = null;\n  let titlePatternsChart = null;\n  let ageDistributionChart = null;\n  let creationPatternsChart = null;\n  let urlPatternsChart = null;\n  let domainDistributionChart = null;\n  let domainHierarchyChart = null;\n  let freshnessChart = null;\n  let accessPatternChart = null;\n  \n  // Health data\n  let duplicates = [];\n  let malformedUrls = [];\n  let similarBookmarks = [];\n  let deadLinks = [];\n  let loadingDeadLinks = false;\n  let quickStats = null;\n  \n  // Enrichment state\n  let enrichmentStatus = null;\n  let runningEnrichment = false;\n  let enrichmentResult = null;\n  let enrichmentProgress = null; // Real-time progress tracking\n  let enrichmentLogs = []; // Detailed progress logs\n  \n  // Enrichment configuration\n  let enrichmentBatchSize = 20;\n  let enrichmentConcurrency = 3;\n  \n  // Advanced insights data\n  let domainHierarchy = [];\n  let contentFreshness = [];\n  let insightsSummary = null;\n  let eventStats = null;\n  \n  // Health section loading states (for progressive loading)\n  let loadingDuplicates = false;\n  let loadingSimilar = false;\n  let loadingMalformed = false;\n  \n  // Health section display limits (for on-demand loading)\n  let duplicatesDisplayLimit = 10;\n  let similarDisplayLimit = 10;\n  let deadLinksDisplayLimit = 10;\n  \n  // URL parameter data (for insights)\n  let urlParameterData = null;\n  \n  // Backup state\n  let backupInProgress = false;\n  let restoreInProgress = false;\n  let autoBackups = [];\n  let showRestoreDialog = false;\n  let restoreFile = null;\n  let backupValidation = null;\n  \n  // Multi-select state\n  let selectedBookmarks = new Set();\n  let multiSelectMode = false;\n  let viewMode = 'list'; // 'list' or 'card'\n  \n  onMount(async () => {\n    try {\n      await loadBookmarksPaginated();\n      if (currentView === 'insights') {\n        await loadInsights();\n      } else if (currentView === 'health') {\n        await loadHealthData();\n      }\n    } catch (err) {\n      error = err.message;\n    } finally {\n      loading = false;\n    }\n\n    // Listen for enrichment progress updates\n    chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n      if (message.action === 'enrichmentProgress' && message.progress) {\n        enrichmentProgress = message.progress;\n        \n        // Add to logs for detailed tracking\n        const logEntry = {\n          timestamp: Date.now(),\n          ...message.progress\n        };\n        enrichmentLogs = [...enrichmentLogs, logEntry];\n        \n        // Keep only last 100 log entries\n        if (enrichmentLogs.length > 100) {\n          enrichmentLogs = enrichmentLogs.slice(-100);\n        }\n      }\n    });\n  });\n  \n  async function loadBookmarksPaginated(page = 0, append = false) {\n    try {\n      const filters = { ...currentFilters };\n      const result = await getBookmarksPaginated(page, pageSize, filters);\n      \n      if (append) {\n        bookmarks = [...bookmarks, ...result.bookmarks];\n      } else {\n        bookmarks = result.bookmarks;\n      }\n      \n      currentPage = result.currentPage;\n      totalCount = result.totalCount;\n      hasMore = result.hasMore;\n    } catch (err) {\n      console.error('Error loading bookmarks:', err);\n      throw err;\n    }\n  }\n\n  async function loadMoreBookmarks() {\n    if (!hasMore || loading) return;\n    \n    try {\n      loading = true;\n      await loadBookmarksPaginated(currentPage + 1, true);\n    } catch (err) {\n      error = err.message;\n    } finally {\n      loading = false;\n    }\n  }\n  \n  async function handleSearch(event) {\n    const query = event.detail.query;\n    searchQuery = query;\n    currentFilters.searchQuery = query;\n    \n    try {\n      loading = true;\n      currentPage = 0;\n      await loadBookmarksPaginated();\n    } catch (err) {\n      error = err.message;\n    } finally {\n      loading = false;\n    }\n  }\n  \n  async function handleFilter(event) {\n    const filters = event.detail;\n    currentFilters = { ...currentFilters, ...filters };\n    \n    try {\n      loading = true;\n      currentPage = 0;\n      await loadBookmarksPaginated();\n    } catch (err) {\n      error = err.message;\n    } finally {\n      loading = false;\n    }\n  }\n  \n  async function handleSortChange(sortKey) {\n    currentSortBy = sortKey;\n    currentFilters.sortBy = sortKey;\n    \n    try {\n      loading = true;\n      currentPage = 0;\n      await loadBookmarksPaginated();\n    } catch (err) {\n      error = err.message;\n    } finally {\n      loading = false;\n    }\n  }\n  \n  async function switchView(view) {\n    currentView = view;\n    loading = true;\n    \n    try {\n      if (view === 'bookmarks') {\n        currentPage = 0;\n        await loadBookmarksPaginated();\n      } else if (view === 'insights') {\n        await loadInsights();\n      } else if (view === 'health') {\n        await loadHealthData();\n      }\n    } catch (err) {\n      error = err.message;\n    } finally {\n      loading = false;\n    }\n  }\n  \n  async function loadInsights() {\n    try {\n      // Load all analytics data\n      const [\n        domainStats,\n        activityTimeline,\n        titleWords,\n        titlePatterns,\n        ageDistribution,\n        creationPatterns,\n        urlPatterns,\n        urlParameterUsage,\n        domainDistribution,\n        // New insights data\n        hierarchyData,\n        freshnessData,\n        summaryData,\n        eventData\n      ] = await Promise.all([\n        getDomainStats(),\n        getActivityTimeline(),\n        getTitleWordFrequency(),\n        getTitlePatterns(),\n        getBookmarkAgeDistribution(),\n        getBookmarkCreationPatterns(),\n        getUrlPatterns(),\n        getUrlParameterUsage(),\n        getDomainDistribution(),\n        // New insights functions\n        getDomainHierarchy(),\n        getContentFreshness(),\n        getInsightsSummary(),\n        getEventStatistics()\n      ]);\n      \n      // Store URL parameter data for display\n      urlParameterData = urlParameterUsage;\n      \n      // Store new insights data\n      domainHierarchy = hierarchyData;\n      contentFreshness = freshnessData;\n      insightsSummary = summaryData;\n      eventStats = eventData;\n      \n      // Create charts with a slight delay to ensure DOM elements exist\n      setTimeout(() => {\n        // Domain Stats Chart (existing)\n        const domainCtx = document.getElementById('domainChart');\n        if (domainCtx) {\n          if (domainChart) domainChart.destroy();\n          domainChart = new Chart(domainCtx, {\n            type: 'bar',\n            data: {\n              labels: domainStats.map(([domain]) => domain),\n              datasets: [{\n                label: 'Bookmarks',\n                data: domainStats.map(([, count]) => count),\n                backgroundColor: 'rgba(59, 130, 246, 0.5)',\n                borderColor: 'rgba(59, 130, 246, 1)',\n                borderWidth: 1\n              }]\n            },\n            options: {\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Top 10 Most Bookmarked Domains'\n                }\n              },\n              scales: {\n                y: {\n                  beginAtZero: true\n                }\n              }\n            }\n          });\n        }\n        \n        // Domain Distribution Chart (new - pie chart)\n        const domainDistCtx = document.getElementById('domainDistributionChart');\n        if (domainDistCtx) {\n          if (domainDistributionChart) domainDistributionChart.destroy();\n          domainDistributionChart = new Chart(domainDistCtx, {\n            type: 'pie',\n            data: {\n              labels: domainDistribution.map(d => d.domain),\n              datasets: [{\n                data: domainDistribution.map(d => d.count),\n                backgroundColor: [\n                  '#3B82F6', '#EF4444', '#10B981', '#F59E0B', '#8B5CF6',\n                  '#EC4899', '#6B7280', '#14B8A6', '#F97316', '#84CC16',\n                  '#06B6D4'\n                ]\n              }]\n            },\n            options: {\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Bookmark Distribution by Domain'\n                },\n                tooltip: {\n                  callbacks: {\n                    label: function(context) {\n                      const item = domainDistribution[context.dataIndex];\n                      return `${item.domain}: ${item.count} (${item.percentage}%)`;\n                    }\n                  }\n                }\n              }\n            }\n          });\n        }\n        \n        // Activity Timeline Chart (existing)\n        const activityCtx = document.getElementById('activityChart');\n        if (activityCtx) {\n          if (activityChart) activityChart.destroy();\n          activityChart = new Chart(activityCtx, {\n            type: 'line',\n            data: {\n              labels: activityTimeline.map(([month]) => month),\n              datasets: [{\n                label: 'Bookmarks Added',\n                data: activityTimeline.map(([, count]) => count),\n                fill: false,\n                borderColor: 'rgba(34, 197, 94, 1)',\n                backgroundColor: 'rgba(34, 197, 94, 0.1)',\n                tension: 0.1\n              }]\n            },\n            options: {\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Bookmark Activity Timeline'\n                }\n              },\n              scales: {\n                y: {\n                  beginAtZero: true\n                }\n              }\n            }\n          });\n        }\n\n        // Title Word Frequency Chart (new)\n        const wordCtx = document.getElementById('wordCloudChart');\n        if (wordCtx) {\n          if (wordCloudChart) wordCloudChart.destroy();\n          wordCloudChart = new Chart(wordCtx, {\n            type: 'bar',\n            data: {\n              labels: titleWords.map(([word]) => word),\n              datasets: [{\n                label: 'Frequency',\n                data: titleWords.map(([, count]) => count),\n                backgroundColor: 'rgba(168, 85, 247, 0.5)',\n                borderColor: 'rgba(168, 85, 247, 1)',\n                borderWidth: 1\n              }]\n            },\n            options: {\n              indexAxis: 'y',\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Most Frequent Words in Bookmark Titles'\n                }\n              },\n              scales: {\n                x: {\n                  beginAtZero: true\n                }\n              }\n            }\n          });\n        }\n\n        // Title Patterns Chart (new)\n        const patternsCtx = document.getElementById('titlePatternsChart');\n        if (patternsCtx) {\n          if (titlePatternsChart) titlePatternsChart.destroy();\n          titlePatternsChart = new Chart(patternsCtx, {\n            type: 'doughnut',\n            data: {\n              labels: titlePatterns.map(([pattern]) => pattern),\n              datasets: [{\n                data: titlePatterns.map(([, count]) => count),\n                backgroundColor: [\n                  '#F59E0B', '#10B981', '#3B82F6', '#EF4444', '#8B5CF6',\n                  '#EC4899', '#6B7280', '#14B8A6', '#F97316', '#84CC16'\n                ]\n              }]\n            },\n            options: {\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Common Title Patterns & Types'\n                }\n              }\n            }\n          });\n        }\n\n        // Age Distribution Chart (new)\n        const ageCtx = document.getElementById('ageDistributionChart');\n        if (ageCtx) {\n          if (ageDistributionChart) ageDistributionChart.destroy();\n          ageDistributionChart = new Chart(ageCtx, {\n            type: 'bar',\n            data: {\n              labels: ageDistribution.map(([period]) => period),\n              datasets: [{\n                label: 'Bookmarks',\n                data: ageDistribution.map(([, count]) => count),\n                backgroundColor: 'rgba(34, 197, 94, 0.5)',\n                borderColor: 'rgba(34, 197, 94, 1)',\n                borderWidth: 1\n              }]\n            },\n            options: {\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Bookmark Age Distribution'\n                }\n              },\n              scales: {\n                y: {\n                  beginAtZero: true\n                }\n              }\n            }\n          });\n        }\n\n        // Creation Patterns Chart (new - daily pattern)\n        const creationCtx = document.getElementById('creationPatternsChart');\n        if (creationCtx) {\n          if (creationPatternsChart) creationPatternsChart.destroy();\n          creationPatternsChart = new Chart(creationCtx, {\n            type: 'radar',\n            data: {\n              labels: creationPatterns.daily.map(([day]) => day),\n              datasets: [{\n                label: 'Bookmarks Created',\n                data: creationPatterns.daily.map(([, count]) => count),\n                backgroundColor: 'rgba(245, 158, 11, 0.2)',\n                borderColor: 'rgba(245, 158, 11, 1)',\n                borderWidth: 2\n              }]\n            },\n            options: {\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Bookmark Creation Patterns by Day of Week'\n                }\n              },\n              scales: {\n                r: {\n                  beginAtZero: true\n                }\n              }\n            }\n          });\n        }\n\n        // URL Patterns Chart (new - TLD distribution)\n        const urlCtx = document.getElementById('urlPatternsChart');\n        if (urlCtx) {\n          if (urlPatternsChart) urlPatternsChart.destroy();\n          urlPatternsChart = new Chart(urlCtx, {\n            type: 'bar',\n            data: {\n              labels: urlPatterns.topLevelDomains.map(([tld]) => `.${tld}`),\n              datasets: [{\n                label: 'Count',\n                data: urlPatterns.topLevelDomains.map(([, count]) => count),\n                backgroundColor: 'rgba(236, 72, 153, 0.5)',\n                borderColor: 'rgba(236, 72, 153, 1)',\n                borderWidth: 1\n              }]\n            },\n            options: {\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Top Level Domains Distribution'\n                }\n              },\n              scales: {\n                y: {\n                  beginAtZero: true\n                }\n              }\n            }\n          });\n        }\n\n        // Domain Hierarchy Chart (treemap-like horizontal bar)\n        const hierarchyCtx = document.getElementById('domainHierarchyChart');\n        if (hierarchyCtx && hierarchyData.length > 0) {\n          if (domainHierarchyChart) domainHierarchyChart.destroy();\n          const topDomains = hierarchyData.slice(0, 15);\n          domainHierarchyChart = new Chart(hierarchyCtx, {\n            type: 'bar',\n            data: {\n              labels: topDomains.map(d => d.name),\n              datasets: [{\n                label: 'Bookmarks',\n                data: topDomains.map(d => d.count),\n                backgroundColor: [\n                  '#3B82F6', '#EF4444', '#10B981', '#F59E0B', '#8B5CF6',\n                  '#EC4899', '#6B7280', '#14B8A6', '#F97316', '#84CC16',\n                  '#06B6D4', '#F43F5E', '#22C55E', '#A855F7', '#0EA5E9'\n                ]\n              }]\n            },\n            options: {\n              indexAxis: 'y',\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Domain Hierarchy (Top 15 Domains)'\n                },\n                legend: {\n                  display: false\n                }\n              },\n              scales: {\n                x: {\n                  beginAtZero: true\n                }\n              }\n            }\n          });\n        }\n\n        // Content Freshness Chart (doughnut)\n        const freshnessCtx = document.getElementById('freshnessChart');\n        if (freshnessCtx && freshnessData.length > 0) {\n          if (freshnessChart) freshnessChart.destroy();\n          freshnessChart = new Chart(freshnessCtx, {\n            type: 'doughnut',\n            data: {\n              labels: freshnessData.map(d => d.period),\n              datasets: [{\n                data: freshnessData.map(d => d.count),\n                backgroundColor: ['#22C55E', '#84CC16', '#F59E0B', '#F97316', '#EF4444']\n              }]\n            },\n            options: {\n              responsive: true,\n              plugins: {\n                title: {\n                  display: true,\n                  text: 'Bookmark Freshness'\n                }\n              }\n            }\n          });\n        }\n      }, 100);\n    } catch (err) {\n      console.error('Error loading insights:', err);\n    }\n  }\n  \n  async function loadHealthData() {\n    // Reset display limits\n    duplicatesDisplayLimit = 10;\n    similarDisplayLimit = 10;\n    deadLinksDisplayLimit = 10;\n    \n    try {\n      // Load quick stats first (fast) - shows something immediately\n      loadingDuplicates = true;\n      loadingSimilar = true;\n      loadingDeadLinks = true;\n      loadingMalformed = true;\n      \n      // Load quick stats immediately\n      quickStats = await getQuickStats();\n      \n      // Load enrichment status\n      await loadEnrichmentStatus();\n      \n      // Load sections progressively (non-blocking)\n      // Duplicates load\n      findDuplicates().then(dups => {\n        duplicates = dups;\n        loadingDuplicates = false;\n      }).catch(err => {\n        console.error('Error loading duplicates:', err);\n        loadingDuplicates = false;\n      });\n      \n      // Dead links load (from stored data)\n      getDeadLinks().then(links => {\n        deadLinks = links;\n        loadingDeadLinks = false;\n      }).catch(err => {\n        console.error('Error loading dead links:', err);\n        loadingDeadLinks = false;\n      });\n      \n      // Malformed URLs load\n      findMalformedUrls().then(malformed => {\n        malformedUrls = malformed;\n        loadingMalformed = false;\n      }).catch(err => {\n        console.error('Error loading malformed URLs:', err);\n        loadingMalformed = false;\n      });\n      \n      // Similar bookmarks load (slowest - O(n) algorithm)\n      findSimilarBookmarks().then(similar => {\n        similarBookmarks = similar;\n        loadingSimilar = false;\n      }).catch(err => {\n        console.error('Error loading similar bookmarks:', err);\n        loadingSimilar = false;\n      });\n      \n    } catch (err) {\n      console.error('Error loading health data:', err);\n    }\n  }\n  \n  // Enrichment functions\n  async function loadEnrichmentStatus() {\n    try {\n      const response = await chrome.runtime.sendMessage({ action: 'getEnrichmentStatus' });\n      if (response.success) {\n        enrichmentStatus = response;\n      }\n      \n      // Load enrichment settings - getSettings is already imported at the top\n      const settings = await getSettings();\n      if (settings) {\n        enrichmentBatchSize = settings.enrichmentBatchSize || 20;\n        enrichmentConcurrency = settings.enrichmentConcurrency || 3;\n      }\n    } catch (err) {\n      console.error('Error loading enrichment status:', err);\n    }\n  }\n  \n  async function handleRunEnrichment() {\n    runningEnrichment = true;\n    enrichmentResult = null;\n    enrichmentProgress = null;\n    enrichmentLogs = [];\n    \n    try {\n      // Create auto-backup before enrichment\n      console.log('Creating auto-backup before enrichment...');\n      await createAutoBackup();\n      \n      const response = await chrome.runtime.sendMessage({ \n        action: 'runEnrichment',\n        batchSize: enrichmentBatchSize,\n        concurrency: enrichmentConcurrency\n      });\n      \n      if (response.success) {\n        enrichmentResult = response.result;\n        // Refresh enrichment status\n        await loadEnrichmentStatus();\n      } else {\n        enrichmentResult = { error: response.error };\n      }\n    } catch (err) {\n      console.error('Error running enrichment:', err);\n      enrichmentResult = { error: err.message };\n    } finally {\n      runningEnrichment = false;\n    }\n  }\n  \n  async function deleteSimilarBookmark(bookmarkId, pairIndex) {\n    try {\n      // First check if the bookmark still exists\n      const existingBookmarks = await chrome.bookmarks.get([bookmarkId]);\n      if (existingBookmarks && existingBookmarks.length > 0) {\n        await chrome.bookmarks.remove(bookmarkId);\n        console.log(`Deleted similar bookmark: ${bookmarkId}`);\n      } else {\n        console.log(`Bookmark ${bookmarkId} no longer exists`);\n      }\n      // Remove the pair from the list immediately - no need to reload since data is precomputed\n      similarBookmarks = similarBookmarks.filter((_, idx) => idx !== pairIndex);\n    } catch (err) {\n      console.error('Error deleting bookmark:', err);\n      // Even on error, just remove the pair from display - don't reload\n      similarBookmarks = similarBookmarks.filter((_, idx) => idx !== pairIndex);\n    }\n  }\n  \n  function loadMoreDuplicates() {\n    duplicatesDisplayLimit += 10;\n  }\n  \n  function loadMoreSimilar() {\n    similarDisplayLimit += 10;\n  }\n  \n  function loadMoreDeadLinks() {\n    deadLinksDisplayLimit += 10;\n  }\n  \n  async function deleteDuplicate(bookmarkId, groupIndex) {\n    try {\n      // First check if the bookmark still exists\n      const existingBookmarks = await chrome.bookmarks.get([bookmarkId]);\n      if (existingBookmarks && existingBookmarks.length > 0) {\n        await chrome.bookmarks.remove(bookmarkId);\n        console.log(`Deleted bookmark: ${bookmarkId}`);\n      } else {\n        console.log(`Bookmark ${bookmarkId} no longer exists`);\n      }\n      \n      // Update the duplicates list without full reload\n      duplicates = duplicates.map((group, idx) => {\n        if (idx === groupIndex) {\n          return group.filter(b => b.id !== bookmarkId);\n        }\n        return group;\n      }).filter(group => group.length > 1); // Remove groups that no longer have duplicates\n      \n    } catch (err) {\n      console.error('Error deleting bookmark:', err);\n      // Reload duplicates only on error\n      loadingDuplicates = true;\n      findDuplicates().then(dups => {\n        duplicates = dups;\n        loadingDuplicates = false;\n      });\n    }\n  }\n  \n  function toggleMultiSelectMode() {\n    multiSelectMode = !multiSelectMode;\n    if (!multiSelectMode) {\n      selectedBookmarks.clear();\n      selectedBookmarks = selectedBookmarks;\n    }\n  }\n  \n  function handleToggleSelect(event) {\n    const { bookmarkId, selected } = event.detail;\n    if (selected) {\n      selectedBookmarks.add(bookmarkId);\n    } else {\n      selectedBookmarks.delete(bookmarkId);\n    }\n    selectedBookmarks = selectedBookmarks;\n  }\n  \n  function selectAllBookmarks() {\n    selectedBookmarks = new Set(bookmarks.map(b => b.id));\n  }\n  \n  function deselectAllBookmarks() {\n    selectedBookmarks.clear();\n    selectedBookmarks = selectedBookmarks;\n  }\n  \n  async function deleteSelectedBookmarks() {\n    if (selectedBookmarks.size === 0) return;\n    \n    if (!confirm(`Are you sure you want to delete ${selectedBookmarks.size} bookmark(s)?`)) {\n      return;\n    }\n    \n    try {\n      loading = true;\n      const bookmarkIds = Array.from(selectedBookmarks);\n      const result = await deleteBookmarks(bookmarkIds);\n      \n      if (result.errors.length > 0) {\n        console.error('Some bookmarks could not be deleted:', result.errors);\n        alert(`${result.success} bookmarks deleted successfully. ${result.errors.length} failed.`);\n      } else {\n        alert(`${result.success} bookmarks deleted successfully.`);\n      }\n      \n      // Clear selections and reload\n      selectedBookmarks.clear();\n      selectedBookmarks = selectedBookmarks;\n      multiSelectMode = false;\n      \n      // Reload bookmarks\n      currentPage = 0;\n      await loadBookmarksPaginated();\n    } catch (err) {\n      console.error('Error deleting bookmarks:', err);\n      alert('Error deleting bookmarks. Please try again.');\n    } finally {\n      loading = false;\n    }\n  }\n  \n  async function handleDeleteSingle(event) {\n    const { bookmarkId } = event.detail;\n    \n    if (!confirm('Are you sure you want to delete this bookmark?')) {\n      return;\n    }\n    \n    try {\n      await deleteBookmark(bookmarkId);\n      // Reload bookmarks to refresh the list\n      currentPage = 0;\n      await loadBookmarksPaginated();\n    } catch (err) {\n      console.error('Error deleting bookmark:', err);\n      alert('Error deleting bookmark. Please try again.');\n    }\n  }\n  \n  function toggleViewMode() {\n    viewMode = viewMode === 'list' ? 'card' : 'list';\n  }\n  \n  // Backup & Restore handlers\n  async function handleDownloadBackup() {\n    backupInProgress = true;\n    try {\n      const result = await downloadBackup();\n      if (result.success) {\n        alert(`Backup saved: ${result.filename}\\n\\nContains:\\n- ${result.metadata.totalBookmarks} bookmarks\\n- ${result.metadata.enrichedCount} enriched\\n- ${result.metadata.categorizedCount} categorized`);\n      }\n    } catch (err) {\n      console.error('Error creating backup:', err);\n      alert('Error creating backup: ' + err.message);\n    } finally {\n      backupInProgress = false;\n    }\n  }\n  \n  async function handleRestoreBackup() {\n    if (!restoreFile) {\n      alert('Please select a backup file first');\n      return;\n    }\n    \n    if (!backupValidation || !backupValidation.valid) {\n      alert('Please select a valid backup file');\n      return;\n    }\n    \n    if (!confirm(`Restore backup from ${backupValidation.createdAt}?\\n\\nThis will replace your current data with:\\n- ${backupValidation.metadata.totalBookmarks} bookmarks\\n- ${backupValidation.metadata.enrichedCount} enriched\\n\\nYour current data will be auto-backed up first.`)) {\n      return;\n    }\n    \n    restoreInProgress = true;\n    try {\n      // Create auto-backup first\n      await createAutoBackup();\n      \n      // Read and parse the file\n      const text = await restoreFile.text();\n      const backup = JSON.parse(text);\n      \n      // Restore\n      const result = await restoreFromBackup(backup);\n      \n      if (result.success) {\n        alert(`Restore complete!\\n\\n- ${result.results.bookmarksRestored} bookmarks restored\\n- ${result.results.similaritiesRestored} similarities restored\\n\\nRefreshing...`);\n        showRestoreDialog = false;\n        restoreFile = null;\n        backupValidation = null;\n        // Reload the page to refresh all data\n        window.location.reload();\n      }\n    } catch (err) {\n      console.error('Error restoring backup:', err);\n      alert('Error restoring backup: ' + err.message);\n    } finally {\n      restoreInProgress = false;\n    }\n  }\n  \n  async function handleFileSelect(event) {\n    const file = event.target.files[0];\n    if (!file) return;\n    \n    restoreFile = file;\n    \n    try {\n      const text = await file.text();\n      const backup = JSON.parse(text);\n      backupValidation = validateBackup(backup);\n    } catch (err) {\n      backupValidation = { valid: false, issues: ['Invalid JSON file'] };\n    }\n  }\n  \n  async function loadAutoBackups() {\n    autoBackups = await listAutoBackups();\n  }\n  \n  async function handleRestoreAutoBackup(index) {\n    if (!confirm(`Restore auto-backup from ${autoBackups[index].createdAt}?\\n\\nThis will replace your current data.`)) {\n      return;\n    }\n    \n    restoreInProgress = true;\n    try {\n      const result = await restoreFromAutoBackup(index);\n      if (result.success) {\n        alert('Restore complete! Refreshing...');\n        window.location.reload();\n      }\n    } catch (err) {\n      console.error('Error restoring auto-backup:', err);\n      alert('Error: ' + err.message);\n    } finally {\n      restoreInProgress = false;\n    }\n  }\n  \n  async function handleExportBookmarks() {\n    try {\n      const exportData = await exportBookmarks();\n      const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `bookmarks-export-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error('Error exporting bookmarks:', err);\n      alert('Error exporting bookmarks. Please try again.');\n    }\n  }\n</script>\n\n<svelte:head>\n  <title>Bookmark Insight Dashboard</title>\n</svelte:head>\n\n<div class=\"min-h-screen bg-gray-50\">\n  <!-- Header -->\n  <header class=\"bg-white shadow-sm border-b border-gray-200\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex justify-between items-center py-4\">\n        <div class=\"flex items-center space-x-4\">\n          <h1 class=\"text-2xl font-bold text-gray-900\">Bookmark Insight</h1>\n          <button\n            on:click={handleExportBookmarks}\n            class=\"px-3 py-1 text-sm text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n            title=\"Export bookmarks to JSON\"\n          >\n            <svg class=\"w-4 h-4 inline-block mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path>\n            </svg>\n            Export\n          </button>\n        </div>\n        \n        <!-- Navigation -->\n        <nav class=\"flex space-x-4\">\n          <button\n            on:click={() => switchView('bookmarks')}\n            class=\"px-4 py-2 rounded-md text-sm font-medium\"\n            class:bg-blue-100={currentView === 'bookmarks'}\n            class:text-blue-700={currentView === 'bookmarks'}\n            class:text-gray-500={currentView !== 'bookmarks'}\n            class:hover:text-gray-700={currentView !== 'bookmarks'}\n          >\n            Bookmarks\n          </button>\n          <button\n            on:click={() => switchView('insights')}\n            class=\"px-4 py-2 rounded-md text-sm font-medium\"\n            class:bg-blue-100={currentView === 'insights'}\n            class:text-blue-700={currentView === 'insights'}\n            class:text-gray-500={currentView !== 'insights'}\n            class:hover:text-gray-700={currentView !== 'insights'}\n          >\n            Insights\n          </button>\n          <button\n            on:click={() => switchView('health')}\n            class=\"px-4 py-2 rounded-md text-sm font-medium\"\n            class:bg-blue-100={currentView === 'health'}\n            class:text-blue-700={currentView === 'health'}\n            class:text-gray-500={currentView !== 'health'}\n            class:hover:text-gray-700={currentView !== 'health'}\n          >\n            Health\n          </button>\n        </nav>\n      </div>\n    </div>\n  </header>\n  \n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n    {#if currentView === 'bookmarks'}\n      <div class=\"mb-6\">\n        <SearchBar on:search={handleSearch} />\n      </div>\n      \n      <div class=\"flex gap-6 min-h-0\">\n        <div class=\"flex-shrink-0\">\n          <Sidebar on:filter={handleFilter} />\n        </div>\n        \n        <div class=\"flex-1 min-w-0 overflow-hidden\">\n          {#if loading}\n            <div class=\"flex items-center justify-center h-64\">\n              <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n            </div>\n          {:else if error}\n            <div class=\"text-center text-red-600 p-8\">\n              <p>Error: {error}</p>\n              <button\n                on:click={() => loadBookmarksPaginated()}\n                class=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n              >\n                Retry\n              </button>\n            </div>\n          {:else if bookmarks.length === 0}\n            <div class=\"text-center text-gray-500 p-8\">\n              {#if searchQuery}\n                <p>No bookmarks found for \"{searchQuery}\"</p>\n              {:else}\n                <p>No bookmarks found</p>\n              {/if}\n            </div>\n          {:else}\n            <div class=\"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n              <h2 class=\"text-lg font-medium text-gray-900\">\n                {totalCount} bookmark{totalCount !== 1 ? 's' : ''}\n                {#if currentFilters.domains.length > 0 || currentFilters.folders.length > 0 || currentFilters.dateRange || currentFilters.searchQuery}\n                  <span class=\"text-sm text-gray-500\">\n                    (filtered)\n                  </span>\n                {/if}\n              </h2>\n              <div class=\"flex flex-wrap items-center gap-2 sm:gap-4\">\n                <div class=\"text-sm text-gray-500\">\n                  Showing {bookmarks.length} of {totalCount}\n                </div>\n                \n                <!-- Sort Dropdown -->\n                <select\n                  bind:value={currentSortBy}\n                  on:change={(e) => handleSortChange(e.target.value)}\n                  class=\"text-sm border border-gray-300 rounded-md px-2 py-1 bg-white\"\n                >\n                  {#each Object.values(SORT_OPTIONS) as option}\n                    <option value={option.key}>{option.label}</option>\n                  {/each}\n                </select>\n                \n                <!-- View Mode Toggle -->\n                <button\n                  on:click={toggleViewMode}\n                  class=\"p-2 text-gray-500 hover:text-gray-700 border border-gray-300 rounded-md\"\n                  title=\"Toggle view mode\"\n                >\n                  {#if viewMode === 'list'}\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\"></path>\n                    </svg>\n                  {:else}\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 10h16M4 14h16M4 18h16\"></path>\n                    </svg>\n                  {/if}\n                </button>\n                \n                <!-- Multi-Select Toggle -->\n                <button\n                  on:click={toggleMultiSelectMode}\n                  class=\"px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50\"\n                  class:bg-blue-50={multiSelectMode}\n                  class:border-blue-300={multiSelectMode}\n                  class:text-blue-700={multiSelectMode}\n                >\n                  {multiSelectMode ? 'Cancel' : 'Select'}\n                </button>\n              </div>\n            </div>\n            \n            <!-- Multi-Select Toolbar -->\n            {#if multiSelectMode}\n              <div class=\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md\">\n                <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n                  <div class=\"flex flex-wrap items-center gap-2 sm:gap-4\">\n                    <span class=\"text-sm text-blue-700\">\n                      {selectedBookmarks.size} selected\n                    </span>\n                    <button\n                      on:click={selectAllBookmarks}\n                      class=\"text-sm text-blue-600 hover:text-blue-800\"\n                    >\n                      Select All\n                    </button>\n                    <button\n                      on:click={deselectAllBookmarks}\n                      class=\"text-sm text-blue-600 hover:text-blue-800\"\n                    >\n                      Deselect All\n                    </button>\n                  </div>\n                  <button\n                    on:click={deleteSelectedBookmarks}\n                    disabled={selectedBookmarks.size === 0}\n                    class=\"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto\"\n                  >\n                    Delete Selected\n                  </button>\n                </div>\n              </div>\n            {/if}\n            \n            <!-- Bookmarks Display -->\n            {#if viewMode === 'list'}\n              <div class=\"bg-white rounded-lg shadow overflow-hidden\">\n                <div class=\"max-w-full overflow-x-auto\">\n                  {#each bookmarks as bookmark (bookmark.id)}\n                    <BookmarkListItem \n                      {bookmark} \n                      {multiSelectMode}\n                      isSelected={selectedBookmarks.has(bookmark.id)}\n                      on:toggle-select={handleToggleSelect}\n                      on:delete={handleDeleteSingle}\n                    />\n                  {/each}\n                </div>\n              </div>\n            {:else}\n              <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {#each bookmarks as bookmark (bookmark.id)}\n                  <BookmarkCard {bookmark} />\n                {/each}\n              </div>\n            {/if}\n\n            <!-- Load More Button -->\n            {#if hasMore}\n              <div class=\"mt-8 text-center\">\n                <button\n                  on:click={loadMoreBookmarks}\n                  disabled={loading}\n                  class=\"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {#if loading}\n                    <div class=\"flex items-center\">\n                      <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      Loading...\n                    </div>\n                  {:else}\n                    Load More\n                  {/if}\n                </button>\n              </div>\n            {/if}\n          {/if}\n        </div>\n      </div>\n    {:else if currentView === 'insights'}\n      <div class=\"space-y-8\">\n        {#if loading}\n          <div class=\"flex items-center justify-center h-64\">\n            <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n          </div>\n        {:else}\n          <!-- Domain Analysis Section -->\n          <div class=\"bg-white p-6 rounded-lg shadow\">\n            <h3 class=\"text-xl font-semibold text-gray-900 mb-6\">Domain Analysis</h3>\n            <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <div>\n                <canvas id=\"domainChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n              <div>\n                <canvas id=\"domainDistributionChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Content Analysis Section -->\n          <div class=\"bg-white p-6 rounded-lg shadow\">\n            <h3 class=\"text-xl font-semibold text-gray-900 mb-6\">Content Analysis</h3>\n            <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <div>\n                <canvas id=\"wordCloudChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n              <div>\n                <canvas id=\"titlePatternsChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Temporal Analysis Section -->\n          <div class=\"bg-white p-6 rounded-lg shadow\">\n            <h3 class=\"text-xl font-semibold text-gray-900 mb-6\">Temporal Analysis</h3>\n            <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n              <div>\n                <canvas id=\"activityChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n              <div>\n                <canvas id=\"ageDistributionChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n              <div>\n                <canvas id=\"creationPatternsChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n            </div>\n          </div>\n          \n          <!-- URL Structure Analysis Section -->\n          <div class=\"bg-white p-6 rounded-lg shadow\">\n            <h3 class=\"text-xl font-semibold text-gray-900 mb-6\">URL Structure Analysis</h3>\n            <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <div>\n                <canvas id=\"urlPatternsChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n              <div class=\"bg-gray-50 p-4 rounded-lg\">\n                <h4 class=\"text-lg font-medium text-gray-900 mb-4\">URL Parameter Usage</h4>\n                {#if urlParameterData}\n                  <div class=\"space-y-2\">\n                    <div class=\"text-sm text-gray-600\">\n                      URLs with parameters: <span class=\"font-semibold\">{urlParameterData.percentage}%</span>\n                      <span class=\"text-xs text-gray-400\">({urlParameterData.urlsWithParams} of {urlParameterData.totalUrls})</span>\n                    </div>\n                    {#if urlParameterData.parameters.length > 0}\n                      <div class=\"space-y-1 mt-3\">\n                        <div class=\"text-sm font-medium text-gray-700\">Most Common Parameters:</div>\n                        {#each urlParameterData.parameters.slice(0, 10) as [param, count]}\n                          <div class=\"flex justify-between text-xs text-gray-600 py-1 border-b border-gray-200\">\n                            <span class=\"font-mono bg-gray-100 px-1 rounded\">{param}</span>\n                            <span class=\"font-semibold\">{count}</span>\n                          </div>\n                        {/each}\n                      </div>\n                    {:else}\n                      <p class=\"text-sm text-gray-500 mt-2\">No URL parameters found in bookmarks.</p>\n                    {/if}\n                  </div>\n                {:else}\n                  <p class=\"text-sm text-gray-500\">Loading parameter data...</p>\n                {/if}\n              </div>\n            </div>\n          </div>\n          \n          <!-- NEW: Domain Hierarchy Visualization (Step 9) -->\n          <div class=\"bg-white p-6 rounded-lg shadow\">\n            <h3 class=\"text-xl font-semibold text-gray-900 mb-6\">\n              <svg class=\"w-6 h-6 inline-block mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4\"></path>\n              </svg>\n              Domain Hierarchy\n            </h3>\n            <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <div>\n                <canvas id=\"domainHierarchyChart\" width=\"400\" height=\"400\"></canvas>\n              </div>\n              <div class=\"bg-gray-50 p-4 rounded-lg max-h-96 overflow-y-auto\">\n                <h4 class=\"text-lg font-medium text-gray-900 mb-4\">Domain Breakdown</h4>\n                {#if domainHierarchy.length > 0}\n                  <div class=\"space-y-3\">\n                    {#each domainHierarchy.slice(0, 10) as domain}\n                      <div class=\"border border-gray-200 rounded p-3 bg-white\">\n                        <div class=\"flex justify-between items-center\">\n                          <span class=\"font-medium text-gray-800\">{domain.name}</span>\n                          <span class=\"text-sm font-bold text-blue-600\">{domain.count}</span>\n                        </div>\n                        {#if domain.subdomains.length > 0}\n                          <div class=\"mt-2 pl-4 border-l-2 border-gray-200\">\n                            {#each domain.subdomains.slice(0, 3) as subdomain}\n                              <div class=\"text-sm text-gray-600 flex justify-between py-1\">\n                                <span>{subdomain.name}</span>\n                                <span class=\"text-gray-500\">{subdomain.count}</span>\n                              </div>\n                            {/each}\n                            {#if domain.subdomains.length > 3}\n                              <div class=\"text-xs text-gray-400\">+{domain.subdomains.length - 3} more...</div>\n                            {/if}\n                          </div>\n                        {/if}\n                      </div>\n                    {/each}\n                  </div>\n                {:else}\n                  <p class=\"text-gray-500 text-sm\">No domain data available.</p>\n                {/if}\n              </div>\n            </div>\n          </div>\n          \n          <!-- NEW: Data Insights Dashboard (Step 11) -->\n          <div class=\"bg-white p-6 rounded-lg shadow\">\n            <h3 class=\"text-xl font-semibold text-gray-900 mb-6\">\n              <svg class=\"w-6 h-6 inline-block mr-2 text-purple-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"></path>\n              </svg>\n              Data Insights\n            </h3>\n            \n            {#if insightsSummary}\n              <!-- Insights Summary Cards -->\n              <div class=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8\">\n                <div class=\"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg text-center\">\n                  <div class=\"text-2xl font-bold text-blue-700\">{insightsSummary.totalBookmarks}</div>\n                  <div class=\"text-xs text-blue-600\">Total Bookmarks</div>\n                </div>\n                <div class=\"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg text-center\">\n                  <div class=\"text-2xl font-bold text-green-700\">{insightsSummary.categorizedPercentage}%</div>\n                  <div class=\"text-xs text-green-600\">Categorized</div>\n                </div>\n                <div class=\"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg text-center\">\n                  <div class=\"text-2xl font-bold text-purple-700\">{insightsSummary.enrichedPercentage}%</div>\n                  <div class=\"text-xs text-purple-600\">Enriched</div>\n                </div>\n                <div class=\"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg text-center\">\n                  <div class=\"text-2xl font-bold text-orange-700\">{insightsSummary.neverAccessedPercentage}%</div>\n                  <div class=\"text-xs text-orange-600\">Never Accessed</div>\n                </div>\n                <div class=\"bg-gradient-to-br from-red-50 to-red-100 p-4 rounded-lg text-center\">\n                  <div class=\"text-2xl font-bold text-red-700\">{insightsSummary.deadLinks}</div>\n                  <div class=\"text-xs text-red-600\">Dead Links</div>\n                </div>\n                <div class=\"bg-gradient-to-br from-cyan-50 to-cyan-100 p-4 rounded-lg text-center\">\n                  <div class=\"text-2xl font-bold text-cyan-700\">{insightsSummary.uniqueDomains}</div>\n                  <div class=\"text-xs text-cyan-600\">Unique Domains</div>\n                </div>\n              </div>\n            {/if}\n            \n            <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <!-- Content Freshness -->\n              <div>\n                <canvas id=\"freshnessChart\" width=\"400\" height=\"300\"></canvas>\n              </div>\n              \n              <!-- Top Categories -->\n              <div class=\"bg-gray-50 p-4 rounded-lg\">\n                <h4 class=\"text-lg font-medium text-gray-900 mb-4\">Top Categories</h4>\n                {#if insightsSummary && insightsSummary.topCategories}\n                  <div class=\"space-y-2\">\n                    {#each insightsSummary.topCategories as [category, count]}\n                      <div class=\"flex items-center justify-between py-2 border-b border-gray-200\">\n                        <span class=\"font-medium text-gray-700 capitalize\">{category}</span>\n                        <div class=\"flex items-center\">\n                          <div class=\"w-24 bg-gray-200 rounded-full h-2 mr-3\">\n                            <div class=\"bg-purple-600 h-2 rounded-full\" style=\"width: {Math.min(100, (count / insightsSummary.topCategories[0][1]) * 100)}%\"></div>\n                          </div>\n                          <span class=\"text-sm font-bold text-gray-600\">{count}</span>\n                        </div>\n                      </div>\n                    {/each}\n                  </div>\n                {:else}\n                  <p class=\"text-sm text-gray-500\">No category data available.</p>\n                {/if}\n              </div>\n            </div>\n          </div>\n          \n          <!-- Summary Statistics -->\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div class=\"bg-white p-6 rounded-lg shadow text-center\">\n              <div class=\"text-3xl font-bold text-blue-600\">{bookmarks.length || 0}</div>\n              <div class=\"text-gray-500\">Total Bookmarks</div>\n            </div>\n            <div class=\"bg-white p-6 rounded-lg shadow text-center\">\n              <div class=\"text-3xl font-bold text-green-600\">{duplicates.length}</div>\n              <div class=\"text-gray-500\">Duplicate Groups</div>\n            </div>\n            <div class=\"bg-white p-6 rounded-lg shadow text-center\">\n              <div class=\"text-3xl font-bold text-purple-600\">{new Set(bookmarks.map(b => b.domain)).size}</div>\n              <div class=\"text-gray-500\">Unique Domains</div>\n            </div>\n          </div>\n        {/if}\n      </div>\n    {:else if currentView === 'health'}\n      <div class=\"space-y-8\">\n        {#if loading}\n          <div class=\"flex items-center justify-center h-64\">\n            <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n          </div>\n        {:else}\n          <!-- Quick Stats Summary -->\n          {#if quickStats}\n            <div class=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n              <div class=\"bg-white p-4 rounded-lg shadow text-center\">\n                <div class=\"text-2xl font-bold text-blue-600\">{quickStats.total}</div>\n                <div class=\"text-xs text-gray-500\">Total Bookmarks</div>\n              </div>\n              <div class=\"bg-white p-4 rounded-lg shadow text-center\">\n                <div class=\"text-2xl font-bold text-red-600\">{quickStats.duplicateGroups}</div>\n                <div class=\"text-xs text-gray-500\">Duplicate Groups</div>\n              </div>\n              <div class=\"bg-white p-4 rounded-lg shadow text-center\">\n                <div class=\"text-2xl font-bold text-orange-600\">{quickStats.deadLinks}</div>\n                <div class=\"text-xs text-gray-500\">Dead Links</div>\n              </div>\n              <div class=\"bg-white p-4 rounded-lg shadow text-center\">\n                <div class=\"text-2xl font-bold text-purple-600\">{quickStats.uniqueDomains}</div>\n                <div class=\"text-xs text-gray-500\">Unique Domains</div>\n              </div>\n              <div class=\"bg-white p-4 rounded-lg shadow text-center\">\n                <div class=\"text-2xl font-bold text-green-600\">{quickStats.addedThisWeek}</div>\n                <div class=\"text-xs text-gray-500\">Added This Week</div>\n              </div>\n              <div class=\"bg-white p-4 rounded-lg shadow text-center\">\n                <div class=\"text-2xl font-bold text-cyan-600\">{quickStats.addedThisMonth}</div>\n                <div class=\"text-xs text-gray-500\">Added This Month</div>\n              </div>\n            </div>\n          {/if}\n          \n          <!-- Enrichment Panel -->\n          <div class=\"bg-white rounded-lg shadow\">\n            <div class=\"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4\">\n              <div>\n                <h3 class=\"text-lg font-medium text-gray-900\">\n                  <svg class=\"w-5 h-5 inline-block mr-2 text-purple-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\"></path>\n                  </svg>\n                  Bookmark Enrichment\n                </h3>\n                <p class=\"text-sm text-gray-500 mt-1\">\n                  Fetch metadata (descriptions, categories, keywords) for your bookmarks\n                </p>\n              </div>\n              <button\n                on:click={handleRunEnrichment}\n                disabled={runningEnrichment}\n                class=\"px-4 py-2 bg-purple-600 text-white text-sm rounded-md hover:bg-purple-700 disabled:opacity-50 flex-shrink-0\"\n              >\n                {#if runningEnrichment}\n                  <span class=\"flex items-center\">\n                    <svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                      <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    Enriching...\n                  </span>\n                {:else}\n                  Run Enrichment\n                {/if}\n              </button>\n            </div>\n            <div class=\"p-6\">\n              {#if enrichmentStatus}\n                <div class=\"flex flex-wrap gap-4 text-sm mb-4\">\n                  <span class=\"text-gray-600\">\n                    Queue: <strong class=\"text-purple-600\">{enrichmentStatus.queueSize}</strong> bookmarks pending\n                  </span>\n                  <span class=\"text-gray-600\">\n                    Status: <strong class=\"{enrichmentStatus.enabled ? 'text-green-600' : 'text-gray-500'}\">{enrichmentStatus.enabled ? 'Enabled' : 'Disabled'}</strong>\n                  </span>\n                </div>\n              {/if}\n              \n              <!-- Enrichment Configuration -->\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Batch Size\n                    <span class=\"text-xs text-gray-500 font-normal\">(how many bookmarks to process)</span>\n                    <input \n                      type=\"number\" \n                      min=\"5\" \n                      max=\"100\" \n                      bind:value={enrichmentBatchSize}\n                      class=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\n                      disabled={runningEnrichment}\n                    />\n                  </label>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Concurrency\n                    <span class=\"text-xs text-gray-500 font-normal\">(parallel requests)</span>\n                    <input \n                      type=\"number\" \n                      min=\"1\" \n                      max=\"10\" \n                      bind:value={enrichmentConcurrency}\n                      class=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\n                      disabled={runningEnrichment}\n                    />\n                  </label>\n                  <p class=\"text-xs text-gray-500 mt-1\">\n                    Higher = faster, but more resource intensive (recommended: 3-5)\n                  </p>\n                </div>\n              </div>\n              \n              <!-- Real-time Progress Display -->\n              {#if enrichmentProgress && runningEnrichment}\n                <div class=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                  <div class=\"mb-3\">\n                    <div class=\"flex justify-between items-center mb-2\">\n                      <span class=\"text-sm font-medium text-blue-900\">Processing...</span>\n                      <span class=\"text-sm text-blue-700\">\n                        {enrichmentProgress.completed || enrichmentProgress.current} / {enrichmentProgress.total} completed\n                      </span>\n                    </div>\n                    <div class=\"w-full bg-blue-200 rounded-full h-2\">\n                      <div \n                        class=\"bg-blue-600 h-2 rounded-full transition-all duration-300\" \n                        style=\"width: {((enrichmentProgress.completed || enrichmentProgress.current) / enrichmentProgress.total * 100)}%\"\n                      ></div>\n                    </div>\n                  </div>\n                  \n                  {#if enrichmentProgress.title}\n                    <div class=\"text-xs text-blue-800 space-y-1\">\n                      <div class=\"font-medium truncate\" title=\"{enrichmentProgress.url}\">\n                        {enrichmentProgress.status === 'processing' ? '' : enrichmentProgress.status === 'completed' ? '' : ''} \n                        {enrichmentProgress.title}\n                      </div>\n                      <div class=\"text-blue-600 truncate text-[10px]\">{enrichmentProgress.url}</div>\n                    </div>\n                  {/if}\n                </div>\n              {/if}\n\n              <!-- Results Display -->\n              {#if enrichmentResult}\n                <div class=\"mt-4 p-4 rounded-lg {enrichmentResult.error ? 'bg-red-50 border border-red-200' : 'bg-green-50 border border-green-200'}\">\n                  {#if enrichmentResult.error}\n                    <div class=\"text-red-700 text-sm\">\n                      <strong>Error:</strong> {enrichmentResult.error}\n                    </div>\n                  {:else}\n                    <div class=\"text-green-700 text-sm space-y-1\">\n                      <div><strong>Enrichment Complete!</strong></div>\n                      <div>Processed: {enrichmentResult.processed || 0} bookmarks</div>\n                      <div>Successful: {enrichmentResult.success || 0}</div>\n                      {#if enrichmentResult.failed > 0}\n                        <div class=\"text-orange-600\">Failed: {enrichmentResult.failed}</div>\n                      {/if}\n                      {#if enrichmentResult.skipped > 0}\n                        <div class=\"text-gray-600\">Skipped (already enriched): {enrichmentResult.skipped}</div>\n                      {/if}\n                    </div>\n                  {/if}\n                </div>\n              {/if}\n\n              <!-- Progress Logs (collapsible) -->\n              {#if enrichmentLogs.length > 0}\n                <details class=\"mt-4\">\n                  <summary class=\"cursor-pointer text-sm text-gray-600 hover:text-gray-800 font-medium\">View Detailed Logs ({enrichmentLogs.length})</summary>\n                  <div class=\"mt-2 max-h-64 overflow-y-auto bg-gray-50 rounded p-3 space-y-1 text-xs font-mono\">\n                    {#each enrichmentLogs.slice().reverse() as log}\n                      <div class=\"{log.status === 'completed' ? 'text-green-700' : log.status === 'failed' || log.status === 'error' ? 'text-red-700' : 'text-gray-600'}\">\n                        <span class=\"text-gray-400\">{new Date(log.timestamp).toLocaleTimeString()}</span> \n                        [{log.current}/{log.total}] \n                        {log.status === 'completed' ? '' : log.status === 'failed' || log.status === 'error' ? '' : ''} \n                        <span class=\"truncate inline-block max-w-md\" title=\"{log.url}\">{log.title || log.url}</span>\n                      </div>\n                    {/each}\n                  </div>\n                </details>\n              {:else if !enrichmentResult}\n                <p class=\"text-gray-500 text-sm\">\n                  Click \"Run Enrichment\" to fetch metadata for bookmarks that haven't been enriched yet. \n                  Only new bookmarks without descriptions or categories will be processed.\n                </p>\n              {/if}\n            </div>\n          </div>\n          \n          <!-- Dead Links Section -->\n          <div class=\"bg-white rounded-lg shadow\">\n            <div class=\"px-6 py-4 border-b border-gray-200\">\n              <h3 class=\"text-lg font-medium text-gray-900\">\n                Dead Links {#if !loadingDeadLinks}({deadLinks.length}){/if}\n              </h3>\n              <p class=\"text-xs text-gray-500 mt-1\">Bookmarks detected as unreachable during enrichment</p>\n            </div>\n            <div class=\"p-6\">\n              {#if loadingDeadLinks}\n                <div class=\"flex items-center justify-center py-8\">\n                  <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600\"></div>\n                  <span class=\"ml-3 text-gray-500\">Loading dead links...</span>\n                </div>\n              {:else if deadLinks.length === 0}\n                <p class=\"text-gray-500\">No dead links detected. Run enrichment to check bookmark availability.</p>\n              {:else}\n                <div class=\"space-y-2 max-h-[32rem] overflow-y-auto\">\n                  {#each deadLinks.slice(0, deadLinksDisplayLimit) as bookmark}\n                    <div class=\"p-3 bg-red-50 rounded border border-red-200\">\n                      <div class=\"flex items-start justify-between\">\n                        <div class=\"flex-1 min-w-0\">\n                          <div class=\"text-sm font-medium text-gray-800 truncate\">{bookmark.title}</div>\n                          <div class=\"text-xs text-gray-500 truncate\">{bookmark.url}</div>\n                          <div class=\"text-xs text-red-600 mt-1\">\n                            Last checked: {bookmark.lastChecked ? new Date(bookmark.lastChecked).toLocaleDateString() : 'Unknown'}\n                          </div>\n                        </div>\n                        <a \n                          href={bookmark.url} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\"\n                          class=\"ml-2 px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex-shrink-0\"\n                        >\n                          Try Again\n                        </a>\n                      </div>\n                    </div>\n                  {/each}\n                </div>\n                {#if deadLinks.length > deadLinksDisplayLimit}\n                  <div class=\"mt-4 text-center\">\n                    <button\n                      on:click={loadMoreDeadLinks}\n                      class=\"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200\"\n                    >\n                      Load More ({deadLinksDisplayLimit} of {deadLinks.length} shown)\n                    </button>\n                  </div>\n                {/if}\n              {/if}\n            </div>\n          </div>\n          \n          <!-- Duplicates -->\n          <div class=\"bg-white rounded-lg shadow\">\n            <div class=\"px-6 py-4 border-b border-gray-200\">\n              <h3 class=\"text-lg font-medium text-gray-900\">\n                Duplicate Bookmarks {#if !loadingDuplicates}({duplicates.length} groups){/if}\n              </h3>\n            </div>\n            <div class=\"p-6\">\n              {#if loadingDuplicates}\n                <div class=\"flex items-center justify-center py-8\">\n                  <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n                  <span class=\"ml-3 text-gray-500\">Finding duplicates...</span>\n                </div>\n              {:else if duplicates.length === 0}\n                <p class=\"text-gray-500\">No duplicate bookmarks found. Great!</p>\n              {:else}\n                <div class=\"space-y-6 max-h-[32rem] overflow-y-auto\">\n                  {#each duplicates.slice(0, duplicatesDisplayLimit) as group, groupIndex}\n                    <div class=\"border border-gray-200 rounded-lg p-4\">\n                      <h4 class=\"font-medium text-gray-900 mb-3 truncate\" title={group[0].url}>\n                        {group[0].url}\n                      </h4>\n                      <div class=\"space-y-2\">\n                        {#each group as bookmark, index}\n                          <div class=\"flex items-center justify-between p-2 bg-gray-50 rounded\">\n                            <div class=\"flex-1 min-w-0\">\n                              <div class=\"text-sm font-medium truncate\">{bookmark.title}</div>\n                              <div class=\"text-xs text-gray-500\">\n                                {bookmark.folderPath || 'No folder'}\n                              </div>\n                            </div>\n                            {#if index > 0}\n                              <button\n                                on:click={() => deleteDuplicate(bookmark.id, groupIndex)}\n                                class=\"ml-4 px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 flex-shrink-0\"\n                              >\n                                Delete\n                              </button>\n                            {/if}\n                          </div>\n                        {/each}\n                      </div>\n                    </div>\n                  {/each}\n                </div>\n                {#if duplicates.length > duplicatesDisplayLimit}\n                  <div class=\"mt-4 text-center\">\n                    <button\n                      on:click={loadMoreDuplicates}\n                      class=\"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200\"\n                    >\n                      Load More ({duplicatesDisplayLimit} of {duplicates.length} shown)\n                    </button>\n                  </div>\n                {/if}\n              {/if}\n            </div>\n          </div>\n          \n          <!-- Similar Bookmarks -->\n          <div class=\"bg-white rounded-lg shadow\">\n            <div class=\"px-6 py-4 border-b border-gray-200\">\n              <h3 class=\"text-lg font-medium text-gray-900\">\n                Similar Bookmarks {#if !loadingSimilar}({similarBookmarks.length} pairs){/if}\n              </h3>\n              <p class=\"text-xs text-gray-500 mt-1\">Bookmarks with similar titles but different URLs</p>\n            </div>\n            <div class=\"p-6\">\n              {#if loadingSimilar}\n                <div class=\"flex items-center justify-center py-8\">\n                  <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600\"></div>\n                  <span class=\"ml-3 text-gray-500\">Analyzing similarities...</span>\n                </div>\n              {:else if similarBookmarks.length === 0}\n                <p class=\"text-gray-500\">No similar bookmarks found.</p>\n              {:else}\n                <div class=\"space-y-4 max-h-[32rem] overflow-y-auto\">\n                  {#each similarBookmarks.slice(0, similarDisplayLimit) as [bookmark1, bookmark2, similarity], pairIndex}\n                    <div class=\"border border-yellow-200 bg-yellow-50 rounded-lg p-4\">\n                      <div class=\"flex justify-between items-center mb-2\">\n                        <div class=\"text-xs text-yellow-700\">\n                          {Math.round(similarity * 100)}% similar\n                        </div>\n                      </div>\n                      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div class=\"p-2 bg-white rounded flex justify-between items-start\">\n                          <div class=\"flex-1 min-w-0\">\n                            <div class=\"text-sm font-medium truncate\">{bookmark1.title}</div>\n                            <div class=\"text-xs text-gray-500 truncate\">{bookmark1.url}</div>\n                          </div>\n                          <button\n                            on:click={() => deleteSimilarBookmark(bookmark1.id, pairIndex)}\n                            class=\"ml-2 px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 flex-shrink-0\"\n                            title=\"Remove this bookmark\"\n                          >\n                            Remove\n                          </button>\n                        </div>\n                        <div class=\"p-2 bg-white rounded flex justify-between items-start\">\n                          <div class=\"flex-1 min-w-0\">\n                            <div class=\"text-sm font-medium truncate\">{bookmark2.title}</div>\n                            <div class=\"text-xs text-gray-500 truncate\">{bookmark2.url}</div>\n                          </div>\n                          <button\n                            on:click={() => deleteSimilarBookmark(bookmark2.id, pairIndex)}\n                            class=\"ml-2 px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 flex-shrink-0\"\n                            title=\"Remove this bookmark\"\n                          >\n                            Remove\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  {/each}\n                </div>\n                {#if similarBookmarks.length > similarDisplayLimit}\n                  <div class=\"mt-4 text-center\">\n                    <button\n                      on:click={loadMoreSimilar}\n                      class=\"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200\"\n                    >\n                      Load More ({similarDisplayLimit} of {similarBookmarks.length} shown)\n                    </button>\n                  </div>\n                {/if}\n              {/if}\n            </div>\n          </div>\n          \n          <!-- Malformed URLs -->\n          <div class=\"bg-white rounded-lg shadow\">\n            <div class=\"px-6 py-4 border-b border-gray-200\">\n              <h3 class=\"text-lg font-medium text-gray-900\">\n                Invalid URLs {#if !loadingMalformed}({malformedUrls.length}){/if}\n              </h3>\n              <p class=\"text-xs text-gray-500 mt-1\">Bookmarks with unrecognized URL schemes</p>\n            </div>\n            <div class=\"p-6\">\n              {#if loadingMalformed}\n                <div class=\"flex items-center justify-center py-8\">\n                  <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600\"></div>\n                  <span class=\"ml-3 text-gray-500\">Checking URLs...</span>\n                </div>\n              {:else if malformedUrls.length === 0}\n                <p class=\"text-gray-500\">All bookmark URLs are valid.</p>\n              {:else}\n                <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {#each malformedUrls as bookmark}\n                    <BookmarkCard {bookmark} />\n                  {/each}\n                </div>\n              {/if}\n            </div>\n          </div>\n          \n          <!-- Backup & Restore Panel -->\n          <div class=\"bg-white rounded-lg shadow\">\n            <div class=\"px-6 py-4 border-b border-gray-200\">\n              <h3 class=\"text-lg font-medium text-gray-900\">\n                <svg class=\"w-5 h-5 inline-block mr-2 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4\"></path>\n                </svg>\n                Backup & Restore\n              </h3>\n              <p class=\"text-sm text-gray-500 mt-1\">\n                Protect your enrichment data - backup regularly!\n              </p>\n            </div>\n            <div class=\"p-6\">\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <!-- Backup Section -->\n                <div class=\"border border-gray-200 rounded-lg p-4\">\n                  <h4 class=\"font-medium text-gray-900 mb-3\">Create Backup</h4>\n                  <p class=\"text-sm text-gray-600 mb-4\">\n                    Download a complete backup of your bookmarks including all enrichment data, categories, and metadata.\n                  </p>\n                  <button\n                    on:click={handleDownloadBackup}\n                    disabled={backupInProgress}\n                    class=\"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center justify-center\"\n                  >\n                    {#if backupInProgress}\n                      <svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                        <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Creating Backup...\n                    {:else}\n                      <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path>\n                      </svg>\n                      Download Backup\n                    {/if}\n                  </button>\n                </div>\n                \n                <!-- Restore Section -->\n                <div class=\"border border-gray-200 rounded-lg p-4\">\n                  <h4 class=\"font-medium text-gray-900 mb-3\">Restore Backup</h4>\n                  <p class=\"text-sm text-gray-600 mb-4\">\n                    Restore from a backup file. Your current data will be auto-backed up first.\n                  </p>\n                  \n                  <label class=\"block\">\n                    <span class=\"sr-only\">Choose backup file</span>\n                    <input \n                      type=\"file\" \n                      accept=\".json\"\n                      on:change={handleFileSelect}\n                      class=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                    />\n                  </label>\n                  \n                  {#if backupValidation}\n                    <div class=\"mt-3 p-3 rounded-md {backupValidation.valid ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}\">\n                      {#if backupValidation.valid}\n                        <p class=\"text-sm text-green-800\">\n                           Valid backup from {backupValidation.createdAt}<br>\n                          <span class=\"text-xs text-green-600\">\n                            {backupValidation.metadata?.totalBookmarks || 0} bookmarks, \n                            {backupValidation.metadata?.enrichedCount || 0} enriched\n                          </span>\n                        </p>\n                        <button\n                          on:click={handleRestoreBackup}\n                          disabled={restoreInProgress}\n                          class=\"mt-2 w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm\"\n                        >\n                          {restoreInProgress ? 'Restoring...' : 'Restore This Backup'}\n                        </button>\n                      {:else}\n                        <p class=\"text-sm text-red-800\"> Invalid backup file</p>\n                        <ul class=\"text-xs text-red-600 mt-1\">\n                          {#each backupValidation.issues as issue}\n                            <li> {issue}</li>\n                          {/each}\n                        </ul>\n                      {/if}\n                    </div>\n                  {/if}\n                </div>\n              </div>\n              \n              <!-- Auto-backups Section -->\n              <div class=\"mt-6 border-t border-gray-200 pt-6\">\n                <div class=\"flex justify-between items-center mb-3\">\n                  <h4 class=\"font-medium text-gray-900\">Auto-Backups</h4>\n                  <button\n                    on:click={loadAutoBackups}\n                    class=\"text-sm text-blue-600 hover:text-blue-800\"\n                  >\n                    Refresh\n                  </button>\n                </div>\n                <p class=\"text-sm text-gray-600 mb-3\">\n                  Auto-backups are created before restore operations and enrichment runs. Last 3 are kept.\n                </p>\n                \n                {#if autoBackups.length === 0}\n                  <p class=\"text-gray-500 text-sm\">No auto-backups yet. They will appear after your first restore or enrichment run.</p>\n                {:else}\n                  <div class=\"space-y-2\">\n                    {#each autoBackups as backup, index}\n                      <div class=\"flex justify-between items-center p-3 bg-gray-50 rounded-md\">\n                        <div>\n                          <span class=\"text-sm font-medium text-gray-900\">\n                            {new Date(backup.createdAt).toLocaleString()}\n                          </span>\n                          <span class=\"text-xs text-gray-500 ml-2\">\n                            ({backup.metadata?.totalBookmarks || 0} bookmarks, {backup.metadata?.enrichedCount || 0} enriched)\n                          </span>\n                        </div>\n                        <button\n                          on:click={() => handleRestoreAutoBackup(index)}\n                          disabled={restoreInProgress}\n                          class=\"text-sm px-3 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded\"\n                        >\n                          Restore\n                        </button>\n                      </div>\n                    {/each}\n                  </div>\n                {/if}\n              </div>\n            </div>\n          </div>\n        {/if}\n      </div>\n    {/if}\n  </div>\n</div>\n","import Dashboard from './Dashboard.svelte';\n\nconst app = new Dashboard({\n  target: document.body\n});\n\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","document","createElement","href","globals","window","globalThis","global","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","to_number","set_data","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","select_option","select","mounting","option","__value","selected","undefined","selectedIndex","toggle_class","toggle","classList","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","type","detail","cancelable","callbacks","bubbles","CustomEvent","custom_event","slice","call","defaultPrevented","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","seen_callbacks","Set","flushidx","flush","saved_component","update","e","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","ensure_array_like","array_like_or_iterator","Array","from","outro_and_destroy_block","lookup","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","next","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","updates","child_ctx","get","set","Math","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","create_component","mount_component","new_on_destroy","map","filter","on_destroy","destroy_component","filtered","targets","indexOf","flush_render_callbacks","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","skip_bound","root","ready","ret","rest","hydrate","nodes","childNodes","children","l","intro","SvelteComponent","$$set","$destroy","this","$on","index","splice","$set","obj","keys","round","v","__svelte","lim","h","max","min","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","f","hex","h1","h2","eq","hexString","g","isShort","alpha","HUE_RE","hsl2rgbn","s","k","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","hueValue","calln","isArray","hsl2rgb","hue","hueParse","str","exec","p1","p2","hwb2rgb","hsv2rgb","x","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","nameParse","unpacked","tkeys","j","ok","nk","replace","parseInt","unpack","transparent","toLowerCase","RGB_RE","to","pow","modHSL","ratio","tmp","clone","proto","assign","fromObject","functionParse","charAt","rgbParse","Color","constructor","len","_rgb","_valid","valid","rgbString","hslString","mix","color","weight","c1","c2","w2","w1","interpolate","t","rgb1","rgb2","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","uid","id","isNullOrUndef","prototype","toString","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","parseFloat","args","thisArg","apply","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","source","klen","isValidKey","_merger","tval","sval","merge","sources","merger","current","mergeIf","_mergerIf","hasOwnProperty","keyResolvers","y","resolveObjectKey","resolver","parts","split","part","_splitKey","_getKeyResolver","_capitalize","toUpperCase","defined","isFunction","setsEqual","size","item","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","niceNum","range","roundedRange","niceRange","floor","fraction","isNumber","Symbol","toPrimitive","isNonPrimitive","isNaN","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","end","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","table","cmp","mid","hi","lo","_lookupByKey","last","ti","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","_arrayUnique","items","requestAnimFrame","requestAnimationFrame","throttled","argsToUse","ticking","_toLeftRightCenter","align","_alignStartEnd","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","vScale","_parsed","spanGaps","dataset","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","distanceToDefinedLo","findIndex","point","distanceToDefinedHi","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","intlCache","formatNumber","num","locale","cacheKey","JSON","stringify","formatter","Intl","NumberFormat","getNumberFormat","format","formatters","values","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","includes","Ticks","overrides","descriptors","getScope$1","scope","Defaults","_descriptors","_appliers","animation","backgroundColor","borderColor","datasets","devicePixelRatio","platform","getDevicePixelRatio","elements","events","font","family","lineHeight","hover","hoverBackgroundColor","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","override","route","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","enumerable","appliers","defaults","_scriptable","startsWith","_indexable","_fallback","delay","duration","easing","loop","properties","active","resize","show","animations","visible","hide","autoPadding","padding","top","right","bottom","left","display","offset","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","width","title","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","_measureText","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","borderWidth","stroke","_isPointInArea","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","decorateText","line","opts","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","fillStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","translation","textAlign","textBaseline","setRenderOpts","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","toFontString","inputs","info","cacheable","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","getValue","join","_resolveScriptable","isIndexable","arr","_resolveArray","_resolveWithContext","allKeys","configurable","scriptable","indexable","_allKeys","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","parsed","parse","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","splineCurveMonotone","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","capControlPoint","pt","_updateBezierControlPoints","controlPoints","cubicInterpolationMode","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","ownerDocument","defaultView","positions","getPositionedStyle","styles","suffix","result","pos","getRelativePosition","borderBox","boxSizing","paddings","borders","box","touches","offsetX","offsetY","shadowRoot","useOffsetPos","getBoundingClientRect","clientX","clientY","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","_boundSegment","segment","startBound","endBound","getSegment","prevValue","inside","subStart","shouldStart","shouldStop","_boundSegments","segments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","getSizeForArea","chartArea","field","getDatasetClipArea","_clip","disabled","getDatasetArea","Animator","_request","_charts","_running","_lastDate","_notify","anims","date","numSteps","initial","currentStep","_refresh","_update","Date","now","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","progress","cb","reduce","acc","cur","_duration","stop","cancel","remove","animator","interpolators","boolean","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","_start","_loop","_target","_prop","_from","_to","_promises","elapsed","wait","promises","res","rej","resolved","method","Animations","config","_properties","configure","animationOptions","animatedProps","getOwnPropertyNames","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","all","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","found","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","_visualValues","getFirstScaleId","shift","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","static","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","_stacked","addElements","isPluginEnabled","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","iAxisKey","vAxisKey","adata","convertObjectDataToArray","isExtensible","defineProperty","base","object","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","hidden","createStack","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","toClip","defaultClip","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","arguments","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","concat","sort","getAllScaleValues","curr","_length","updateMinAndPrev","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","DoughnutController","animateRotate","animateScale","cutout","circumference","spacing","legend","generateLabels","fontColor","getDataVisibility","legendItem","toggleDataVisibility","super","innerRadius","outerRadius","getter","_getRotation","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","getMaxBorderWidth","getMaxOffset","maxSize","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","calculateCircumference","animationOpts","centerX","centerY","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","PolarAreaController","angleLines","circular","pointLabels","bind","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","controllers","__proto__","BarController","categoryPercentage","barPercentage","grouped","_index_","_value_","bars","getBasePixel","isHorizontal","ruler","_getRuler","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","currentParsed","iScaleValue","skipNull","find","_getStackCount","_getAxisCount","_getAxis","getFirstScaleIdForIndexAxis","indexScaleId","firstScaleAxisId","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","baseValue","minBarLength","actualBase","floating","barSign","startPixel","getPixelForDecimal","endPixel","getValueForPixel","halfGrid","getLineWidthForValue","maxBarThickness","Infinity","axisCount","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","axisID","axisNumber","stackIndex","rects","BubbleController","LineController","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","lastPoint","updateControlPoints","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","registry","getElement","abstract","DateAdapterBase","members","formats","diff","startOf","endOf","adapters","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","position","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","isPointInArea","inRange","getNearestCartesianItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","getNearestItems","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","setLayoutDims","layouts","params","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","layoutBoxes","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","initCanvas","proxies","$proxies","attach","isConnected","Element","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","newTicks","ceil","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","offsetFromEdge","getTicksLimit","ticksLength","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","idx","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","step","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","titleX","titleY","titleArgs","tz","gz","bz","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","itemDefaults","defaultRoutes","routes","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","Registry","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","getIndexAxis","datasetDefaults","idMatchesAxis","axisFromPosition","determineAxis","scaleOptions","getAxisFromDataset","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","error","boundDs","retrieveAxisFromDatasets","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","initOptions","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","OffscreenCanvas","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","timeout","clearTimeout","setTimeout","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","pixelMargin","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","pCenter","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","fullCircles","inner","lineJoin","angleMargin","clipArc","selfJoin","outerAngleClip","innerAngleClip","clipWidth","clipSelf","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","path","_path","strokePathWithCache","segmentMethod","strokePathDirect","LineElement","_points","_segments","_pointsUpdated","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","inRange$1","hitRadius","getBarBounds","bar","half","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","outer","skipX","skipY","addNormalRectPath","inflateRect","amount","refRect","ArcElement","chartX","chartY","rAdjust","nonZeroBetween","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","drawArc","BarElement","addRectPath","mouseX","mouseY","inXRange","inYRange","PointElement","hoverRadius","BORDER_COLORS","BACKGROUND_COLORS","getBorderColor","getBackgroundColor","getColorizer","colorizeDoughnutDataset","colorizePolarAreaDataset","colorizeDefaultDataset","containsColorsDefinitions","plugin_colors","forceOverride","_args","chartOptions","containsColorDefenition","colorizer","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","getStartAndCountOfVisiblePointsSimplified","threshold","decimated","samples","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","_getBounds","_findSegmentEnd","_getEdge","_createBoundaryLine","boundary","linePoints","_pointsFromSegments","_shouldApplyFill","_resolveTarget","propagate","visited","_decodeFill","fillOption","parseFillOption","firstCh","decodeTargetIndex","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","unshift","pointValue","firstValue","lastValue","simpleArc","getLineByIndex","sourcePoints","below","getLinesBelow","_buildStackLine","_getTargetValue","computeCircularBoundary","_getTargetPixel","computeLinearBoundary","computeBoundary","_drawfill","lineOpts","above","fillColor","clipVertical","clipHorizontal","doFill","clipY","lineLoop","clipX","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","src","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","afterDatasetsUpdate","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","legendItemText","calculateItemWidth","fontLineHeight","calculateLegendItemHeight","calculateItemHeight","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","cursor","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","plugin_legend","_element","afterEvent","ci","useBorderRadius","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","formattedValue","getTooltipSize","tooltip","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","defaultCallbacks","beforeTitle","tooltipItems","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","Colors","Decimation","Filler","SubTitle","findOrAddLabel","addedLabels","addIfString","lastIndexOf","_getLabelForValue","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","relativeLabelSize","LinearScaleBase","_startValue","_endValue","_valueRange","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","LinearScale","log10Floor","changeExponent","isMajor","tickVal","steps","rangeExp","rangeStep","generateTicks","minExp","exp","startExp","lastTick","LogarithmicScale","_zero","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","updateLimits","setCenterPoint","_pointLabelItems","itemOpts","extra","createPointLabelItem","isNotOverlapped","buildPointLabelItems","hLimits","vLimits","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","drawPointLabelBox","backdropLeft","backdropTop","backdropWidth","backdropHeight","pathRadiusLine","RadialLinearScale","animate","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","getBasePosition","getPointLabelPosition","drawPointLabels","gridLineOpts","drawRadiusLine","INTERVALS","millisecond","common","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","addTick","time","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","displayFormats","_unit","_majorUnit","_offsets","_normalized","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","CategoryScale","_addedLabels","added","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables","formatDate","timestamp","toLocaleDateString","getFaviconUrl","bookmark","firstLetter","domain","getDomainLabel","async","copyToClipboard","navigator","clipboard","writeText","err","SORT_OPTIONS","DATE_DESC","dateAdded","DATE_ASC","TITLE_ASC","localeCompare","TITLE_DESC","DOMAIN_ASC","svg","t1_value","folderPath","p_title_value","t1","t3_value","t5_value","create_if_block_1","if_block1","create_if_block","img","img_src_value","h3","h3_title_value","div4","div3","div2","div1","span0","div0","button","span1","t3","t5","t8","t8_value","openBookmark","chrome","tabs","$$props","showCopied","stopPropagation","$$invalidate","t2_value","t4_value","t6_value","create_if_block_2","div6","div5","span2","button0","button1","t2","t4","t6","t9","t9_value","isSelected","multiSelectMode","dispatch","handleTitleClick","bookmarkId","checked","aa","ba","ca","ea","ha","ia","ja","ka","la","query","suggest","resolution","boost","ma","search","include","exclude","RegExp","letter","symbol","punctuation","control","char","prepare","finalize","dedupe","matcher","mapper","stemmer","minlength","maxlength","addStemmer","addFilter","addMapper","addReplacer","addMatcher","encode","u","na","oa","ra","sa","ta","ua","q","va","Exact","Default","Normalize","LatinBalance","LatinAdvanced","LatinExtra","LatinSoundex","CJK","LatinExact","LatinDefault","LatinSimple","wa","xa","Aa","BigInt","Ba","charCodeAt","Ca","Da","Ha","Ia","Ja","Ea","task","factory","Function","self","FlexSearch","Index","postMessage","export","import","await","msg","Fa","Ga","Ka","priority","La","worker","on","onmessage","encoder","_factory","module","require","__dirname","_nodeResolve_empty$1","dirname","Worker","URL","createObjectURL","Blob","Ma","Ra","Qa","Sa","Ta","Ua","highlight","enrich","queue","tag","pluck","searchAsync","and","Va","or","not","xor","return","Wa","Xa","Ya","Za","$a","ab","bb","flat","template","substring","ellipsis","pattern","da","db","pa","Oa","qa","ya","doc","trim","za","Pa","eb","gb","store","Na","hb","keystore","fastupdate","ib","mount","lb","mb","nb","ob","pb","qb","rb","sb","tb","searchCache","support_tag_search","bypass","commit","contain","cleanup","depth","commit_task","del","ub","vb","memory","performance","tokenize","score","wb","Ab","xb","yb","zb","bidirectional","preset","commit_timer","ins","serialize","Bb","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","Cb","Db","Fb","continue","onsuccess","oncomplete","onerror","onblocked","Eb","open","persist","onupgradeneeded","objectStoreNames","createObjectStore","onversionchange","close","deleteDatabase","transaction","objectStore","getKey","finally","put","openCursor","Document","exports","extendStatics","setPrototypeOf","__extends","TypeError","__","__assign","__spreadArray","pack","ar","_global","extend","extension","getProto","_hasOwn","hasOwn","setProp","functionOrGetSet","derive","Child","Parent","getPropertyDescriptor","_slice","origFunc","overridedFactory","assert","asap$1","setImmediate","arrayToObject","extractor","nameAndValue","getByKeyPath","keyPath","rv","period","innerObj","substr","setByKeyPath","isFrozen","currentKeyPath","remainingKeyPath","delByKeyPath","kp","shallowClone","flatten","intrinsicTypeNames","intrinsicTypes","cloneSimpleObjectTree","objectIsEmpty","circularRefs","deepClone","any","innerDeepClone","iteratorSymbol","iterator","getIteratorOf","delArrayItem","NO_CHAR_ARRAY","getArrayOf","arrayLike","it","done","isAsyncFunction","idbDomErrorNames","errorList","defaultTexts","VersionChanged","DatabaseClosed","Abort","TransactionInactive","MissingAPI","DexieError","message","getMultiErrorMessage","failures","ModifyError","successCount","failedKeys","BulkError","failuresByPos","errnames","BaseException","exceptions","fullName","msgOrInner","Syntax","SyntaxError","Type","Range","RangeError","exceptionMap","mapError","domError","fullNameExceptions","nop","pureFunctionChain","f1","f2","callBoth","on1","on2","hookCreatingChain","res2","hookDeletingChain","hookUpdatingChain","modifications","reverseStoppableEventChain","promisableChain","thiz","debug","location","test","setDebug","INTERNAL","ZONE_ECHO_LIMIT","_a$1","globalP","crypto","subtle","nativeP","digest","Uint8Array","resolvedNativePromise","nativePromiseProto","resolvedGlobalPromise","nativePromiseThen","NativePromise","patchGlobalPromise","schedulePhysicalTick","queueMicrotask","physicalTick","asap","microtickQueue","needsNewPhysicalTick","isOutsideMicroTick","unhandledErrors","rejectingErrors","rejectionMapper","globalPSD","ref","unhandleds","onunhandled","pgp","env","PSD","numScheduledCalls","tickFinalizers","DexiePromise","_lib","psd","_PSD","_state","_value","handleRejection","executePromiseTask","thenProp","microTaskId","totalEchoes","onFulfilled","onRejected","_this","possibleAwait","decrementExpectedAwaits","reject","propagateToListener","Listener","nativeAwaitCompatibleWrap","_consoleTask","zone","promise","shouldExecuteTick","beginMicroTickScope","_then","propagateAllListeners","endMicroTickScope","ex","reason","addPossiblyUnhandledError","finalizePhysicalTick","callListener","markErrorAsHandled","usePSD","wasRootExec","unhandledErrs","finalizers","run_at_end_of_this_or_next_physical_tick","finalizer","PromiseReject","errorCatcher","outerScope","switchToZone","catch","onFinally","ms","handle","Timeout","snapShot","onPossibleParallellAsync","race","newPSD","newScope","scheduler","follow","zoneProps","allSettled","possiblePromises","results","status","AggregateError","failure","withResolvers","awaits","echoes","taskCounter","zoneStack","zoneEchoes","zone_id_counter","a2","PromiseProp","incrementExpectedAwaits","possiblePromise","rejection","zoneEnterEcho","targetZone","zoneLeaveEcho","bEnteringZone","currentZone","GlobalPromise","targetEnv","a3","outerZone","execInGlobalContext","enqueueNativeMicroTask","tempTransaction","storeNames","idbdb","openComplete","letThrough","_vip","trans","_createTransaction","_dbSchema","PR1398_maxLoop","InvalidState","isOpen","disableAutoOpen","_promise","idbtrans","_a","_completion","dbOpenError","isBeingOpened","autoOpen","dbReadyPromise","DEXIE_VERSION","maxString","fromCharCode","minKey","INVALID_KEY_ARGUMENT","STRING_EXPECTED","connections","DBNAMES_DB","READONLY","READWRITE","combine","filter1","filter2","AnyRange","lower","lowerOpen","upper","upperOpen","workaroundForUndefinedPrimKey","Entity","compareUint8Arrays","getUint8Array","compareArrays","al","bl","ArrayBuffer","isView","tsTag","buffer","byteOffset","byteLength","builtInDeletionTrigger","yProps","schema","numFailures","_","updatesTable","where","anyOf","PropModification","spec","execute","term","_b","subtrahend_1","_c","prefixToReplace","replacePrefix","applyUpdateSpec","keyPaths","numKeys","anythingModified","origValue","Table","_trans","writeLocked","_tx","tableName","createTask","checkTableInTransaction","NotFound","_novip","transless","trace","keyOrCrit","core","reading","fire","indexOrCrit","WhereClause","equals","compoundIndex","indexes","primKey","ix","compound","every","_maxKey","keyPathsInValidOrder","idxByName","prevIndex","prevFilterFn","multi","filterFunction","toCollection","thenShortcut","numRows","toArray","Collection","orderBy","mapToClass","mappedClass","_super","class_1","inheritedProps","propName","readHook","unsubscribe","defineClass","Class","content","auto","objToAdd","mutate","lastResult","upsert","existing","changeSpecs","keyOrObject","modify","InvalidArgument","bulkGet","getMany","bulkAdd","objects","keysOrOptions","wantResults","numObjects","objectsToAdd","bulkPut","objectsToPut","bulkUpdate","keysAndChanges","coreTable","offsetMap","objs","resultKeys","resultObjs","_i","Constraint","numEntries","mappedOffset","bulkDelete","Events","evs","eventName","subscriber","subscribe","addEventType","chainFunction","defaultFunction","addConfiguredEvents","subscribers","makeClassConstructor","createTableConstructor","tableSchema","_allTables","creating","updating","deleting","isPlainKeyRange","ignoreLimitFilter","justLimit","replayFilter","addReplayFilter","isLimitFilter","addMatchFilter","isMatch","getIndexOrStore","coreSchema","isPrimKey","primaryKey","getIndexByKeyPath","Schema","keysOnly","unique","iter","coreTrans","set_1","union","advance","fail","_iterate","iterate","valueMapper","cursorPromise","wrappedFn","advancer","_read","_write","_addAlgorithm","sortBy","lastPart","getval","valueMapper_1","a_1","rowsLeft","until","bIncludeStopEntry","indexName","_ondirectionchange","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","strKey","modifyer","outbound","extractKey","modifyChunkSize","totalFailures","applyMutateResult","expectedCount","isUnconditionalDelete","deleteCallback","criteria","nextChunk","keysInChunk","addValues","putValues","putKeys","deleteKeys","ctx_1","changeSpec","isAdditionalChunk","coreRange","createCollectionConstructor","whereClause","keyRangeGenerator","keyRange","whereCtx","readingHook","simpleCompare","simpleCompareReverse","collectionOrWhereClause","collection","emptyCollection","rangeEqual","upperFactory","lowerFactory","nextCasing","lowerKey","upperNeedle","lowerNeedle","llp","lwrKeyChar","addIgnoreCaseAlgorithm","needles","upperNeedles","lowerNeedles","nextKeySuffix","needlesLen","initDirection","needleBounds","needle","createRange","firstPossibleNeedle","lowestPossibleCasing","casing","includeLower","includeUpper","_cmp","aboveOrEqual","belowOrEqual","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","ranges","ascending","descending","_min","_max","addRange","newRange","sortDirection","rangeSorter","rangePos","keyIsBeyondCurrentEntry","keyIsBeforeCurrentEntry","keyWithinCurrentRange","checkKey","startsWithAnyOf","createWhereClauseConstructor","orCollection","_IDBKeyRange","_deps","IDBKeyRange","eventRejectHandler","preventDefault","DEXIE_STORAGE_MUTATED_EVENT_NAME","STORAGE_MUTATED_DOM_EVENT_NAME","globalEvents","Transaction","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","fnAndPSD","OpenFailed","durability","chromeTransactionDurability","ev","_reject","onabort","storagemutated","bWriteLock","ReadOnly","_root","waitFor","promiseLike","_waitingFor","_waitingQueue","spin","_spinCount","currentWaitPromise","abort","memoizedTables","_memoizedTables","transactionBoundTable","createTransactionConstructor","dbschema","storeName","wasActive","createIndexSpec","nameFromKeyPath","createTableSchema","safariMultiStoreFix","getMaxKey","IdbKeyRange","only","getKeyExtractor","getSinglePathKeyExtractor","arrayify","_id_counter","getKeyPathAlias","createDBCore","tmpTrans","extractSchema","tables","autoIncrement","indexByKeyPath","isPrimaryKey","indexNames","multiEntry","hasGetAll","userAgent","makeIDBKeyRange","upperBound","lowerBound","createDbCoreTable","isAddOrPut","req","reqs","errorHandler","args1","args2","openKeyCursor","___id","_cursorContinue","_cursorContinuePrimaryKey","continuePrimaryKey","_cursorAdvance","doThrowCursorIsNotStarted","doThrowCursorIsStopped","gotOne","iterationPromise","resolveIteration","rejectIteration","guardedCallback","request","nonInfinitLimit","idbKeyRange","getAll","getAllKeys","count_1","req_1","result_1","keyCount","callbackCount","successHandler","_pos","tableMap","MIN_KEY","MAX_KEY","createMiddlewareStack","stackImpl","middlewares","down","createMiddlewareStacks","dbcore","generateMiddlewareStacks","_middlewares","tbl","setApiOnPlace","tableNames","propDesc","removeTablesApi","lowerVersionFirst","_cfg","version","runUpgraders","oldVersion","idbUpgradeTrans","globalSchema","$meta","parseIndexSyntax","_storeNames","rejectTransaction","getExistingVersion","updateTablesAndIndexes","createTable","populate","patchCurrentVersion","createMissingTables","buildGlobalSchema","adjustToExistingIndexNames","_loop_1","tableChange","recreate","addIndex","getSchemaDiff","state_1","metaVersion","versions","_versions","versToRun","runQueue","oldSchema","newSchema","tuple","Upgrade","store_1","deleteIndex","idxName","contentUpgrade","upgradeSchema_1","returnValue_1","contentUpgradeIsAsync_1","promiseFollowed","decrementor","deleteRemovedTables","deleteObjectStore","oldDef","newDef","def","oldIndexes","newIndexes","oldIdx","newIdx","createIndex","idbindex","readGlobalSchema","verno","verifyInstalledSchema","ch","_hasGetAll","dexieName","indexSpec","WorkerGlobalScope","primKeyAndIndexes","indexNum","typeSplit","Version","_createTableSchema","_parseIndexSyntax","_parseStoresSpec","stores","outSchema","tblSchema","storesSource","storesSpec","upgrade","upgradeFunction","createVersionConstructor","versionNumber","getDbNamesTable","dbNamesDB","Dexie$1","addons","dbnames","hasDatabasesNative","databases","getDatabaseNames","infos","_onDatabaseCreated","_onDatabaseDeleted","vip","idbReady","intervalId","userAgentData","tryIdb","setInterval","clearInterval","isEmptyRange","RangeSet","fromOrTree","rebalance","rightWasCutOff","mergeRanges","newSet","_addRangeSet","rangesOverlap","rangeSet1","rangeSet2","i1","getRangeSetIterator","nextResult1","i2","nextResult2","state","keyProvided","up","rootClone","oldRootRight","computeDepth","extendObservabilitySet","obsSetsOverlap","os1","os2","rangeSet","addKey","addKeys","hasKey","unsignaledParts","isTaskEnqueued","signalSubscribersLazily","optimistic","signalSubscribersNow","updatedParts","deleteAffectedCacheEntries","queriesToSignal","collectTableSubscribers","tblCache","dbName","requery","outQueriesToSignal","updatedEntryLists","queries","filteredEntries","entries_1","obsSet","_d","updatedEntryLists_1","_e","dexieOpen","openCanceller","nativeVerToOpen","schemaPatchMode","throwIfCancelled","resolveDbReady","dbReadyResolve","upgradeTransaction","wasCreated","tryOpenDB","autoSchema","_fireOnBlocked","allowEmptyDB","delreq","NoSuchDatabase","oldVer","vcFired","onclose","onReadyBeingFired","fireRemainders","remainders_1","_close","everything_1","awaitIterator","callNext","doThrow","throw","onSuccess","onError","getNext","extractTransactionArgs","_tableArgs_","scopeFunc","enterTransactionScope","parentTransaction","explicit","_explicit","returnValue","scopeFuncIsAsync","PrematureCommit","pad","createVirtualIndexMiddleware","indexLookup","allVirtualIndexes","addVirtualIndexes","keyTail","lowLevelIndex","keyPathAlias","indexList","keyLength","isVirtual","virtualIndex","findBestIndex","translateRange","translateRequest","createVirtualCursor","_continue","virtualCursor","virtualIndexMiddleware","level","getObjectDiff","prfx","ap","bp","apTypeName","getEffectiveKeys","hooksMiddleware","downCore","downTable","tableMiddleware","dxTrans","addPutOrDelete","deleteRange","getExistingValues","existingValues","contexts","existingValue","generatedPrimaryKey","objectDiff","additionalChanges_1","requestedValue_1","deleteNextChunk","effectiveKeys","getFromTransactionCache","cacheExistingValuesMiddleware","cachedResult","isCachableContext","subscr","isCachableRequest","observabilityMiddleware","FULL_RANGE","querier","indexesWithAutoIncPK","tableClone","mutatedParts","getRangeSet","pkRangeSet","delsRangeSet","newObjs","oldCache","oldObjs","trackAffectedIndexes","idxVals","pkPos","readSubscribers","isLiveQuery","pkRangeSet_1","delsRangeSet_1","queriedIndex","queriedRanges","keysPromise_1","resultingKeys","pKeys","cursor_1","wantValues_1","pkey","addAffectedIndex","addKeyOrKeys","oldKey","newKey","adjustOptimisticFromFailures","numBulkOps","isAboveLower","isBelowUpper","isWithinRange","applyOptimisticOps","ops","cacheEntry","immutable","queryRange","extractPrimKey","extractIndex","extractLowLevelIndex","finalResult","op","modifedResult","includedValues","includedPKs","pk","existingKeys_1","keySet_1","keysToDelete_1","range_1","areRangesEqual","r1","r2","compareLowers","lower1","lower2","lowerOpen1","lowerOpen2","compareUppers","upper1","upper2","upperOpen1","upperOpen2","isSuperRange","findCompatibleQuery","equalEntry","countQuery","subscribeToCacheEntry","signal","enqueForDeletion","cacheMiddleware","coreMW","ac_1","AbortController","endTransaction","wasCommitted","affectedSubscribers_1","stores_1","optimisticOps","_f","_g","_h","freezeResults","modRes","tableMW","adjustedReq","reqWithResolvedKeys","valueWithKey","exactMatch","vipify","vipDb","domDeps","Dexie","deps","dependencies","cancelOpen","once","bSticky","db_1","newVersion","use","vipDB","addon","versionInstance","_whenReady","unuse","mw","closeOptions","hasInvalidArguments","doDelete","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","idbMode","onlyIfCompatible","SubTransaction","enterTransaction","InvalidTable","symbolObservable","observable","Observable","_subscribe","webkitIDBKeyRange","liveQuery","abortController","closed","accumMuts","currentObs","subscription","startedListening","mutationListener","doQuery","_doQuery","shouldNotify","aborted","propagateLocally","updateParts","wasMe","propagatingLocally","databaseName","exists","ignoreTransaction","generatorFn","spawn","currentTransaction","promiseOrFunction","optionalTimeout","semVer","maxKey","dispatchEvent","event_1","bc","createBC","BroadcastChannel","unref","changedParts","disableBfCache","persisted","connections_1","default","DexieSymbol","for","_Dexie","bookmarks","enrichmentQueue","settings","tx","log","similarities","computedMetrics","DEFAULT_SETTINGS","enrichmentEnabled","enrichmentSchedule","enrichmentBatchSize","enrichmentConcurrency","enrichmentRateLimit","enrichmentFreshnessDays","autoCategorizationEnabled","deadLinkCheckEnabled","privacyMode","trackBrowsingBehavior","getAllBookmarks","getDomainStats","domainCount","getActivityTimeline","monthlyCount","monthKey","getFullYear","getMonth","padStart","CACHE_DURATIONS","domainStats","activityTimeline","wordFrequency","ageDistribution","categoryTrends","expertiseAreas","quickStats","duplicates","insightsSummary","getCachedMetric","computeFn","ttlMs","validUntil","computedAt","getConsolidatedDomainAnalytics","domainData","latestDate","oldestDate","enrichedCount","lastChecked","domainArray","totalBookmarks","percentage","byRecency","byCount","top10","totalDomains","getBookmarkAgeDistribution","ageGroups","DAY","WEEK","MONTH","age","getBookmarkCreationPatterns","hourPatterns","dayPatterns","monthPatterns","dayNames","monthNames","getHours","getDay","hourly","daily","monthly","getTitleWordFrequency","wordCount","stopWords","word","findDuplicates","urlMap","normalizedUrl","group","findMalformedUrls","validSchemes","scheme","getQuickStats","uncategorized","rootFolders","findUncategorizedBookmarks","malformed","enriched","deadLinks","isAlive","uniqueDomains","pending","enrichedPercentage","duplicateGroups","addedThisWeek","addedThisMonth","oldestBookmark","oldest","newestBookmark","newest","deleteBookmarks","bookmarkIds","errors","changeType","invalidateMetricCaches","success","getTitlePatterns","patterns","getUrlPatterns","protocols","topLevelDomains","pathPatterns","subdomainPatterns","protocol","hostname","tld","subdomain","pathSegments","pathname","firstSegment","subdomains","getUrlParameterUsage","parameterCount","urlsWithParams","totalUrls","searchParams","parameters","getDomainDistribution","sortedDomains","othersCount","sum","distribution","createBackup","categorizedCount","category","schemaVersion","createdAt","toISOString","metadata","eventsCount","similaritiesCount","restoreFromBackup","backup","restoreBookmarks","restoreSettings","restoreEvents","restoreSimilarities","mergeMode","bookmarksRestored","settingsRestored","eventsRestored","similaritiesRestored","existingBookmarks","existingMap","existingTime","clearAllMetricCaches","backupMetadata","createAutoBackup","autoBackups","searchIndex","indexInitialized","initializeSearchIndex","cachedIndex","ttl","getCache","serialized","optimize","addToIndex","setCache","rebuildSearchIndex","description","keywords","div","button_class_value","debounceTimer","inputElement","placeholder","showSuggestions","suggestions","showSuggestionsList","selectedSuggestionIndex","selectSuggestion","suggestion","blur","fieldResult","getSearchSuggestions","getSuggestions","$$value","t0_value","dateRange","t0","t_value","formatTimeAgo","if_block","button_title_value","domains","folders","t13_value","t23_value","each_value_3","each_value_2","create_if_block_4","each_value_1","each_value","button2","button3","button4","div10","h40","div7","h41","div9","h42","div8","t13","t23","days","domainsByRecency","domainsByCount","selectedFilters","domainSortMode","toggleDomainFilter","dispatchFilters","toggleFolderFilter","folder","applyDateFilter","startDate","getTime","endDate","setDateFilter","getDomainsByRecency","getDomainsByCount","loadDomains","getUniqueFolders","currentDomains","getDomainHierarchy","hierarchy","urlObj","hostParts","domainKey","paths","topPath","getContentFreshness","Older","thresholds","getInsightsSummary","weekAgo","monthAgo","categorized","aliveChecked","neverAccessed","lastAccessed","accessCount","recentEvents","accessEvents","createEvents","categoryCount","topCategories","categorizedPercentage","toFixed","neverAccessedPercentage","accessEventsThisWeek","createEventsThisWeek","getEventStatistics","eventsByType","eventsByDay","dayKey","byType","last30Days","summary","timeline","totalEvents","create_if_block_12","create_if_block_52","create_if_block_51","create_if_block_50","if_block3","create_if_block_48","create_if_block_44","create_if_block_42","create_if_block_43","create_if_block_41","create_if_block_38","create_if_block_39","create_if_block_37","create_if_block_33","create_if_block_34","create_if_block_32","create_if_block_29","create_if_block_30","create_if_block_28","create_if_block_25","create_if_block_23","create_if_block_22","label0","input0","label1","input1","h31","div12","h32","div11","div15","div13","h33","p3","div14","div18","div16","h34","div17","div26","div19","div25","div22","div20","p6","div21","p7","label2","input2","div24","div23","t12_value","t16_value","t20_value","t12","t16","t20","queueSize","strong1","strong1_class_value","strong0","completed","create_if_block_49","div0_title_value","create_if_block_45","div_class_value","processed","failed","create_if_block_47","skipped","create_if_block_46","t7","t7_value","strong","details","toLocaleTimeString","span1_title_value","each_value_13","create_if_block_40","a_href_value","each_value_11","create_if_block_35","create_if_block_36","h4","each_value_10","create_if_block_31","t11_value","t11","each_blocks","circle","create_if_block_24","each_value_8","issues","ul","br","li","toLocaleString","t36_value","t40_value","create_if_block_18","create_if_block_15","create_if_block_14","create_if_block_13","h35","div34","div27","div30","div28","div29","div33","div31","div32","t32","t32_value","t36","t40","create_if_block_19","each_value_6","each_value_4","each_value_5","create_if_block_17","create_if_block_16","t14_value","t19_value","t14","t19","searchQuery","create_if_block_10","create_if_block_9","create_if_block_8","create_if_block_5","option_1","bookmarklistitem_changes","create_if_block_6","header","nav","loading","currentView","currentPage","totalCount","hasMore","currentSortBy","currentFilters","domainChart","activityChart","wordCloudChart","titlePatternsChart","ageDistributionChart","creationPatternsChart","urlPatternsChart","domainDistributionChart","domainHierarchyChart","freshnessChart","malformedUrls","similarBookmarks","loadingDeadLinks","enrichmentStatus","runningEnrichment","enrichmentResult","enrichmentProgress","enrichmentLogs","domainHierarchy","contentFreshness","eventStats","loadingDuplicates","loadingSimilar","loadingMalformed","duplicatesDisplayLimit","similarDisplayLimit","deadLinksDisplayLimit","urlParameterData","backupInProgress","restoreInProgress","showRestoreDialog","restoreFile","backupValidation","selectedBookmarks","viewMode","loadBookmarksPaginated","page","filters","pageSize","lowerQuery","isEnriched","totalPages","getBookmarksPaginated","handleSortChange","sortKey","switchView","view","loadInsights","loadHealthData","titleWords","titlePatterns","creationPatterns","urlPatterns","urlParameterUsage","domainDistribution","hierarchyData","freshnessData","summaryData","eventData","domainCtx","domainDistCtx","activityCtx","wordCtx","patternsCtx","ageCtx","creationCtx","urlCtx","hierarchyCtx","topDomains","freshnessCtx","loadEnrichmentStatus","dups","getDeadLinks","links","maxPairs","similar","wordSets","words","words1","words2","intersection","similarity","findSimilarBookmarks","response","runtime","sendMessage","action","getSettings","deleteSimilarBookmark","pairIndex","deleteDuplicate","groupIndex","handleRestoreAutoBackup","confirm","restoreFromAutoBackup","alert","reload","onMessage","sender","sendResponse","logEntry","batchSize","concurrency","deleteBookmark","blob","filename","download","click","revokeObjectURL","downloadBackup","file","files","validateBackup","listAutoBackups","exportData","exportDate","exportBookmarks","selected_option","querySelector","select_value","bookmark1","bookmark2","app"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,16,17,18]}